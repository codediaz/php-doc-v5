<!-- <div id="getting-started" class="book"><hr />
    <h1 class="title">Getting Started</h1>
    <div id="introduction" class="chapter"><hr />
        <div class="info"><h1>Introduction</h1>
      <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#intro-whatis">What is PHP?</a></li><li><a href="#intro-whatcando">What can PHP do?</a></li></ul>
      </div> -->

      <div id="introduction" class="chapter"><hr />
        <div class="info"><h1>Introduction</h1>
      <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#intro-whatis">What is PHP?</a></li><li><a href="#intro-whatcando">What can PHP do?</a></li></ul>
      </div>
      
        <div id="intro-whatis" class="section"><hr />
         <div class="info"><h1 class="title">What is PHP?</h1></div>
         <p class="para">
          <acronym title="PHP: Hypertext Preprocessor">PHP</acronym> (recursive acronym for <code class="literal">PHP: Hypertext
          Preprocessor</code>) is a widely-used open source general-purpose
          scripting language that is especially suited for web
          development and can be embedded into HTML.
         </p>
         <p class="para">
          Nice, but what does that mean? An example:
         </p>
         <p class="para">
          <div class="example" id="example-1">
           <div class="info"><p><strong>Example #1 An introductory example</strong></p></div>
           <div class="example-contents">
      <div class="phpcode"><code><span style="color: #000000">
      &lt;!DOCTYPE&nbsp;html&gt;<br />&lt;html&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Example&lt;/title&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Hi,&nbsp;I'm&nbsp;a&nbsp;PHP&nbsp;script!"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span><br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br />&lt;/html&gt;</span>
      </code></div>
           </div>
      
          </div>
         </p>
         <p class="para">
          Instead of lots of commands to output HTML (as seen in C or Perl),
          PHP pages contain HTML with embedded code that does
          &quot;something&quot; (in this case, output &quot;Hi, I&#039;m a PHP script!&quot;).
          The PHP code is enclosed in special <a href="#language.basic-syntax.phpmode" class="link">start and end processing
          instructions <code class="code">&lt;?php</code> and <code class="code">?&gt;</code></a>
          that allow you to jump into and out of &quot;PHP mode.&quot;
         </p>
         <p class="para">
          What distinguishes PHP from something like client-side JavaScript
          is that the code is executed on the server, generating HTML which
          is then sent to the client. The client would receive
          the results of running that script, but would not know
          what the underlying code was. You can even configure your web server
          to process all your HTML files with PHP, and then there&#039;s really no
          way that users can tell what you have up your sleeve.
         </p>
         <p class="para">
          The best things in using PHP are that it is extremely simple
          for a newcomer, but offers many advanced features for
          a professional programmer. Don&#039;t be afraid reading the long
          list of PHP&#039;s features. You can jump in, in a short time, and
          start writing simple scripts in a few hours.
         </p>
         <p class="para">
          Although PHP&#039;s development is focused on server-side scripting,
          you can do much more with it. Read on, and see more in the
          <a href="#intro-whatcando" class="link">What can PHP do?</a> section,
          or go right to the <a href="#tutorial" class="link">introductory
          tutorial</a> if you are only interested in web programming.
         </p>
        </div>
      <hr />
      
      
        <div id="intro-whatcando" class="section"><hr />
         <div class="info"><h1 class="title">What can PHP do?</h1></div>
         <p class="para">
          Anything. PHP is mainly focused on server-side scripting,
          so you can do anything any other CGI program can do, such
          as collect form data, generate dynamic page content, or
          send and receive cookies. But PHP can do much more.
         </p>
         <p class="para">
          There are three main areas where PHP scripts are used.
          <ul class="itemizedlist">
           <li class="listitem">
            <span class="simpara">
             Server-side scripting. This is the most traditional
             and main target field for PHP. You need three things
             to make this work: the PHP parser (CGI or server
             module), a web server and a web browser. You need to
             run the web server, with a connected PHP installation.
             You can access the PHP program output with a web browser,
             viewing the PHP page through the server. All these can
             run on your home machine if you are just experimenting
             with PHP programming. See the
             <a href="#install" class="link">installation instructions</a>
             section for more information.
            </span>
           </li>
           <li class="listitem">
            <span class="simpara">
             Command line scripting. You can make a PHP script
             to run it without any server or browser.
             You only need the PHP parser to use it this way.
             This type of usage is ideal for scripts regularly
             executed using cron (on *nix or Linux) or Task Scheduler (on
             Windows). These scripts can also be used for simple text
             processing tasks. See the section about
             <a href="#features.commandline" class="link">Command line usage of PHP</a>
             for more information.
            </span>
           </li>
           <li class="listitem">
            <span class="simpara">
             Writing desktop applications. PHP is probably
             not the very best language to create a desktop
             application with a graphical user interface, but if
             you know PHP very well, and would like to use some
             advanced PHP features in your client-side applications
             you can also use PHP-GTK to write such programs. You also
             have the ability to write cross-platform applications this
             way. PHP-GTK is an extension to PHP, not available in
             the main distribution. If you are interested
             in PHP-GTK, visit <a href="http://gtk.php.net/" class="link external">&raquo;&nbsp;its
             own website</a>.
            </span>
           </li>
          </ul>
         </p>
         <p class="para">
          PHP can be <a href="#install" class="link">used</a> on all major operating systems, including
          Linux, many Unix variants (including HP-UX, Solaris and OpenBSD),
          Microsoft Windows, macOS, RISC OS, and probably others.
          PHP also has support for most of the web servers today. This
          includes Apache, IIS, and many others. And this includes any
          web server that can utilize the FastCGI PHP binary, like lighttpd
          and nginx. PHP works as either a module, or as a CGI processor.
         </p>
         <p class="para">
          So with PHP, you have the freedom of choosing an operating
          system and a web server. Furthermore, you also have the choice
          of using procedural programming or object oriented
          programming (OOP), or a mixture of them both.
         </p>
         <p class="para">
          With PHP you are not limited to output HTML. PHP&#039;s abilities
          includes outputting images, PDF files and even Flash movies
          (using libswf and Ming) generated on the fly. You can also
          output easily any text, such as XHTML and any other XML file.
          PHP can autogenerate these files, and save them in the file
          system, instead of printing it out, forming a server-side
          cache for your dynamic content.
         </p>
         <p class="para">
          One of the strongest and most significant features in PHP is its
          support for a <a href="#refs.database" class="link">wide range of databases</a>. 
          Writing a database-enabled web page is incredibly simple using one of
          the database specific extensions (e.g., for <a href="#book.mysqli" class="link">mysql</a>),
          or using an abstraction layer like <a href="#book.pdo" class="link">PDO</a>, or connect
          to any database supporting the Open Database Connection standard via the
          <a href="#book.uodbc" class="link">ODBC</a> extension. Other databases may utilize
          <a href="#book.curl" class="link">cURL</a> or <a href="#book.sockets" class="link">sockets</a>,
          like CouchDB.
         </p>
         <p class="para">
          PHP also has support for talking to other services using protocols
          such as LDAP, IMAP, SNMP, NNTP, POP3, HTTP, COM (on Windows) and
          countless others. You can also open raw network sockets and
          interact using any other protocol. PHP has support for the WDDX
          complex data exchange between virtually all Web programming
          languages. Talking about interconnection, PHP has support for
          instantiation of Java objects and using them transparently
          as PHP objects.
         </p>
         <p class="para">
          PHP has useful <a href="#refs.basic.text" class="link">text processing</a> features,
          which includes the Perl compatible regular expressions (<a href="#book.pcre" class="link">PCRE</a>),
          and many extensions and tools to <a href="#refs.xml" class="link">parse and access XML documents</a>.
          PHP standardizes all of the XML extensions on the solid base of <a href="#book.libxml" class="link">libxml2</a>,
          and extends the feature set adding <a href="#book.simplexml" class="link">SimpleXML</a>,
          <a href="#book.xmlreader" class="link">XMLReader</a> and <a href="#book.xmlwriter" class="link">XMLWriter</a> support.
         </p>
         <p class="para">
          And many other interesting extensions exist, which are categorized both
          <a href="#extensions" class="link">alphabetically</a> and by <a href="#funcref" class="link">category</a>.
          And there are additional PECL extensions that may or may not be documented
          within the PHP manual itself, like <a href="http://xdebug.org/" class="link external">&raquo;&nbsp;XDebug</a>.
         </p>
         <p class="para">
          As you can see this page is not enough to list all
          the features and benefits PHP can offer. Read on in
          the sections about <a href="#install" class="link">installing
          PHP</a>, and see the <a href="#funcref" class="link">function
          reference</a> part for explanation of the extensions
          mentioned here.
         </p>
        </div>
      <hr />
      
      
       </div>
      
      <hr />

        

 <div id="tutorial" class="chapter"><hr />
    <div class="info"><h1>A simple tutorial</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#tutorial.requirements">What do I need?</a></li><li><a href="#tutorial.firstpage">Your first PHP-enabled page</a></li><li><a href="#tutorial.useful">Something Useful</a></li><li><a href="#tutorial.forms">Dealing with Forms</a></li><li><a href="#tutorial.oldcode">Using old code with new versions of PHP</a></li><li><a href="#tutorial.whatsnext">What's next?</a></li></ul>
  </div>
  
    <p class="para">
     Here we would like to show the very basics of PHP in a short, simple
     tutorial. This text only deals with dynamic web page creation with
     PHP, though PHP is not only capable of creating web pages. See
     the section titled <a href="#intro-whatcando" class="link">What can PHP
     do</a> for more information.
    </p>
    <p class="para">
     PHP-enabled web pages are treated just like regular HTML pages and
     you can create and edit them the same way you normally create
     regular HTML pages.
    </p>
  
    <div id="tutorial.requirements" class="section"><hr />
     <div class="info"><h1 class="title">What do I need?</h1></div>
     <p class="para">
      In this tutorial we assume that your server has activated support 
      for PHP and that all files ending in <var class="filename">.php</var>
      are handled by PHP. On most servers, this is the default extension
      for PHP files, but ask your server administrator to be sure. If
      your server supports PHP, then you do not need to do anything. Just
      create your <var class="filename">.php</var> files, put them in your
      web directory and the server will automatically parse them for you.
      There is no need to compile anything nor do you need to install
      any extra tools. Think of these PHP-enabled files as simple HTML
      files with a whole new family of magical tags that let you do all
      sorts of things.
     </p>
     <p class="para">
      Let us say you want to save precious bandwidth and develop locally.  
      In this case, you will want to install a web server, such as 
      <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;Apache</a>, and of course 
      <a href="https://www.php.net/downloads.php" class="link external">&raquo;&nbsp;PHP</a>. You will most likely 
      want to install a database as well, such as 
      <a href="http://dev.mysql.com/doc/" class="link external">&raquo;&nbsp;MySQL</a>.
     </p>
     <p class="para">
      You can either install these individually or choose a simpler way. Our
      manual has <a href="#install" class="link">installation instructions for
      PHP</a> (assuming you already have some web server set up). If
      you have problems with installing PHP yourself, we would suggest you ask
      your questions on our <a href="https://www.php.net/mailing-lists.php" class="link external">&raquo;&nbsp;installation
      mailing list</a>. If you choose to go on the simpler route, then
      <a href="http://wikipedia.org/wiki/List_of_AMP_packages" class="link external">&raquo;&nbsp;locate a pre-configured package</a>
      for your operating system,  which automatically installs all of these
      with just a few mouse clicks. It is easy to setup a web server with PHP
      support on any operating system, including MacOSX, Linux and Windows.
      On Linux, you may find <a href="http://www.rpmfind.net/" class="link external">&raquo;&nbsp;rpmfind</a> and
      <a href="http://rpm.pbone.net/" class="link external">&raquo;&nbsp;PBone</a> helpful for
      locating RPMs. You may also want to visit <a href="https://packages.debian.org/index" class="link external">&raquo;&nbsp;apt-get</a> to find packages for Debian.
     </p>
    </div>
  <hr />
  
  
    <div id="tutorial.firstpage" class="section"><hr />
     <div class="info"><h1 class="title">Your first PHP-enabled page</h1></div>
     <p class="para">
      Create a file named <var class="filename">hello.php</var> and put it
      in your web server&#039;s root directory (<var class="varname">DOCUMENT_ROOT</var>) 
      with the following content:
     </p>
     <p class="para">
      <div class="example" id="example-2">
       <div class="info"><p><strong>Example #1 Our first PHP script: <var class="filename">hello.php</var></strong></p></div>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  &lt;html&gt;<br />&nbsp;&lt;head&gt;<br />&nbsp;&nbsp;&lt;title&gt;PHP&nbsp;Test&lt;/title&gt;<br />&nbsp;&lt;/head&gt;<br />&nbsp;&lt;body&gt;<br />&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;p&gt;Hello&nbsp;World&lt;/p&gt;'</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;<br />&nbsp;&lt;/body&gt;<br />&lt;/html&gt;</span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>
        Use your browser to access the file with your web server&#039;s URL, ending
        with the <code class="literal">/hello.php</code> file reference. When developing locally this
        URL will be something like <code class="literal">http://localhost/hello.php</code> 
        or <code class="literal">http://127.0.0.1/hello.php</code> but this depends on the
        web server&#039;s configuration. If everything is configured correctly, this
        file will be parsed by PHP and the following output will be sent to
        your browser:
       </p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  &lt;html&gt;
   &lt;head&gt;
    &lt;title&gt;PHP Test&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
   &lt;p&gt;Hello World&lt;/p&gt;
   &lt;/body&gt;
  &lt;/html&gt;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      This program is extremely simple and you really did not need to use
      PHP to create a page like this. All it does is display:
      <code class="literal">Hello World</code> using the PHP <span class="function"><a href="#function.echo" class="function">echo</a></span>
      statement. Note that the file <em class="emphasis">does not need to be executable</em>
      or special in any way. The server finds out that this file needs to be interpreted
      by PHP because you used the &quot;.php&quot; extension, which the server is configured
      to pass on to PHP. Think of this as a normal HTML file which happens to have
      a set of special tags available to you that do a lot of interesting things.
     </p>
     <p class="para">
      If you tried this example and it did not output anything, it prompted 
      for download, or you see the whole file as text, chances are that the 
      server you are on does not have PHP enabled, or is not configured properly.
      Ask your administrator to enable it for you using the
      <a href="#install" class="link">Installation</a> chapter 
      of the manual. If you are developing locally, also read the
      installation chapter to make sure everything is configured
      properly. Make sure that you access the file via http with the server
      providing you the output. If you just call up the file from your file
      system, then it will not be parsed by PHP. If the problems persist anyway,
      do not hesitate to use one of the many
      <a href="https://www.php.net/support.php" class="link external">&raquo;&nbsp;PHP support</a> options.
     </p>
     <p class="para">
      The point of the example is to show the special PHP tag format.
      In this example we used <code class="literal">&lt;?php</code> to indicate the
      start of a PHP tag. Then we put the PHP statement and left PHP mode by
      adding the closing tag, <code class="literal">?&gt;</code>. You may jump in
      and out of PHP mode in an HTML file like this anywhere you want.  For more
      details, read the manual section on the <a href="#language.basic-syntax" class="link">
      basic PHP syntax</a>.
     </p>
    
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="info"><strong>A Note on Line Feeds</strong><br /></span>
      <p class="para">
       Line feeds have little meaning in HTML, however it is still a good idea
       to make your HTML look nice and clean by putting line feeds in.  A
       linefeed that follows immediately after a closing
       <code class="literal">?&gt;</code> will be removed by PHP.  This can be extremely
       useful when you are putting in many blocks of PHP or include files
       containing PHP that aren&#039;t supposed to output anything.  At the same time
       it can be a bit confusing.  You can put a space after the closing
       <code class="literal">?&gt;</code> to force a space and a line feed to be output,
       or you can put an explicit line feed in the last echo/print from within
       your PHP block.
      </p> 
     </p></blockquote> 
  
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="info"><strong>A Note on Text Editors</strong><br /></span>
      <p class="para">
       There are many text editors and Integrated Development Environments (IDEs)
       that you can use to create, edit and manage PHP files. A partial list of 
       these tools is maintained at <a href="http://en.wikipedia.org/wiki/List_of_PHP_editors" class="link external">&raquo;&nbsp;PHP Editors
       List</a>. If you wish to recommend an editor, please visit the above
       page and ask the page maintainer to add the editor to the list.  Having
       an editor with syntax highlighting can be helpful.
      </p>
     </p></blockquote>
     
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="info"><strong>A Note on Word Processors</strong><br /></span>
      <p class="para">
       Word processors such as StarOffice Writer, Microsoft Word and Abiword are
       not optimal for editing PHP files.  If you wish to use one for this 
       test script, you must ensure that you save the file as <em class="emphasis">plain
       text</em> or PHP will not be able to read and execute the script.
      </p>
     </p></blockquote>
     
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="info"><strong>A Note on Windows Notepad</strong><br /></span>
      <p class="para">
       If you are writing your PHP scripts using Windows Notepad, you will need
       to ensure that your files are saved with the <var class="filename">.php</var> extension.
       (Notepad adds a <var class="filename">.txt</var> extension to files automatically unless
       you take one of the following steps to prevent it.)  When you save the file and
       are prompted to provide a name for the file, place the filename in quotes 
       (i.e. &quot;<var class="filename">hello.php</var>&quot;).  Alternatively, you can click on the 
       &#039;Text Documents&#039; drop-down menu in the &#039;Save&#039; dialog box and change the setting 
       to &quot;All Files&quot;. You can then enter your filename without quotes.
      </p>
     </p></blockquote>
    
     <p class="para">
      Now that you have successfully created a working PHP script, it is
      time to create the most famous PHP script!  Make a call to the
      <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> function and you will see a lot of useful
      information about your system and setup such as available
      <a href="#language.variables.predefined" class="link">predefined variables</a>, 
      loaded PHP modules, and <a href="#configuration" class="link">configuration</a>
      settings. Take some time and review this important information.
     </p>
     <p class="para">
      <div class="example" id="example-3">
       <div class="info"><p><strong>Example #2 Get system information from PHP</strong></p></div>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php&nbsp;phpinfo</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
      </div>
     </p>
    </div>
  <hr />
  
  
    <div id="tutorial.useful" class="section"><hr />
     <div class="info"><h1 class="title">Something Useful</h1></div>
     <p class="para">
      Let us do something more useful now. We are going to check
      what sort of browser the visitor is using.
      For that, we check the user agent string the browser
      sends as part of the HTTP request. This information is stored in a <a href="#language.variables" class="link">variable</a>. Variables always start
      with a dollar-sign in PHP. The variable we are interested in right now 
      is <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['HTTP_USER_AGENT']</a></var>.
     </p>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var> is a 
       special reserved PHP variable that contains all web server information.
       It is known as a superglobal.  See the related manual page on
       <a href="#language.variables.superglobals" class="link">superglobals</a>
       for more information.  These special variables were introduced in PHP 
       <a href="https://www.php.net/releases/4_1_0.php" class="link external">&raquo;&nbsp;4.1.0</a>.  Before this time, we used
       the older <var class="varname">$HTTP_*_VARS</var> arrays instead,
       such as <var class="varname">$HTTP_SERVER_VARS</var>.  As of PHP 5.4.0 
       these older variables have been removed.  (See also the note on
       <a href="#tutorial.oldcode" class="link">old code</a>.)
      </p>
     </p></blockquote>
     <p class="para">
      To display this variable, you can simply do:
     </p>
     <p class="para">
      <div class="example" id="example-4">
       <div class="info"><p><strong>Example #1 Printing a variable (Array element)</strong></p></div>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>
       A sample output of this script may be:
      </p></div>
      <div class="example-contents screen"><br />
  Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)<br />
      </div>
     </div>
     </p>
     <p class="para">
      There are many <a href="#language.types" class="link">types</a> of 
      variables available in PHP.  In the above example we printed 
      an <a href="#language.types.array" class="link">Array</a> element.
      Arrays can be very useful.
     </p>
     <p class="para">
      <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var> is just one variable that PHP automatically 
      makes available to you. A list can be seen in the 
      <a href="#reserved.variables" class="link">Reserved Variables</a> section 
      of the manual or you can get a complete list of them by looking at
      the output of the <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> function used in the
      example in the previous section.
     </p>
     <p class="para">
      You can put multiple PHP statements inside a PHP tag and create
      little blocks of code that do more than just a single echo.
      For example, if you want to check for Internet Explorer you
      can do this:
     </p>
     <p class="para">
      <div class="example" id="example-5">
       <div class="info"><p><strong>Example #2 Example using <a href="#language.control-structures" class="link">control 
       structures</a> and <a href="#language.functions" class="link">functions</a></strong></p></div>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'MSIE'</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'You&nbsp;are&nbsp;using&nbsp;Internet&nbsp;Explorer.&lt;br&nbsp;/&gt;'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>
        A sample output of this script may be:
       </p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  You are using Internet Explorer.&lt;br /&gt;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      Here we introduce a couple of new concepts. We have an 
      <a href="#control-structures.if" class="link">if</a> statement.
      If you are familiar with the basic syntax used by the C
      language, this should look logical to you. Otherwise, you
      should probably pick up an introductory PHP book and read the first
      couple of chapters, or read the <a href="#langref" class="link">Language
      Reference</a> part of the manual.
     </p>
     <p class="para">
      The second concept we introduced was the <span class="function"><a href="#function.strpos" class="function">strpos()</a></span>
      function call. <span class="function"><a href="#function.strpos" class="function">strpos()</a></span> is a function built into
      PHP which searches a string for another string. In this case we are
      looking for <code class="literal">&#039;MSIE&#039;</code> (so-called needle) inside
      <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['HTTP_USER_AGENT']</a></var> (so-called haystack).  If
      the needle is found inside the haystack, the function returns the position
      of the needle relative to the start of the haystack.  Otherwise, it
      returns <strong><code>FALSE</code></strong>.  If it does not return <strong><code>FALSE</code></strong>, the <a href="#control-structures.if" class="link">if</a> expression evaluates to <strong><code>TRUE</code></strong>
      and the code within its {braces} is executed. Otherwise, the code is not
      run. Feel free to create similar examples, 
      with <a href="#control-structures.if" class="link">if</a>, 
      <a href="#control-structures.else" class="link">else</a>, and other 
      functions such as <span class="function"><a href="#function.strtoupper" class="function">strtoupper()</a></span> and 
      <span class="function"><a href="#function.strlen" class="function">strlen()</a></span>.  Each related manual page contains examples 
      too.  If you are unsure how to use functions, you will want to read both
      the manual page on <a href="#about.prototypes" class="link">how to read a
      function definition</a> and the section about  
      <a href="#language.functions" class="link">PHP functions</a>.
     </p>
     <p class="para">
      We can take this a step further and show how you can jump in and out
      of PHP mode even in the middle of a PHP block:
     </p>
     <p class="para">
      <div class="example" id="example-6">
       <div class="info"><p><strong>Example #3 Mixing both HTML and PHP modes</strong></p></div>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">'MSIE'</span><span style="color: #007700">)&nbsp;!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strpos()&nbsp;must&nbsp;have&nbsp;returned&nbsp;non-false&lt;/h3&gt;<br />&lt;p&gt;You&nbsp;are&nbsp;using&nbsp;Internet&nbsp;Explorer&lt;/p&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strpos()&nbsp;must&nbsp;have&nbsp;returned&nbsp;false&lt;/h3&gt;<br />&lt;p&gt;You&nbsp;are&nbsp;not&nbsp;using&nbsp;Internet&nbsp;Explorer&lt;/p&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>
        A sample output of this script may be:
       </p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  &lt;h3&gt;strpos() must have returned non-false&lt;/h3&gt;
  &lt;p&gt;You are using Internet Explorer&lt;/p&gt;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      Instead of using a PHP echo statement to output something, we jumped out
      of PHP mode and just sent straight HTML. The important and powerful point
      to note here is that the logical flow of the script remains intact. Only
      one of the HTML blocks will end up getting sent to the viewer depending on
      the result of <span class="function"><a href="#function.strpos" class="function">strpos()</a></span>.  In other words, it depends on
      whether the string <code class="literal">MSIE</code> was found or not.
     </p>
    </div>
  <hr />
  
     
    <div id="tutorial.forms" class="section"><hr />
     <div class="info"><h1 class="title">Dealing with Forms</h1></div>
     <p class="para">
      One of the most powerful features of PHP is the way it handles HTML
      forms. The basic concept that is important to understand is that any
      form element will automatically be available to your PHP 
      scripts.  Please read the manual section on
      <a href="#language.variables.external" class="link">Variables from external
      sources</a> for more information and examples on using forms 
      with PHP.  Here is an example HTML form:
     </p>
     <p class="para">
      <div class="example" id="example-7">
       <div class="info"><p><strong>Example #1 A simple HTML form</strong></p></div>
       <div class="example-contents">
  <div class="htmlcode"><pre class="htmlcode">&lt;form action=&quot;action.php&quot; method=&quot;post&quot;&gt;
   &lt;p&gt;Your name: &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;/p&gt;
   &lt;p&gt;Your age: &lt;input type=&quot;text&quot; name=&quot;age&quot; /&gt;&lt;/p&gt;
   &lt;p&gt;&lt;input type=&quot;submit&quot; /&gt;&lt;/p&gt;
  &lt;/form&gt;</pre>
  </div>
       </div>
  
      </div>
     </p>
     <p class="para">
      There is nothing special about this form. It is a straight HTML form
      with no special tags of any kind. When the user fills in this form
      and hits the submit button, the <var class="filename">action.php</var> page
      is called. In this file you would write something like this:
     </p>
     <p class="para">
      <div class="example" id="example-8">
       <div class="info"><p><strong>Example #2 Printing data from our form</strong></p></div>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  Hi&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">htmlspecialchars</span><span style="color: #007700">(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">]);&nbsp;</span><span style="color: #0000BB">?&gt;</span>.<br />You&nbsp;are&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;(int)</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'age'</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;years&nbsp;old.</span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>
        A sample output of this script may be:
       </p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  Hi Joe. You are 22 years old.
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      Apart from the <span class="function"><a href="#function.htmlspecialchars" class="function">htmlspecialchars()</a></span> and 
      <code class="literal">(int)</code> parts, it should be obvious what this does.  
      <span class="function"><a href="#function.htmlspecialchars" class="function">htmlspecialchars()</a></span> makes sure any characters that are
      special in html are properly encoded so people can&#039;t inject HTML tags
      or Javascript into your page.  For the age field, since we know it is a 
      number, we can just <a href="#language.types.typecasting" class="link">convert</a> 
      it to an <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span> which will automatically get rid of any 
      stray characters.  You can also have PHP do this for you automatically by 
      using the <a href="#ref.filter" class="link">filter</a> extension.
      The <var class="varname"><a href="#reserved.variables.post" class="classname">$_POST['name']</a></var> and <var class="varname"><a href="#reserved.variables.post" class="classname">$_POST['age']</a></var>
      variables are automatically set for you by PHP.  Earlier we
      used the <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var> superglobal; above we just 
      introduced the <var class="varname"><a href="#reserved.variables.post" class="classname">$_POST</a></var>
      superglobal which contains all POST data.  Notice how the
      <em class="emphasis">method</em> of our form is POST.  If we used the 
      method <em class="emphasis">GET</em> then our form information would live in 
      the <var class="varname"><a href="#reserved.variables.get" class="classname">$_GET</a></var> superglobal instead.
      You may also use the <var class="varname"><a href="#reserved.variables.request" class="classname">$_REQUEST</a></var>
      superglobal, if you do not care about the source of your request data. It 
      contains the merged information of GET, POST and COOKIE data.  
     </p>
     <p class="para">
      You can also deal with XForms input in PHP, although you will find yourself
      comfortable with the well supported HTML forms for quite some time.
      While working with XForms is not for beginners, you might be interested
      in them. We also have a <a href="#features.xforms" class="link">short introduction
      to handling data received from XForms</a> in our features section. 
     </p>
    </div>
  <hr />
  
  
    <div id="tutorial.oldcode" class="section"><hr />
     <div class="info"><h1 class="title">Using old code with new versions of PHP</h1></div>
     <p class="para">
      Now that PHP has grown to be a popular scripting language, there are
      a lot of public repositories and libraries containing code you can reuse.
      The PHP developers have largely tried to preserve backwards compatibility, 
      so a script written for an older version will run (ideally) without changes
      in a newer version of PHP. In practice, some changes will usually be needed.
     </p>
     <p class="para">
      Two of the most important recent changes that affect old code are:
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         The old <var class="varname">$HTTP_*_VARS</var> arrays are not available as of 
         PHP 5.4.0. The following 
         <a href="#language.variables.superglobals" class="link">superglobal arrays</a>
         were introduced in PHP <a href="https://www.php.net/releases/4_1_0.php" class="link external">&raquo;&nbsp;4.1.0</a>. 
         They are: <var class="varname"><a href="#reserved.variables.get" class="classname">$_GET</a></var>, <var class="varname"><a href="#reserved.variables.post" class="classname">$_POST</a></var>, 
         <var class="varname"><a href="#reserved.variables.cookies" class="classname">$_COOKIE</a></var>, <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var>, 
         <var class="varname"><a href="#reserved.variables.files" class="classname">$_FILES</a></var>, <var class="varname"><a href="#reserved.variables.environment" class="classname">$_ENV</a></var>,
         <var class="varname"><a href="#reserved.variables.request" class="classname">$_REQUEST</a></var>, and <var class="varname"><a href="#reserved.variables.session" class="classname">$_SESSION</a></var>.  
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         External variables are no longer registered in the global scope by
         default.  In other words, as of PHP
         <a href="https://www.php.net/releases/4_2_0.php" class="link external">&raquo;&nbsp;4.2.0</a> the PHP directive 
         <a href="#ini.register-globals" class="link">register_globals</a> is 
         <em class="emphasis">off</em> by default in <var class="filename">php.ini</var>. The preferred 
         method of accessing these values is via the superglobal arrays mentioned
         above.  Older scripts, books, and tutorials may rely on this 
         directive being <code class="literal">on</code>.  If it were <code class="literal">on</code>,
         for example, one could use  <var class="varname">$id</var> from the URL 
         <code class="literal">http://www.example.com/foo.php?id=42</code>.  Whether on 
         or off, <var class="varname"><a href="#reserved.variables.get" class="classname">$_GET['id']</a></var> is available.
        </span>
       </li>
      </ul>
      For more details on these changes, see the section on 
      <a href="#language.variables.predefined" class="link">predefined variables</a>
      and links therein.
     </p>
    </div>
  <hr />
  
    
    <div id="tutorial.whatsnext" class="section"><hr />
     <div class="info"><h1 class="title">What&#039;s next?</h1></div>
     <p class="para">
      With your new knowledge you should be able to understand most of 
      the manual and also the various example scripts available in the
      example archives. 
     </p>
     <p class="para">
      To view various slide presentations that show more of what PHP can do, 
      see the PHP Conference Material Site: 
      <a href="http://talks.php.net/" class="link external">&raquo;&nbsp;http://talks.php.net/</a>
     </p>
    </div>
  <hr />
  
   </div>
  
  <hr />
  
  
  
  
   <ul class="chunklist chunklist_book"><li><a href="#introduction">Introduction</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#intro-whatis">What is PHP?</a></li><li><a href="#intro-whatcando">What can PHP do?</a></li></ul></li><li><a href="#tutorial">A simple tutorial</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#tutorial.requirements">What do I need?</a></li><li><a href="#tutorial.firstpage">Your first PHP-enabled page</a></li><li><a href="#tutorial.useful">Something Useful</a></li><li><a href="#tutorial.forms">Dealing with Forms</a></li><li><a href="#tutorial.oldcode">Using old code with new versions of PHP</a></li><li><a href="#tutorial.whatsnext">What's next?</a></li></ul></li></ul></div>
  <hr />
  
  
   <div id="install" class="book"><hr />
    <h1 class="title">Installation and Configuration</h1>
    
  
    <div id="install.general" class="chapter"><hr />
     <h1>General Installation Considerations</h1>
  
     <p class="para">
      Before starting the installation, first you need to know what do you
      want to use PHP for. There are three main fields you
      can use PHP, as described in the
      <a href="#intro-whatcando" class="link">What can PHP do?</a>
      section:
      <ul class="itemizedlist">
       <li class="listitem"><span class="simpara">Websites and web applications (server-side scripting)</span></li>
       <li class="listitem"><span class="simpara">Command line scripting</span></li>
       <li class="listitem"><span class="simpara">Desktop (GUI) applications</span></li>
      </ul>
     </p>
     <p class="para">
      For the first and most common form, you need three things:
      PHP itself, a web server and a web browser. You
      probably already have a web browser, and depending on
      your operating system setup, you may also have a web
      server (e.g. Apache on Linux and macOS; IIS on Windows).
      You may also rent webspace at a company. This way, you
      don&#039;t need to set up anything on your own, only write
      your PHP scripts, upload it to the server you rent, and
      see the results in your browser. 
     </p>
     <p class="para">
      In case of setting up the server and PHP on your own, you have
      two choices for the method of connecting PHP to the
      server. For many servers PHP has a direct module
      interface (also called SAPI). These servers include
      Apache, Microsoft Internet Information Server,
      Netscape and iPlanet servers. Many other servers
      have support for ISAPI, the Microsoft module
      interface (OmniHTTPd for example). If PHP has no
      module support for your web server, you can always
      use it as a CGI or FastCGI processor. This means you set up
      your server to use the CGI executable of
      PHP to process all PHP file requests on the server.
     </p>
     <p class="para">
      If you are also interested in using PHP for command line
      scripting (e.g. write scripts autogenerating some images
      for you offline, or processing text files depending
      on some arguments you pass to them), you always need
      the command line executable. For more information, read
      the section about <a href="#features.commandline" class="link">writing
      command line PHP applications</a>. In this case,
      you need no server and no browser.
     </p>
     <p class="para">
      With PHP you can also write desktop GUI applications
      using the PHP-GTK extension. This is a completely
      different approach than writing web pages, as you
      do not output any HTML, but manage windows and objects
      within them. For more information about PHP-GTK, please
      <a href="http://gtk.php.net/" class="link external">&raquo;&nbsp;visit the site dedicated to
      this extension</a>. PHP-GTK is not included in the
      official PHP distribution.
     </p>
     <p class="para">
      From now on, this section deals with setting up PHP
      for web servers on Unix and Windows with server module
      interfaces and CGI executables. You will also find
      information on the command line executable in the
      following sections.
     </p>
     <p class="para">
      PHP source code and binary distributions for Windows can be
      found at
      <a href="https://www.php.net/downloads.php" class="link external">&raquo;&nbsp;https://www.php.net/downloads.php</a>.
     </p>
    </div>
  
  <hr />
  
  
  
  
    
  
    <div id="install.unix" class="chapter"><hr />
     <h1>Installation on Unix systems</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#install.unix.apache">Apache 1.3.x on Unix systems</a></li><li><a href="#install.unix.apache2">Apache 2.x on Unix systems</a></li><li><a href="#install.unix.nginx">Nginx 1.4.x on Unix systems</a></li><li><a href="#install.unix.lighttpd-14">Lighttpd 1.4 on Unix systems</a></li><li><a href="#install.unix.sun">Sun, iPlanet and Netscape servers on Sun Solaris</a></li><li><a href="#install.unix.litespeed">LiteSpeed Web Server/OpenLiteSpeed Web Server on Unix systems</a></li><li><a href="#install.unix.commandline">CGI and command line setups</a></li><li><a href="#install.unix.hpux">HP-UX specific installation notes</a></li><li><a href="#install.unix.openbsd">OpenBSD installation notes</a></li><li><a href="#install.unix.solaris">Solaris specific installation tips</a></li><li><a href="#install.unix.debian">Debian GNU/Linux installation notes</a></li></ul>
  
     <p class="para">
      This section will guide you through the general configuration and
      installation of PHP on Unix systems. Be sure to investigate any
      sections specific to your platform or web server before you begin
      the process.
     </p>
     <p class="para">
      As our manual outlines in the <a href="#install.general" class="link">General
      Installation Considerations</a> section, we are mainly dealing with
      web centric setups of PHP in this section, although we will cover
      setting up PHP for command line usage as well.
     </p>
     <p class="para"> 
      There are several ways to install PHP for the Unix platform, either
      with a compile and configure process, or through various
      pre-packaged methods. This documentation is mainly focused around
      the process of compiling and configuring PHP. Many Unix like systems
      have some sort of package installation system. This can assist in
      setting up a standard configuration, but if you need to have a
      different set of features (such as a secure server, or a different
      database driver), you may need to build PHP and/or your web server.
      If you are unfamiliar with building and compiling your own software,
      it is worth checking to see whether somebody has already built a
      packaged version of PHP with the features you need.
     </p>
     <p class="para">
      Prerequisite knowledge and software for compiling:
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         Basic Unix skills (being able to operate &quot;make&quot; and a C
         compiler)
        </span>
       </li> 
       <li class="listitem">
        <span class="simpara">
         An ANSI C compiler
        </span>
       </li> 
       <li class="listitem">
        <span class="simpara">
         A web server
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         Any module specific components (such as <acronym title="Graphics Draw">GD</acronym>,
         <acronym title="Portable Document Format">PDF</acronym> libs, etc.)
        </span>
       </li>
      </ul>
     </p>
  
     <p class="para">
      When building directly from Git sources or after custom modifications you
      might also need:
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         autoconf: 2.13+ (for PHP &lt; 5.4.0), 2.59+ (for PHP &gt;= 5.4.0), 2.64+ (for PHP &gt;= 7.2.0)
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         automake: 1.4+
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         libtool: 1.4.x+ (except 1.4.2)
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         re2c: Version 0.13.4 or newer
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         flex: Version 2.5.4 (for PHP &lt;= 5.2)
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         bison:
        </span>
        <ul class="itemizedlist">
         <li class="listitem">
          <span class="simpara">
           PHP 5.4: 1.28, 1.35, 1.75, 1.875, 2.0, 2.1, 2.2, 2.3, 2.4, 2.4.1,
           2.4.2, 2.4.3, 2.5, 2.5.1, 2.6, 2.6.1, 2.6.2, 2.6.4
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           PHP 5.5: 2.4, 2.4.1, 2.4.2, 2.4.3, 2.5, 2.5.1, 2.6, 2.6.1, 2.6.2,
           2.6.3, 2.6.4, 2.6.5, 2.7
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           PHP 5.6: &gt;= 2.4, &lt; 3.0
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           PHP 7.0 - 7.3: 2.4 or later (including Bison 3.x)
          </span>
         </li>
         <li class="listitem">
          <span class="simpara">
           PHP 7.4: &gt; 3.0
          </span>
         </li>
        </ul>
       </li>
      </ul>
     </p>
     
     <p class="para">
      The initial PHP setup and configuration process is controlled by the
      use of the command line options of the <strong class="command">configure</strong>
      script. You could get a list of all available options along with short
      explanations running <strong class="command">./configure --help</strong>.
      Our manual documents the different options separately. You will
      find the <a href="#configure.about" class="link">core options in the appendix</a>,
      while the different extension specific options are described on the
      reference pages.
     </p>
      
     <p class="para">
      When PHP is configured, you are ready to build the module and/or
      executables. The command <strong class="command">make</strong> should
      take care of this. If it fails and you can&#039;t figure out why, see
      the <a href="#install.problems" class="link">Problems section</a>.
     </p>
  
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       Some Unix systems (such as OpenBSD and SELinux) may disallow mapping pages
       both writable and executable for security reasons, what is called PaX
       MPROTECT or W^X violation protection. This kind of memory mapping is,
       however, necessary for PCRE&#039;s JIT support, so either PHP has to be built
       <a href="#pcre.installation" class="link">without PCRE&#039;s JIT support</a>, or the
       binary has to be whitelisted by any means provided by the system.
      </p>
     </p></blockquote>
  
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <span class="simpara">
       Cross-compiling for ARM with the Android toolchain is currently not supported.
      </span>
     </p></blockquote>
  
     
     
  
     <div id="install.unix.apache" class="sect1"><hr />
      <h2 class="title">Apache 1.3.x on Unix systems</h2>
      <p class="para">
       This section contains notes and hints specific to Apache installs
       of PHP on Unix platforms. We also have <a href="#install.unix.apache2" class="link">instructions and notes for Apache 2
       on a separate page</a>.
      </p>   
      <p class="para">
       You can select arguments to add to the
       <strong class="command">configure</strong> on line 10 below from the <a href="#configure.about" class="link">list of core configure options</a> and
       from extension specific options described at the respective
       places in the manual. The version numbers have been omitted here, to
       ensure the instructions are not incorrect. You will need to replace
       the &#039;xxx&#039; here with the correct values from your files.
      </p>
  
      <div class="example" id="install.unix.apache.example">
       <p><strong>Example #1 
        Installation Instructions (Apache Shared Module Version) for PHP
       </strong></p>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  1.  gunzip apache_xxx.tar.gz
  2.  tar -xvf apache_xxx.tar
  3.  gunzip php-xxx.tar.gz
  4.  tar -xvf php-xxx.tar
  5.  cd apache_xxx
  6.  ./configure --prefix=/www --enable-module=so
  7.  make
  8.  make install
  9.  cd ../php-xxx
  
  10. Now, configure your PHP.  This is where you customize your PHP
      with various options, like which extensions will be enabled.  Do a
      ./configure --help for a list of available options.  In our example
      we&#039;ll do a simple configure with Apache 1 and MySQL support.  Your
      path to apxs may differ from our example.
  
        ./configure --with-mysql --with-apxs=/www/bin/apxs
  
  11. make
  12. make install
  
      If you decide to change your configure options after installation,
      you only need to repeat the last three steps. You only need to 
      restart apache for the new module to take effect. A recompile of
      Apache is not needed.
    
      Note that unless told otherwise, &#039;make install&#039; will also install PEAR,
      various PHP tools such as phpize, install the PHP CLI, and more.
  
  13. Setup your php.ini file:
  
        cp php.ini-development /usr/local/lib/php.ini
  
      You may edit your .ini file to set PHP options.  If you prefer your
      php.ini in another location, use --with-config-file-path=/some/path in
      step 10. 
      
      If you instead choose php.ini-production, be certain to read the list
      of changes within, as they affect how PHP behaves.
  
  14. Edit your httpd.conf to load the PHP module.  The path on the right hand
      side of the LoadModule statement must point to the path of the PHP
      module on your system.  The make install from above may have already
      added this for you, but be sure to check.
  
        LoadModule php5_module libexec/libphp5.so
        
  15. And in the AddModule section of httpd.conf, somewhere under the
      ClearModuleList, add this:
      
        AddModule mod_php5.c
  
  16. Tell Apache to parse certain extensions as PHP.  For example,
      let&#039;s have Apache parse the .php extension as PHP.  You could
      have any extension(s) parse as PHP by simply adding more, with
      each separated by a space.  We&#039;ll add .phtml to demonstrate.
  
        AddType application/x-httpd-php .php .phtml
  
      It&#039;s also common to setup the .phps extension to show highlighted PHP
      source, this can be done with:
      
        AddType application/x-httpd-php-source .phps
  
  17. Use your normal procedure for starting the Apache server. (You must
      stop and restart the server, not just cause the server to reload by
      using a HUP or USR1 signal.)
  </pre></div>
       </div>
      </div>
  
      <p class="para">
       Alternatively, to install PHP as a static object:
      </p>
  
      <div class="example" id="install.unix.apache.example-static">
       <p><strong>Example #2 
        Installation Instructions (Static Module Installation for Apache) for PHP
       </strong></p>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  1.  gunzip -c apache_1.3.x.tar.gz | tar xf -
  2.  cd apache_1.3.x
  3.  ./configure
  4.  cd ..
  
  5.  gunzip -c php-5.x.y.tar.gz | tar xf -
  6.  cd php-5.x.y
  7.  ./configure --with-mysql --with-apache=../apache_1.3.x
  8.  make
  9.  make install
  
  10. cd ../apache_1.3.x
  
  11. ./configure --prefix=/www --activate-module=src/modules/php5/libphp5.a
      (The above line is correct! Yes, we know libphp5.a does not exist at this
      stage. It isn&#039;t supposed to. It will be created.)
  
  12. make
      (you should now have an httpd binary which you can copy to your Apache bin dir if
      it is your first install then you need to &quot;make install&quot; as well)
  
  13. cd ../php-5.x.y
  14. cp php.ini-development /usr/local/lib/php.ini
  
  15. You can edit /usr/local/lib/php.ini file to set PHP options.
      Edit your httpd.conf or srm.conf file and add:
      AddType application/x-httpd-php .php
  </pre></div>
        </div>
       </div>
  
       <p class="para">
        Depending on your Apache install and Unix variant, there are many
        possible ways to stop and restart the server. Below are some typical
        lines used in restarting the server, for different apache/unix
        installations. You should replace <code class="literal">/path/to/</code> with
        the path to these applications on your systems.
       </p>
       <p class="para">
        <div class="example" id="example-11">
         <p><strong>Example #3 Example commands for restarting Apache</strong></p>
         <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">1. Several Linux and SysV variants:
  /etc/rc.d/init.d/httpd restart
  
  2. Using apachectl scripts:
  /path/to/apachectl stop
  /path/to/apachectl start
  
  3. httpdctl and httpsdctl (Using OpenSSL), similar to apachectl:
  /path/to/httpsdctl stop
  /path/to/httpsdctl start
  
  4. Using mod_ssl, or another SSL server, you may want to manually
  stop and start:
  /path/to/apachectl stop
  /path/to/apachectl startssl</pre>
  </div>
         </div>
  
        </div>
       </p>
       <p class="para">
        The locations of the apachectl and http(s)dctl binaries often
        vary. If your system has <code class="literal">locate</code>,
        <code class="literal">whereis</code> or <code class="literal">which</code> commands,
        these can assist you in finding your server control programs.
       </p>
  
       <p class="para">
        Different examples of compiling PHP for apache are as follows:
        <div class="informalexample">
         <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">./configure --with-apxs --with-pgsql</pre>
  </div>
         </div>
  
        </div>
       </p>
       <p class="para">
        This will create a <var class="filename">libphp5.so</var> shared library
        that is loaded into Apache using a LoadModule line in Apache&#039;s
        <var class="filename">httpd.conf</var> file. The PostgreSQL support is embedded into this
        library.
       </p>
       <p class="para">
        <div class="informalexample">
         <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">./configure --with-apxs --with-pgsql=shared</pre>
  </div>
         </div>
  
        </div>
       </p>
       <p class="para">
        This will create a <var class="filename">libphp5.so</var> shared
        library for Apache, but it will also create a
        <var class="filename">pgsql.so</var> shared library that is loaded into
        PHP either by using the extension directive in
        <var class="filename">php.ini</var> file or by loading it explicitly in
        a script using the <span class="function"><a href="#function.dl" class="function">dl()</a></span> function.
       </p>
       <p class="para">
        <div class="informalexample">
         <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">./configure --with-apache=/path/to/apache_source --with-pgsql</pre>
  </div>
         </div>
  
        </div>
       </p>
       <p class="para">
        This will create a <var class="filename">libmodphp5.a</var> library, a
        <var class="filename">mod_php5.c</var> and some accompanying files and
        copy this into the <code class="literal">src/modules/php5</code> directory
        in the Apache source tree. Then you compile Apache using
        <code class="literal">--activate-module=src/modules/php5/libphp5.a</code>
        and the Apache build system will create
        <var class="filename">libphp5.a</var> and link it statically into the
        <var class="filename">httpd</var> binary. The PostgreSQL support is
        included directly into this <var class="filename">httpd</var> binary,
        so the final result here is a single <var class="filename">httpd</var>
        binary that includes all of Apache and all of PHP.
       </p>
       <p class="para">
        <div class="informalexample">
         <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">./configure --with-apache=/path/to/apache_source --with-pgsql=shared</pre>
  </div>
         </div>
  
        </div>
       </p>
       <p class="para">
        Same as before, except instead of including PostgreSQL support
        directly into the final <var class="filename">httpd</var> you will get
        a <var class="filename">pgsql.so</var> shared library that you can load
        into PHP from either the <var class="filename">php.ini</var> file or
        directly using <span class="function"><a href="#function.dl" class="function">dl()</a></span>.
       </p>
       <p class="para">
        When choosing to build PHP in different ways, you should consider
        the advantages and drawbacks of each method. Building as a shared
        object will mean that you can compile apache separately, and don&#039;t
        have to recompile everything as you add to, or change, PHP.
        Building PHP into apache (static method) means that PHP will
        load and run faster. For more information, see the Apache
        <a href="http://httpd.apache.org/docs/current/dso.html" class="link external">&raquo;&nbsp;web page on DSO support</a>.
       </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Apache&#039;s default <var class="filename">httpd.conf</var> currently ships with a section that looks
        like this:
        <div class="informalexample">
         <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">User nobody
  Group &quot;#-1&quot;</pre>
  </div>
         </div>
  
        </div>
        Unless you change that to &quot;Group nogroup&quot; or something like that (&quot;Group daemon&quot; is
        also very common) PHP will not be able to open files.
       </p>
      </p></blockquote>  
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Make sure you specify the installed version of apxs when using
        <strong class="option configure">--with-apxs=/path/to/apxs</strong>.
        You must NOT use the apxs version that is in the apache sources but the one
        that is actually installed on your system.
       </p>
      </p></blockquote>   
     </div>
  <hr />
  
  
  
  
     
  
     <div id="install.unix.apache2" class="sect1"><hr />
      <h2 class="title">Apache 2.x on Unix systems</h2>
      <p class="para">
       This section contains notes and hints specific to Apache 2.x installs
       of PHP on Unix systems.
      </p>
     
      <div class="warning"><strong class="warning">Warning</strong><p class="para">We do not recommend using a
  threaded MPM in production with Apache 2. Use the prefork MPM, which is
  the default MPM with Apache 2.0 and 2.2.
  For information on why, read the related FAQ entry on using
  <a href="#faq.installation.apache2" class="link">Apache2 with a threaded MPM</a></p></div>
      
      <p class="para">
       The <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;Apache Documentation</a> 
       is the most authoritative source of information on the Apache 2.x server.
       More information about installation options for Apache may be found
       there.
      </p>
  
      <p class="para">
       The most recent version of Apache HTTP Server may be obtained from
       <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;Apache download site</a>,
       and a fitting PHP version from the above mentioned places.
       This quick guide covers only the basics to get started with Apache 2.x
       and PHP. For more information read the
       <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;Apache Documentation</a>.
       The version numbers have been omitted here, to ensure the
       instructions are not incorrect. In the examples below, &#039;NN&#039; should be
       replaced with the specific version of Apache being used.
      </p>
  
      <p class="para">
       There are currently two versions of Apache 2.x - there&#039;s 2.4 and 2.2.
       While there are various reasons for choosing each, 2.4 is the current
       latest version, and the one that is recommended, if that option is
       available to you. However, the instructions here will work for either
       2.4 or 2.2.  Note that Apache httpd 2.2 is officially End Of Life,
       and no new development or patches are being issued for it.
      </p>
  
       <ol type="1">
       <li class="listitem">
       <p class="para">Obtain the Apache HTTP server from the location listed above,
       and unpack it:</p>
  
       <div class="informalexample">
       <div class="example-contents screen">
  <div class="cdata"><pre>
  tar -xzf httpd-2.x.NN.tar.gz
  </pre></div>
       </div>
       </div>
       </li>
  
       <li class="listitem">
       <p class="para">Likewise, obtain and unpack the PHP source:</p>
  
       <div class="informalexample">
       <div class="example-contents screen">
  <div class="cdata"><pre>
  tar -xzf php-NN.tar.gz
  </pre></div>
       </div>
       </div>
       </li>
     
       <li class="listitem">
       <p class="para">
       Build and install Apache. Consult the Apache install documentation for
       more details on building Apache.
       </p>
  
       <div class="informalexample">
       <div class="example-contents screen">
  <div class="cdata"><pre>
  cd httpd-2_x_NN
  ./configure --enable-so
  make
  make install
  </pre></div>
       </div>
       </div>
       </li>
  
       <li class="listitem">
   <p class="para">
      Now you have Apache 2.x.NN available under /usr/local/apache2,
      configured with loadable module support and the standard MPM prefork.
      To test the installation use your normal procedure for starting
      the Apache server, e.g.:
  
      <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  /usr/local/apache2/bin/apachectl start
  </pre></div>
      </div>
      </div>
  
      and stop the server to go on with the configuration for PHP:
  
      <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  /usr/local/apache2/bin/apachectl stop
  </pre></div>
      </div>
      </div>
   </p>
   </li>
  
   <li class="listitem">
  
  <p class="para">
  Now, configure and build PHP.  This is where you customize PHP
  with various options, like which extensions will be enabled. Run
  ./configure --help for a list of available options.  In our example
  we&#039;ll do a simple configure with Apache 2 and MySQL support. 
  </p>
  
  <p class="para">
  If you built Apache from source, as described above, the below example will
  match your path for apxs, but if you installed Apache some other way, you&#039;ll
  need to adjust the path to apxs accordingly. Note that some distros may rename
  apxs to apxs2.
   </p>
       <div class="informalexample">
       <div class="example-contents screen">
  <div class="cdata"><pre>
  cd ../php-NN
  ./configure --with-apxs2=/usr/local/apache2/bin/apxs --with-mysql
  make
  make install
  </pre></div>
        </div>
       </div>
  
       <p class="para">
      If you decide to change your configure options after installation,
      you&#039;ll need to re-run the configure, make, and make install steps. 
      You only need to
      restart apache for the new module to take effect. A recompile of
      Apache is not needed.
      </p>
           
      <p class="para">
      Note that unless told otherwise, &#039;make install&#039; will also install PEAR,
      various PHP tools such as phpize, install the PHP CLI, and more.
      </p>
  
      </li>
  
    <li class="listitem">
    <p class="para">
    Setup your php.ini 
    </p>
      
       <div class="informalexample">
       <div class="example-contents screen">
  <div class="cdata"><pre>
  cp php.ini-development /usr/local/lib/php.ini
  </pre></div>
        </div>
       </div>
  
      <p class="para">
      You may edit your .ini file to set PHP options.  If you prefer having
      php.ini in another location, use --with-config-file-path=/some/path in
      step 5.
      </p>
     
      <p class="para">
      If you instead choose php.ini-production, be certain to read the list
      of changes within, as they affect how PHP behaves.
      </p>
  
      </li>
  
      <li class="listitem">
  
   <p class="para">
     Edit your httpd.conf to load the PHP module.  The path on the right hand
      side of the LoadModule statement must point to the path of the PHP
      module on your system.  The make install from above may have already
      added this for you, but be sure to check.
  </p>
  
        <div class="informalexample">
         <p class="para">
          For PHP 7:
         </p>
         <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">LoadModule php7_module modules/libphp7.so</pre>
  </div>
         </div>
  
       </div>
  
        <div class="informalexample">
         <p class="para">
          For PHP 5:
         </p>
         <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">LoadModule php5_module modules/libphp5.so</pre>
  </div>
         </div>
  
        </div>
  
        </li>
  
        <li class="listitem">
  
      <p class="para">
      Tell Apache to parse certain extensions as PHP.  For example, let&#039;s have
      Apache parse .php files as PHP.  Instead of only using the Apache AddType
      directive, we want to avoid potentially dangerous uploads and created
      files such as exploit.php.jpg from being executed as PHP.  Using this
      example, you could have any extension(s) parse as PHP by simply adding
      them.  We&#039;ll add .php to demonstrate.
      </p>
  
  
        <div class="informalexample">
          <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
      SetHandler application/x-httpd-php
  &lt;/FilesMatch&gt;</pre>
  </div>
         </div>
  
        </div>
  
      <p class="para">
  Or, if we wanted to allow .php, .php2, .php3, .php4, .php5, .php6, and
      .phtml files to be executed as PHP, but nothing else, we&#039;d use this:
      </p>
  
        <div class="informalexample">
          <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch &quot;\.ph(p[2-6]?|tml)$&quot;&gt;
      SetHandler application/x-httpd-php
  &lt;/FilesMatch&gt;</pre>
  </div>
         </div>
  
        </div>
  
      <p class="para">
      And to allow .phps files to be handled by the php source filter, and
      displayed as syntax-highlighted source code, use this:
      </p>
  
        <div class="informalexample">
          <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch &quot;\.phps$&quot;&gt;
      SetHandler application/x-httpd-php-source
  &lt;/FilesMatch&gt;</pre>
  </div>
         </div>
  
        </div>
  
      <p class="para">
      mod_rewrite may be used To allow any arbitrary .php file to be displayed 
      as syntax-highlighted source code, without having to rename or copy it 
      to a .phps file:
     </p>
  
        <div class="informalexample">
          <div class="example-contents">
  <div class="apache-confcode"><pre class="apache-confcode">RewriteEngine On
  RewriteRule (.*\.php)s$ $1 [H=application/x-httpd-php-source]</pre>
  </div>
         </div>
  
        </div>
  
      <p class="para">
      The php source filter should not be enabled on production systems, where
      it may expose confidential or otherwise sensitive information embedded in
      source code.
      </p>
  
      </li>
  
      <li class="listitem">
     <p class="para">
     Use your normal procedure for starting the Apache server, e.g.:
     </p>
    
     <div class="informalexample">
     <div class="example-contents screen">
  <div class="cdata"><pre>
  /usr/local/apache2/bin/apachectl start
  </pre></div>
         </div>
        </div>
  
            <p class="para">OR</p>
  
     <div class="informalexample">
     <div class="example-contents screen">
  <div class="cdata"><pre>
  service httpd restart
  </pre></div>
         </div>
        </div>
  
     </li>
       </ol>
  
      <p class="para">
       Following the steps above you will have a running Apache2 web server with
       support for PHP as a <code class="literal">SAPI</code> module.  Of course there are
       many more configuration options available Apache and PHP.  For more
       information type <strong class="command">./configure --help</strong> in the corresponding
       source tree.
      </p>
      <p class="para">
       Apache may be built multithreaded by selecting the 
       <var class="filename">worker</var> MPM, rather than the standard 
       <var class="filename">prefork</var> MPM, when Apache is built. This is done by
       adding the following option to the argument passed to ./configure, in
       step 3 above:
      </p>
      <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  --with-mpm=worker
  </pre></div>
      </div>
      </div>
      <p class="para">
       This should not be undertaken without being aware of the consequences of 
       this decision, and having at least a fair understanding of
       the implications. The Apache documentation
       regarding <a href="http://httpd.apache.org/docs/current/mpm.html" class="link external">&raquo;&nbsp;MPM-Modules</a>
       discusses MPMs in a great deal more detail.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        The <a href="#faq.installation.apache.multiviews" class="link">Apache MultiViews 
        FAQ</a> discusses using multiviews with PHP.
       </p>
      </p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        To build a multithreaded version of Apache, the target system must support threads.
        In this case, PHP should also be built with experimental
        Zend Thread Safety (ZTS). Under this configuration, not all extensions will be available.
        The recommended setup is to build Apache with the default 
        <var class="filename">prefork</var> MPM-Module.
       </p>
      </p></blockquote>
     </div>
  <hr />
  
  
  
  
     
  
  <div id="install.unix.nginx" class="sect1"><hr />
   <h2 class="title">Nginx 1.4.x on Unix systems</h2>
  
   <p class="para">
    This documentation will cover installing and configuring PHP with
    PHP-FPM for a Nginx 1.4.x HTTP server.
   </p>
  
   <p class="para">
    This guide will assume that you have built Nginx from source and therefore
    all binaries and configuration files are located at
    <code class="literal">/usr/local/nginx</code>. If this is not the case and you have
    obtained Nginx through other means then please refer to the
    <a href="https://www.nginx.com/resources/wiki/" class="link external">&raquo;&nbsp;Nginx Wiki</a> in order to translate
    this manual to your setup.
   </p>
  
   <p class="para">
    This guide will cover the basics of configuring an Nginx server to
    process PHP applications and serve them on port 80, it is recommended
    that you study the Nginx and PHP-FPM documentation if you wish to
    optimise your setup past the scope of this documentation.
   </p>
  
   <p class="para">
    Please note that throughout this documentation version numbers have been
    replaced with an &#039;x&#039; to ensure this documentation stays correct in the future,
    please replace these as necessary with the corresponding version numbers.
   </p>
  
   <ol type="1">
    <li class="listitem">
     <p class="para">
      It is recommended that you visit the Nginx Wiki
      <a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/" class="link external">&raquo;&nbsp;install</a> page 
      in order to obtain and install Nginx on your system.
     </p>
    </li>
  
    <li class="listitem">
     <p class="para">
      Obtain and unpack the PHP source:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  tar zxf php-x.x.x
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      Configure and build PHP.  This is where you customize PHP
      with various options, like which extensions will be enabled. Run
      ./configure --help for a list of available options.  In our example
      we&#039;ll do a simple configure with PHP-FPM and MySQLi support.
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  cd ../php-x.x.x
  ./configure --enable-fpm --with-mysqli
  make
  sudo make install
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      Obtain and move configuration files to their correct locations
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  cp php.ini-development /usr/local/php/php.ini
  cp /usr/local/etc/php-fpm.d/www.conf.default /usr/local/etc/php-fpm.d/www.conf
  cp sapi/fpm/php-fpm /usr/local/bin
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      It is important that we prevent Nginx from passing requests to the
      PHP-FPM backend if the file does not exists, allowing us to prevent
      arbitrarily script injection.
     </p>
     <p class="para">
      We can fix this by setting the
      <a href="#ini.cgi.fix-pathinfo" class="link">cgi.fix_pathinfo</a>
      directive to <code class="literal">0</code> within our php.ini file.
     </p>
     <p class="para">
      Load up php.ini:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  vim /usr/local/php/php.ini
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      Locate <code class="literal">cgi.fix_pathinfo=</code> and modify it as follows:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  cgi.fix_pathinfo=0
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      php-fpm.conf must be modified to specify that php-fpm must run as the user
      www-data and the group www-data before we can start the service:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  vim /usr/local/etc/php-fpm.d/www.conf
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      Find and modify the following: 
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  ; Unix user/group of processes
  ; Note: The user is mandatory. If the group is not set, the default user&#039;s group
  ;       will be used.
  user = www-data
  group = www-data
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      The php-fpm service can now be started:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  /usr/local/bin/php-fpm
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      This guide will not configure php-fpm any further, if you are interested
      in further configuring php-fpm then please consult the documentation.
     </p>
    </li>
  
    <li class="listitem">
     <p class="para">
      Nginx must now be configured to support the processing of PHP applications:
     </p>
  
     <div class="informalexample">
      <div class="example-contents">
  <div class="cdata"><pre>
  vim /usr/local/nginx/conf/nginx.conf
  </pre></div>
      </div>
  
     </div>
  
     <p class="para">
      Modify the default location block to be aware it must attempt
      to serve .php files:
     </p>
  
     <div class="informalexample">
      <div class="example-contents">
  <div class="nginx-confcode"><pre class="nginx-confcode">location / {
      root   html;
      index  index.php index.html index.htm;
  }</pre>
  </div>
      </div>
  
     </div>
  
     <p class="para">
      The next step is to ensure that .php files are passed to the
      PHP-FPM backend. Below the commented default PHP location block,
      enter the following:
     </p>
  
     <div class="informalexample">
      <div class="example-contents">
  <div class="nginx-confcode"><pre class="nginx-confcode">location ~* \.php$ {
      fastcgi_index   index.php;
      fastcgi_pass    127.0.0.1:9000;
      include         fastcgi_params;
      fastcgi_param   SCRIPT_FILENAME    $document_root$fastcgi_script_name;
      fastcgi_param   SCRIPT_NAME        $fastcgi_script_name;
  }</pre>
  </div>
      </div>
  
     </div>
  
     <p class="para">
      Restart Nginx.
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  sudo /usr/local/nginx/sbin/nginx -s stop
  sudo /usr/local/nginx/sbin/nginx
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      Create a test file
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  rm /usr/local/nginx/html/index.html
  echo &quot;&lt;?php phpinfo(); ?&gt;&quot; &gt;&gt; /usr/local/nginx/html/index.php
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      Now navigate to http://localhost. The phpinfo() should now be shown.
     </p>
    </li>
   </ol>
  
   <p class="para">
    Following the steps above you will have a running Nginx web server with
    support for PHP as an <code class="literal">FPM</code> <code class="literal">SAPI</code> module.  Of course there are
    many more configuration options available for Nginx and PHP.  For more
    information type <strong class="command">./configure --help</strong> in the corresponding
    source tree.
   </p>
  
  </div>
  <hr />
  
  
  
  
     
  
  <div id="install.unix.lighttpd-14" class="sect1"><hr />
   <h2 class="title">Lighttpd 1.4 on Unix systems</h2>
  
   <p class="para">
    This section contains notes and hints specific to Lighttpd 1.4 installs
    of PHP on Unix systems.
   </p>
  
   <p class="para">
    Please use the <a href="http://trac.lighttpd.net/trac/" class="link external">&raquo;&nbsp;Lighttpd trac</a>
    to learn how to install Lighttpd properly before continuing.
   </p>
   
   <p class="para">
    Fastcgi is the preferred SAPI to connect PHP and Lighttpd. Fastcgi is
    automagically enabled in php-cgi in PHP 5.3, but for older versions configure
    PHP with --enable-fastcgi.  To confirm that PHP has fastcgi enabled,
    <code class="literal">php -v</code> should contain <code class="literal">PHP 5.2.5 (cgi-fcgi)</code>
    Before PHP 5.2.3, fastcgi was enabled on the php binary (there was no php-cgi).
   </p>
   
   <div class="sect2" id="install.unix.lighttpd-14.lighttpd-spawn">
    <h3 class="title">Letting Lighttpd spawn php processes</h3>
  
    <p class="para">
     To configure Lighttpd to connect to php and spawn fastcgi processes, edit
     lighttpd.conf. Sockets are preferred to connect to fastcgi processes on
     the local system.
    </p>
  
    <div class="example" id="install.unix.nginx.extract.php">
     <p><strong>Example #1 Partial lighttpd.conf</strong></p>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  server.modules += ( &quot;mod_fastcgi&quot; )
  
  fastcgi.server = ( &quot;.php&quot; =&gt;
    ((
      &quot;socket&quot; =&gt; &quot;/tmp/php.socket&quot;,
      &quot;bin-path&quot; =&gt; &quot;/usr/local/bin/php-cgi&quot;,
      &quot;bin-environment&quot; =&gt; (
        &quot;PHP_FCGI_CHILDREN&quot; =&gt; &quot;16&quot;,
        &quot;PHP_FCGI_MAX_REQUESTS&quot; =&gt; &quot;10000&quot;
      ),
      &quot;min-procs&quot; =&gt; 1,
      &quot;max-procs&quot; =&gt; 1,
      &quot;idle-timeout&quot; =&gt; 20
    ))
  )
  </pre></div>
  
     </div>
    </div>
  
    <p class="para">
     The bin-path directive allows lighttpd to spawn fastcgi processes dynamically.
     PHP will spawn children according to the PHP_FCGI_CHILDREN environment
     variable.  The &quot;bin-environment&quot; directive sets the environment for the
     spawned processes. PHP will kill a child process after the number of
     requests specified by PHP_FCGI_MAX_REQUESTS is reached. The directives
     &quot;min-procs&quot; and &quot;max-procs&quot; should generally be avoided with PHP. PHP
     manages its own children and opcode caches like APC will only share among
     children managed by PHP. If &quot;min-procs&quot; is set to something greater than 1,
     the total number of php responders will be multiplied PHP_FCGI_CHILDREN
     (2 min-procs * 16 children gives 32 responders).
    </p>
   </div>
  
   <div class="sect2" id="install.unix.lighttpd-14.spawn-fcgi">
    <h3 class="title">Spawning with spawn-fcgi</h3>  
  
    <p class="para">
     Lighttpd provides a program called spawn-fcgi to make the process of
     spawning fastcgi processes easier.
    </p>
   </div>
  
   <div class="sect2" id="install.unix.lighttpd-14.spawn-php">
    <h3 class="title">Spawning php-cgi</h3>
  
    <p class="para">
     It is possible to spawn processes without spawn-fcgi, though a bit of
     heavy-lifting is required. Setting the PHP_FCGI_CHILDREN environment var
     controls how many children PHP will spawn to handle incoming requests.
     Setting PHP_FCGI_MAX_REQUESTS will determine how long (in requests) each
     child will live. Here&#039;s a simple bash script to help spawn php responders.
    </p>
       
    <div class="example" id="install.unix.nginx.build.php">
     <p><strong>Example #2 Spawning FastCGI Responders</strong></p>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  #!/bin/sh
  
  # Location of the php-cgi binary
  PHP=/usr/local/bin/php-cgi
  
  # PID File location
  PHP_PID=/tmp/php.pid
  
  # Binding to an address
  #FCGI_BIND_ADDRESS=10.0.1.1:10000
  # Binding to a domain socket
  FCGI_BIND_ADDRESS=/tmp/php.sock
  
  PHP_FCGI_CHILDREN=16
  PHP_FCGI_MAX_REQUESTS=10000
  
  env -i PHP_FCGI_CHILDREN=$PHP_FCGI_CHILDREN \
         PHP_FCGI_MAX_REQUESTS=$PHP_FCGI_MAX_REQUESTS \
         $PHP -b $FCGI_BIND_ADDRESS &amp;
  
  echo $! &gt; &quot;$PHP_PID&quot;
  
  </pre></div>
     </div>
    </div>
   </div>
  
   <div class="sect2" id="install.unix.lighttpd-14.remote-fcgi">
    <h3 class="title">Connecting to remote FCGI instances</h3>
  
    <p class="para">
     Fastcgi instances can be spawned on multiple remote machines in order to
     scale applications.
    </p>
     
    <div class="example" id="install.unix.nginx.configure.php">
     <p><strong>Example #3 Connecting to remote php-fastcgi instances</strong></p>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  fastcgi.server = ( &quot;.php&quot; =&gt;
     (( &quot;host&quot; =&gt; &quot;10.0.0.2&quot;, &quot;port&quot; =&gt; 1030 ),
      ( &quot;host&quot; =&gt; &quot;10.0.0.3&quot;, &quot;port&quot; =&gt; 1030 ))
  )
  </pre></div>
     </div>
    </div>
   </div>
  </div>
  <hr />
  
  
  
  
     
  
     <div id="install.unix.sun" class="sect1"><hr />
      <h2 class="title">Sun, iPlanet and Netscape servers on Sun Solaris</h2>
      <p class="para">
       This section contains notes and hints specific to Sun Java System Web Server,
       Sun ONE Web Server, iPlanet and Netscape server installs of PHP on Sun Solaris.
      </p>
      <p class="para">
       From PHP 4.3.3 on you can use PHP scripts with the
       <a href="#ref.nsapi" class="link">NSAPI module</a> to 
       <a href="#install.unix.sun.specialpages" class="link">generate custom directory
       listings and error pages</a>. Additional functions for Apache
       compatibility are also available. For support in current web servers read
       the <a href="#install.unix.sun.notes" class="link">note about subrequests</a>.
      </p>
      <p class="para">
       You can find more information about setting up PHP for the Netscape
       Enterprise Server (NES) here:
       <a href="http://benoit.noss.free.fr/php/install-php4.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php4.html</a>
      </p>
      
      <p class="para">
       To build PHP with Sun JSWS/Sun ONE WS/iPlanet/Netscape web servers,
       enter the proper install directory for the
       <a href="#configure.with-nsapi" class="link">--with-nsapi=[DIR]</a>
       option. The default directory is usually
       <var class="filename">/opt/netscape/suitespot/</var>.
       Please also read <var class="filename">/php-xxx-version/sapi/nsapi/nsapi-readme.txt</var>.
      </p>
      <p class="para">
       <ol type="1">
        <li class="listitem">
         <p class="para">
          Install the following packages from <a href="http://www.sunfreeware.com/" class="link external">&raquo;&nbsp;
          http://www.sunfreeware.com/</a> or another download site:
          <ul class="simplelist">
           <li class="member"><var class="filename">autoconf-2.13</var></li>
           <li class="member"><var class="filename">automake-1.4</var></li>
           <li class="member"><var class="filename">bison-1_25-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">flex-2_5_4a-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">gcc-2_95_2-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">gzip-1.2.4-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">m4-1_4-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">make-3_76_1-sol26-sparc-local</var></li>
           <li class="member">
            <var class="filename">mysql-3.23.24-beta</var> (if you want mysql support)
           </li>
           <li class="member"><var class="filename">perl-5_005_03-sol26-sparc-local</var></li>
           <li class="member"><var class="filename">tar-1.13</var> (GNU tar)</li>
          </ul>
         </p>
        </li>
        <li class="listitem">
         <span class="simpara">
          Make sure your path includes the proper directories
          <code class="literal">PATH=.:/usr/local/bin:/usr/sbin:/usr/bin:/usr/ccs/bin</code>
          and make it available to your system <strong class="userinput"><code>export PATH</code></strong>.
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong class="userinput"><code>gunzip php-x.x.x.tar.gz</code></strong> (if you have a <var class="filename">.gz</var> dist,
          otherwise go to 4).
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          <strong class="userinput"><code>tar xvf php-x.x.x.tar</code></strong>
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Change to your extracted PHP directory:
          <strong class="userinput"><code>cd ../php-x.x.x</code></strong>
         </span>
        </li>
        <li class="listitem">
         <p class="para">
          For the following step, make sure
          <var class="filename">/opt/netscape/suitespot/</var> is
          where your netscape server is installed. Otherwise, change to the
          correct path and run:
          <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">./configure --with-mysql=/usr/local/mysql \
  --with-nsapi=/opt/netscape/suitespot/ \
  --enable-libgcc</pre>
  </div>
          </div>
  
         </p>
        </li>
        <li class="listitem">
         <span class="simpara">
          Run <strong class="command">make</strong> followed by <strong class="command">make install</strong>.
         </span>
        </li>
       </ol>
      </p>
      <p class="para">
       After performing the base install and reading the appropriate readme file,
       you may need to perform some additional configuration steps.
      </p>
      <p class="formalpara">
       <h5 class="title">Configuration Instructions for Sun/iPlanet/Netscape</h5>
       <p class="para">
        Firstly you may need to add some paths to the <var class="varname">LD_LIBRARY_PATH</var>
        environment for the server to find all the shared libs. This can best done
        in the start script for your web server. The start script is often located
        in: <var class="filename">/path/to/server/https-servername/start</var>.
        You may also need to edit the configuration files that are
        located in: <var class="filename">/path/to/server/https-servername/config/</var>.
        <ol type="1">
         <li class="listitem">
          <p class="para">
           Add the following line to <var class="filename">mime.types</var> (you can do
           that by the administration server):
           <div class="example-contents screen">
  <div class="cdata"><pre>
  type=magnus-internal/x-httpd-php exts=php
  </pre></div>
           </div>
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Edit <var class="filename">magnus.conf</var> (for servers &gt;= 6) or
           <var class="filename">obj.conf</var> (for servers &lt; 6) and add the following,
           shlib will vary depending on your system, it will be something like
           <var class="filename">/opt/netscape/suitespot/bin/libphp4.so</var>. You should
           place the following lines after <code class="literal">mime types init</code>.
           <div class="example-contents">
  <div class="cdata"><pre>
  Init fn=&quot;load-modules&quot; funcs=&quot;php4_init,php4_execute,php4_auth_trans&quot; shlib=&quot;/opt/netscape/suitespot/bin/libphp4.so&quot;
  Init fn=&quot;php4_init&quot; LateInit=&quot;yes&quot; errorString=&quot;Failed to initialize PHP!&quot; [php_ini=&quot;/path/to/php.ini&quot;]
  </pre></div>
           </div>
  
           (PHP &gt;= 4.3.3) The <code class="literal">php_ini</code> parameter is
           optional but with it you can place your <var class="filename">php.ini</var> in your
           web server config directory.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Configure the default object in <var class="filename">obj.conf</var>
           (for virtual server classes [version 6.0+] in
           their <var class="filename">vserver.obj.conf</var>):
           <div class="example-contents">
  <div class="cdata"><pre>
  &lt;Object name=&quot;default&quot;&gt;
  .
  .
  .
  .#NOTE this next line should happen after all &#039;ObjectType&#039; and before all &#039;AddLog&#039; lines
  Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/x-httpd-php&quot; [inikey=value inikey=value ...]
  .
  .
  &lt;/Object&gt;
  </pre></div>
           </div>
  
           (PHP &gt;= 4.3.3) As additional parameters you can add some special
           <var class="filename">php.ini</var>-values, for example you can set a
           <code class="literal">docroot=&quot;/path/to/docroot&quot;</code> specific
           to the context <code class="literal">php4_execute</code> is called. For boolean
           ini-keys please use 0/1 as value, not
           <code class="literal">&quot;On&quot;,&quot;Off&quot;,...</code>
           (this will not work correctly), e.g.
           <code class="literal">zlib.output_compression=1</code> instead of
           <code class="literal">zlib.output_compression=&quot;On&quot;</code>
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           This is only needed if you want to configure a directory that only consists of
           PHP scripts (same like a <var class="filename">cgi-bin</var> directory):
           <div class="example-contents">
  <div class="cdata"><pre>
  &lt;Object name=&quot;x-httpd-php&quot;&gt;
  ObjectType fn=&quot;force-type&quot; type=&quot;magnus-internal/x-httpd-php&quot;
  Service fn=php4_execute [inikey=value inikey=value ...]
  &lt;/Object&gt;
  </pre></div>
           </div>
  
           After that you can configure a directory in the Administration server and assign it
           the style <code class="literal">x-httpd-php</code>. All files in it will get executed as PHP.
           This is nice to hide PHP usage by renaming files to <var class="filename">.html</var>.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Setup of authentication: PHP authentication cannot be used with any
           other authentication. ALL AUTHENTICATION IS PASSED TO YOUR PHP SCRIPT.
           To configure PHP Authentication for the entire server, add the
           following line to your default object:
           <div class="example-contents">
  <div class="cdata"><pre>
  &lt;Object name=&quot;default&quot;&gt;
  AuthTrans fn=php4_auth_trans
  .
  .
  .
  &lt;/Object&gt;
  </pre></div>
           </div>
  
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           To use PHP Authentication on a single directory, add the following:
           <div class="example-contents">
  <div class="cdata"><pre>
  &lt;Object ppath=&quot;d:\path\to\authenticated\dir\*&quot;&gt;
  AuthTrans fn=php4_auth_trans
  &lt;/Object&gt;
  </pre></div>
           </div>
  
          </p>
         </li>
        </ol>
       </p>
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        The stacksize that PHP uses depends on the configuration of the web server. If you get
        crashes with very large PHP scripts, it is recommended to raise it with the Admin Server
        (in the section &quot;MAGNUS EDITOR&quot;).
       </p>
      </p></blockquote>
     
     <div class="sect2" id="install.unix.sun.phpini">
      <h3 class="title">CGI environment and recommended modifications in <var class="filename">php.ini</var></h3>
      <p class="para">
       Important when writing PHP scripts is the fact that Sun JSWS/Sun ONE
       WS/iPlanet/Netscape is a multithreaded web server. Because of that all
       requests are running in the same process space (the space of the web server
       itself) and this space has only one environment. If you want to get CGI
       variables like <code class="literal">PATH_INFO</code>, <code class="literal">HTTP_HOST</code>
       etc. it is not the correct way to try this in the old PHP way with
       <span class="function"><a href="#function.getenv" class="function">getenv()</a></span> or a similar way (register globals to
       environment, <var class="varname"><a href="#reserved.variables.environment" class="classname">$_ENV</a></var>). You would only get the environment
       of the running web server without any valid CGI variables!
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Why are there (invalid) CGI variables in the environment?
       </p>
       <p class="para">
        Answer: This is because you started the web server process from the admin server
        which runs the startup script of the web server, you wanted to start, as a CGI script
        (a CGI script inside of the admin server!). This is why the environment of
        the started web server has some CGI environment variables in it. You can test
        this by starting the web server not from the administration server. Use
        the command line as root user and start it manually - you will see
        there are no CGI-like environment variables.
       </p>
      </p></blockquote>
      <p class="para">
       Simply change your scripts to get CGI variables in the correct way for
       PHP 4.x by using the superglobal <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var>. If you have
       older scripts which use <var class="varname">$HTTP_HOST</var>, etc., you should turn
       on <code class="literal">register_globals</code> in <var class="filename">php.ini</var> and change the variable
       order too (important: remove <code class="literal">&quot;E&quot;</code> from it,
       because you do not need the environment here):
       <div class="example-contents">
  <div class="cdata"><pre>
  variables_order = &quot;GPCS&quot;
  register_globals = On
  </pre></div>
       </div>
  
      </p>
     </div>
     
     <div class="sect2" id="install.unix.sun.specialpages">
      <h3 class="title">Special use for error pages or self-made directory listings (PHP &gt;= 4.3.3)</h3>
      <p class="para">
       You can use PHP to generate the error pages for <code class="literal">&quot;404 Not Found&quot;</code>
       or similar. Add the following line to the object in <var class="filename">obj.conf</var> for
       every error page you want to overwrite:
       <div class="example-contents">
  <div class="cdata"><pre>
  Error fn=&quot;php4_execute&quot; code=XXX script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
  </pre></div>
       </div>
  
       where <code class="literal">XXX</code> is the HTTP error code. Please delete
       any other <code class="literal">Error</code> directives which could interfere with yours.
       If you want to place a page for all errors that could exist, leave
       the <code class="literal">code</code> parameter out. Your script can get the HTTP status code
       with <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['ERROR_TYPE']</a></var>.
      </p>
      <p class="para">
       Another possibility is to generate self-made directory listings.
       Just create a PHP script which displays a directory listing and
       replace the corresponding default <code class="literal">Service</code> line for
       <code class="literal">type=&quot;magnus-internal/directory&quot;</code>
       in <var class="filename">obj.conf</var> with the following:
       <div class="example-contents">
  <div class="cdata"><pre>
  Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/directory&quot; script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
  </pre></div>
       </div>
  
       For both error and directory listing pages the original URI and
       translated URI are in the variables <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['PATH_INFO']</a></var> and
       <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['PATH_TRANSLATED']</a></var>.
      </p>
     </div>
     
     <div class="sect2" id="install.unix.sun.notes">
      <h3 class="title">Note about <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> and subrequests (PHP &gt;= 4.3.3)</h3>
      <p class="para">
       The NSAPI module now supports the <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> function
       (alias: <span class="function"><a href="#function.virtual" class="function">virtual()</a></span>)
       to make subrequests on the web server and insert the result in the web page.
       This function uses some undocumented features from the NSAPI library.
       On Unix the module automatically looks for the needed functions and uses
       them if available. If not, <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> is disabled.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        But be warned: Support for <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> is EXPERIMENTAL!!!
       </p>
      </p></blockquote>
     </div>   
    </div>
  <hr />
  
  
  
  
     
  
  <div id="install.unix.litespeed" class="sect1"><hr />
   <h2 class="title">LiteSpeed Web Server/OpenLiteSpeed Web Server on Unix systems</h2>
  
   <p class="para">
    LiteSpeed PHP is an optimized compilation of PHP built to work with LiteSpeed
    products through the LiteSpeed SAPI. LSPHP runs as its own process and has 
    its own standalone binary, which can be used as a simple command line binary to execute 
    PHP scripts from the command line.
   </p>
  
   <p class="para">
    The LSAPI is a highly optimized API that allows communication between 
    LiteSpeed and third party web engines. Its protocol is similar to FCGI, but is 
    more efficient.
   </p>
  
   <p class="para">
    This documentation will cover installing and configuring PHP with LSAPI 
    for a LiteSpeed Web Server and OpenLiteSpeed Web Server.
   </p>
  
   <p class="para">
    This guide will assume that either LSWS or OLS is installed with their 
    default paths and flags. The default installation directory for both web 
    servers is /usr/local/lsws and both can be run from the bin subdirectory.
   </p>
  
   <p class="para">
    Please note that throughout this documentation, version numbers have been 
    replaced with an <code class="literal">x</code> to ensure this documentation stays correct in the future, 
    please replace these, as necessary, with the corresponding version numbers.
   </p>
  
   <ol type="1">
    <li class="listitem">
     <p class="para">
      To obtain and install either LiteSpeed Web Server or OpenLiteSpeed Web Server, visit the
      LiteSpeed Web Server wiki
      <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:installation" class="link external">&raquo;&nbsp;install page</a>
      or OpenLiteSpeed wiki 
      <a href="http://open.litespeedtech.com/mediawiki/index.php/Help:Install" class="link external">&raquo;&nbsp;install page</a>.
     </p>
    </li>
  
    <li class="listitem">
     <p class="para">
      Obtain and unpack the php source:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  mkdir /home/php
  cd /home/php
  wget http://us1.php.net/get/php-x.x.x.tar.gz/from/this/mirror
  tar -zxvf php-x.x.x.tar.gz
  cd php-x.x.x
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      Configure and build PHP. This is where PHP can be customized with various options,
      such as which extensions will be enabled. Run ./configure --help for a list of available 
      options. In the example, we&#039;ll use the default recommended configuration options for 
      LiteSpeed Web Server:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  ./configure ... &#039;--with-litespeed&#039;
  make
  sudo make install
  </pre></div>
      </div>
     </div>
    </li>
  
    <li class="listitem">
     <p class="para">
      Checking The LSPHP Installation
     </p>
  
     <p class="para">
      One of the simplest ways to check whether the installation of PHP was successful
      is to run the following code:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  cd /usr/local/lsws/fcgi-bin/
  ./lsphp5 -v
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      This should return information about the new PHP build:
     </p>
  
     <div class="informalexample">
      <div class="example-contents screen">
  <div class="cdata"><pre>
  PHP 5.6.17 (litespeed) (built: Mar 22 2016 11:34:19)
  Copyright (c) 1997-2014 The PHP Group
  Zend Engine v2.6.0, Copyright (c) 1998-2015 Zend Technologies
  </pre></div>
      </div>
     </div>
  
     <p class="para">
      Notice the <code class="literal">litespeed</code> in parenthesis. This means that the PHP binary has been 
      built with LSAPI support.
     </p>
    </li>
   </ol>
  
   <p class="para">
    Following the steps above, LiteSpeed / OpenLiteSpeed Web Server should 
    now be running with support for PHP as an SAPI extension. There are many more
    configuration options available for LSWS / OLS and PHP. For more information,
    check out the LiteSpeed wiki about 
    <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:php" class="link external">&raquo;&nbsp;PHP</a>.
   </p>
  
   <p class="para">
    Using LSPHP from the command line:
   </p>
  
   <p class="para">
    LSPHP(LSAPI + PHP) command line mode is used to process PHP scripts running 
    on a remote server that does not necessarily have a web server running. It is used 
    to process PHP scripts residing on a local web server (separate). This setup is 
    suitable for service scalability as PHP processing is offloaded to a remote server.
   </p>
  
   <p class="para">
    Start lsphp from the command line on a remote server:
    LSPHP is an executable and can be started manually and bound to IPv4, IPv6, or 
    Unix domain socket addresses with the command line option -b socket_address
   </p>
  
   <p class="para">
    Examples:
   </p>
  
   <p class="para">
    Have LSPHP bind to port 3000 on all IPv4 and IPv6 addresses:
   </p>
  
   <div class="informalexample">
    <div class="example-contents screen">
  <div class="cdata"><pre>
  /path/to/lsphp -b [::]:3000
  </pre></div>
    </div>
   </div>
  
   <p class="para">
    Have LSPHP bind to port 3000 on all IPv4 addresses:
   </p>
  
   <div class="informalexample">
    <div class="example-contents screen">
  <div class="cdata"><pre>
  /path/to/lsphp -b *:3000
  </pre></div>
    </div>
   </div>
  
   <p class="para">
    Have LSPHP bind to address 192.168.0.2:3000:
   </p>
  
   <div class="informalexample">
    <div class="example-contents screen">
  <div class="cdata"><pre>
  /path/to/lsphp -b 192.168.0.2:3000
  </pre></div>
    </div>
   </div>
  
   <p class="para">
    Have LSPHP accept requests on Unix domain socket <code class="literal">/tmp/lsphp_manual.sock</code>:
   </p>
  
   <div class="informalexample">
    <div class="example-contents screen">
  <div class="cdata"><pre>
  /path/to/lsphp -b /tmp/lsphp_manual.sock
  </pre></div>
    </div>
   </div>
  
   <p class="para">
    Environment variables can be added before the LSPHP executable:
   </p>
  
   <div class="informalexample">
    <div class="example-contents screen">
  <div class="cdata"><pre>
  PHP_LSAPI_MAX_REQUESTS=500 PHP_LSAPI_CHILDREN=35 /path/to/lsphp -b IP_address:port
  </pre></div>
    </div>
   </div>
  
   <p class="para">
    Currently LiteSpeed PHP can be used with LiteSpeed Web Server, 
    OpenLiteSpeed Web Server, and Apache mod_lsapi. For steps on 
    server-side configuration, visit the wiki pages for 
    <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:php:configuring-lsws-for-php" class="link external">&raquo;&nbsp;LiteSpeed Web Server</a> 
    and <a href="http://open.litespeedtech.com/mediawiki/index.php/Help:Default_PHP_Settings" class="link external">&raquo;&nbsp;OpenLiteSpeed</a>.
   </p>
  
   <p class="para">
    LSPHP can be installed in several other ways as well.
   </p>
  
   <p class="para">
    CentOS:
    On CentOS, LSPHP can be installed from the LiteSpeed Repository or the Remi 
    Repository  using <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:php:rpm" class="link external">&raquo;&nbsp;RPM</a>.
   </p>
  
   <p class="para">
    Debian:
    On Debian, LSPHP can be installed from the LiteSpeed Repository using 
    <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:php:apt" class="link external">&raquo;&nbsp;apt</a>.
   </p>
  
   <p class="para">
    cPanel:
    Visit the respective <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:cpanel:easyapache4-config" class="link external">&raquo;&nbsp;wiki page</a> 
    about how to install LSPHP with cPanel and LSWS/OLS using EasyApache 4.
   </p>
  
   <p class="para">
    Plesk:
    Plesk can be used with LSPHP on CentOS, CloudLinux, Debian, and Ubuntu, 
    for more details on this, visit the respective <a href="https://www.litespeedtech.com/support/wiki/doku.php/litespeed_wiki:plesk:php_guide" class="link external">&raquo;&nbsp;wiki page</a>
   </p>
  </div>
  <hr />
  
  
  
  
     
  
    <div id="install.unix.commandline" class="sect1"><hr />
     <h2 class="title">CGI and command line setups</h2>
     <p class="para">
      By default, PHP is built as both a <acronym title="Command Line Interpreter/Interface">CLI</acronym> and
      <acronym title="Common Gateway Interface">CGI</acronym> program, which can be used for CGI
      processing. If you are running a web server that PHP has module
      support for, you should generally go for that solution for
      performance reasons. However, the CGI version enables users to run
      different PHP-enabled pages under different user-ids.
     </p>
     <div class="warning"><strong class="warning">Warning</strong><p class="para">A server deployed in CGI mode is open
  to several possible vulnerabilities. Please read our
  <a href="#security.cgi-bin" class="link">CGI security section</a> to learn how to
  defend yourself from such attacks.</p></div>
     
     <div class="sect2" id="install.unix.commandline.testing">
      <h3 class="title">Testing</h3>
      <p class="simpara">
       If you have built PHP as a CGI program, you may test your build
       by typing <strong class="command">make test</strong>.  It is always a good idea
       to test your build.  This way you may catch a problem with PHP on
       your platform early instead of having to struggle with it later.
      </p>
     </div>
  
     <div class="sect2" id="install.unix.commandline.using-variables">
      <h3 class="title">Using Variables</h3>
      <p class="simpara">
        Some <a href="#reserved.variables.server" class="link">server supplied
        environment variables</a> are not defined in the 
        current <a href="http://www.faqs.org/rfcs/rfc3875" class="link external">&raquo;&nbsp;CGI/1.1 specification</a>.
        Only the following variables are defined there: <var class="varname">AUTH_TYPE</var>, 
        <var class="varname">CONTENT_LENGTH</var>, <var class="varname">CONTENT_TYPE</var>,
        <var class="varname">GATEWAY_INTERFACE</var>, <var class="varname">PATH_INFO</var>, 
        <var class="varname">PATH_TRANSLATED</var>, <var class="varname">QUERY_STRING</var>,
        <var class="varname">REMOTE_ADDR</var>, <var class="varname">REMOTE_HOST</var>, 
        <var class="varname">REMOTE_IDENT</var>, <var class="varname">REMOTE_USER</var>,
        <var class="varname">REQUEST_METHOD</var>, <var class="varname">SCRIPT_NAME</var>, 
        <var class="varname">SERVER_NAME</var>, <var class="varname">SERVER_PORT</var>,
        <var class="varname">SERVER_PROTOCOL</var>, and <var class="varname">SERVER_SOFTWARE</var>.
        Everything else should be treated as &#039;vendor extensions&#039;.
      </p>
     </div>
     
    </div>
  <hr />
  
  
  
  
     
     
  
  <div id="install.unix.hpux" class="sect1"><hr />
   <h2 class="title">HP-UX specific installation notes</h2>
   <p class="para">
    This section contains notes and hints specific to installing PHP
    on HP-UX systems.
   </p>
   <p class="para">
    There are two main options for installing PHP on HP-UX systems. Either
    compile it, or install a pre-compiled binary.
   </p>
   <p class="para">
    Official pre-compiled packages are located here:
    <a href="http://software.hp.com/" class="link external">&raquo;&nbsp;http://software.hp.com/</a>
   </p>
   <p class="para">
    Until this manual section is rewritten, the documentation about compiling
    PHP (and related extensions) on HP-UX systems has been removed. For now,
    consider reading the following external resource:
    <a href="http://www.tekwire.net/joomla/building/apache/http-hpux-11-11" class="link external">&raquo;&nbsp;Building Apache and PHP on HP-UX 11.11</a>
   </p>
  </div>
  <hr />
  
  
  
  
     
  
  <div id="install.unix.openbsd" class="sect1"><hr />
   <h2 class="title">OpenBSD installation notes</h2>
   <p class="para">
   This section contains notes and hints specific to installing
   PHP on <a href="http://www.openbsd.org/" class="link external">&raquo;&nbsp;OpenBSD 5.8</a>.
   </p>
   <div class="sect2" id="install.unix.openbsd.packages">
    <h3 class="title">Using Binary Packages</h3>
     <p class="simpara">
      Using binary packages to install PHP on OpenBSD is the recommended
      and simplest method.  The core package has been separated from the various
      modules, and each can be installed and removed independently from the others.
      The files you need can be found on your OpenBSD CD or on the FTP site.
     </p>
     <p class="simpara">
      The main package you need to install is <var class="filename">php</var>,
      which contains the basic engine (plus gettext and iconv).  Next, take a look
      at the module packages, such as <var class="filename">php-mysql</var>
      or <var class="filename">php-imap</var>.  You need to use the <strong class="command">phpxs</strong>
      command to activate and deactivate these modules in your <var class="filename">php.ini</var>.
     </p>
     <div class="example" id="install.unix.nginx.configure.ini">
      <p><strong>Example #1 OpenBSD Package Install Example</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># pkg_add php
  # pkg_add php-fpm
  # pkg_add php-mysql
    (install the PEAR libraries)
  # pkg_add pear
  
  Follow the instructions shown with each package!
  
    (to remove packages)
  # pkg_delete php
  # pkg_delete php-fpm
  # pkg_delete php-mysql
  # pkg_delete pear</pre>
  </div>
      </div>
  
     </div>
     <p class="simpara">
     Read the <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=packages" class="link external">&raquo;&nbsp;packages(7)</a>
     manual page for more information about binary packages on OpenBSD.
     </p>
   </div>
   <div class="sect2" id="install.unix.openbsd.ports">
    <h3 class="title">Using Ports</h3>
    <p class="simpara">
     You can also compile up PHP from source using the <a href="http://www.openbsd.org/faq/ports/ports.html" class="link external">&raquo;&nbsp;ports tree</a>.
     However, this is only recommended for users familiar with OpenBSD.  The PHP 4 port
     is split into two sub-directories: core and extensions.  The
     extensions directory generates sub-packages for all of the supported
     PHP modules.  If you find you do not want to create some of these modules,
     use the <strong class="command">no_*</strong> FLAVOR.  For example, to skip building
     the imap module, set the FLAVOR to <strong class="command">no_imap</strong>.
    </p>
   </div>
   <div class="sect2" id="install.unix.openbsd.faq">
    <h3 class="title">Common Problems</h3>
    <ul class="itemizedlist">
     <li class="listitem">
       <span class="simpara">Apache and Nginx are no longer the default server on OpenBSD, but they can both be easily
        found in ports and packages. The new default server is also called &#039;httpd&#039;.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">The default install of httpd runs inside a
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot" class="link external">&raquo;&nbsp;chroot(2) jail</a>, which will restrict PHP scripts to
      accessing files under <var class="filename">/var/www</var>.  You will therefore need to create a
      <var class="filename">/var/www/tmp</var> directory for PHP session files to be stored, or use an
      alternative session backend.  In addition, database sockets need to be placed inside the
      jail or listen on the <var class="filename">localhost</var> interface.  If you use network functions,
      some files from <var class="filename">/etc</var> such as <var class="filename">/etc/resolv.conf</var> and
      <var class="filename">/etc/services</var> will need to be moved into <var class="filename">/var/www/etc</var>.
      The OpenBSD PEAR package automatically installs into the correct chroot directories.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
      The OpenBSD 5.7+ package for the <a href="http://www.libgd.org/" class="link external">&raquo;&nbsp;gd</a> extension requires
       XFree86 to be installed. This can be added post-installation (See OpenBSD FAQ#4) by adding 
       the <var class="filename">xbase.tgz</var> file set.
      </span>
     </li>
    </ul>
   </div>
     
   <div class="sect2" id="install.unix.openbsd.older">
    <h3 class="title">Older Releases</h3>
    <p class="simpara">
     Older releases of OpenBSD used the FLAVORS system to compile up
     a statically linked PHP.  Since it is hard to generate binary packages using
     this method, it is now deprecated.  You can still use the old stable
     ports trees if you wish, but they are unsupported by the OpenBSD team.
     If you have any comments about this, the current maintainer for the port
     is Anil Madhavapeddy (avsm at openbsd dot org).
    </p>
   </div>
  </div>
  <hr />
  
  
  
  
     
  
  <div id="install.unix.solaris" class="sect1"><hr />
   <h2 class="title"><span class="productname">Solaris</span> specific installation tips</h2>
   <p class="para">
    This section contains notes and hints specific to installing
    PHP on <span class="productname">Solaris</span> systems.
   </p>
   <div class="sect2" id="install.unix.solaris.required">
    <h3 class="title">Required software</h3>
    <p class="para">
     <span class="productname">Solaris</span> installs often lack C compilers and their related tools.
     Read <a href="#faq.installation.needgnu" class="link">this FAQ</a> 
     for information on why using GNU versions for some of these
     tools is necessary.
    </p>
    <p class="para">
     For unpacking the PHP distribution you need
     <ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">
        tar
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        gzip or
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        bzip2
       </span>
      </li>
     </ul>
    </p>
    <p class="para">
     For compiling PHP you need
     <ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">
        gcc (recommended, other C compilers may work)
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        make
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        GNU sed
       </span>
      </li>
     </ul>
    </p>
    <p class="para">
     For building extra extensions or hacking the code of PHP you might also need
     <ul class="itemizedlist">
      <li class="listitem">
       <span class="simpara">
        flex (up to PHP 5.2)
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        re2c
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        bison
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        m4
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        autoconf
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        automake
       </span>
      </li>
     </ul>
      In addition, you will need to install (and possibly compile) any
      additional software specific to your configuration, such as Oracle
      or MySQL.
    </p>     
   </div>
   <div class="sect2" id="install.unix.solaris.packages">
    <h3 class="title">Using Packages</h3>
    <p class="simpara">
     You can simplify the <span class="productname">Solaris</span> install process by using pkgadd to
     install most of your needed components. The Image Packaging System (IPS) for
     <span class="productname">Solaris 11 Express</span> also contains most of the required components
     for installation using the pkg command.
    </p>
   </div>
  </div>
  <hr />
  
  
  
  
     
     
  
  <div id="install.unix.debian" class="sect1"><hr />
   <h2 class="title">Debian GNU/Linux installation notes</h2>
   <p class="para">
    This section contains notes and hints specific to installing
    PHP on <a href="http://www.debian.org/" class="link external">&raquo;&nbsp;Debian GNU/Linux</a>.
   </p>
   <div class="warning"><strong class="warning">Warning</strong>
    <p class="para">
     Unofficial builds from third-parties are not supported here. Any bugs
     should be reported to the Debian team unless they can be reproduced using
     the latest builds from our <a href="https://www.php.net/downloads.php" class="link external">&raquo;&nbsp;download
     area</a>.
    </p>
   </div>
   <p class="para">
    While the instructions for building PHP on Unix apply to Debian as well,
    this manual page contains specific information for other options, such as
    using either the <code class="literal">apt-get</code> or <code class="literal">aptitude</code>
    commands. This manual page uses these two commands interchangeably.
   </p>
   <div class="sect2" id="install.unix.debian.apt">
    <h3 class="title">Using APT</h3>
     <p class="simpara">
      First, note that other related packages may be desired like
      <code class="literal">libapache2-mod-php5</code> to integrate with Apache 2, and
      <code class="literal">php-pear</code> for PEAR.
     </p>
     <p class="simpara">
      Second, before installing a package, it&#039;s wise to ensure the package list
      is up to date. Typically, this is done by running the command
      <strong class="command">apt-get update</strong>.
     </p>
     <div class="example" id="install.unix.nginx.configure.pathinfo">
      <p><strong>Example #1 Debian Install Example with Apache 2</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># apt-get install php5-common libapache2-mod-php5 php5-cli</pre>
  </div>
      </div>
  
     </div>
     <p class="simpara">
      APT will automatically install the PHP 5 module for Apache 2 and all of its
      dependencies, and then activate it.  Apache should be restarted in order for
      the changes take place. For example:
     </p>
     <div class="example" id="install.unix.nginx.modify.phpfpm">
      <p><strong>Example #2 Stopping and starting Apache once PHP is installed</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># /etc/init.d/apache2 stop
  # /etc/init.d/apache2 start</pre>
  </div>
      </div>
  
     </div>
   </div>
   <div class="sect2" id="install.unix.debian.config">
    <h3 class="title">Better control of configuration</h3>
     <p class="simpara">
      In the last section, PHP was installed with only core modules. It&#039;s
      very likely that additional modules will be desired, such as
      <a href="#book.mysql" class="link">MySQL</a>,
      <a href="#book.curl" class="link">cURL</a>,
      <a href="#book.image" class="link">GD</a>,
      etc. These may also be installed via the <code class="literal">apt-get</code> command.
     </p>
     <div class="example" id="install.unix.nginx.modify.phpfpm.usergroup">
      <p><strong>Example #3 Methods for listing additional PHP 5 packages</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># apt-cache search php5
  # aptitude search php5
  # aptitude search php5 |grep -i mysql</pre>
  </div>
      </div>
  
     </div>
     <p class="simpara">
      The examples will show a lot of packages including several PHP specific ones
      like php5-cgi, php5-cli and php5-dev. Determine which are needed
      and install them like any other with either <code class="literal">apt-get</code>
      or <code class="literal">aptitude</code>. And because Debian performs
      dependency checks, it&#039;ll prompt for those so for example to install
      MySQL and cURL:
     </p>
     <div class="example" id="install.unix.nginx.start.phpfpm">
      <p><strong>Example #4 Install PHP with MySQL, cURL</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># apt-get install php5-mysql php5-curl</pre>
  </div>
      </div>
  
     </div>
     <p class="simpara">
      APT will automatically add the appropriate lines to the
      different <var class="filename">php.ini</var> related files like 
      <var class="filename">/etc/php5/apache2/php.ini</var>,
      <var class="filename">/etc/php5/conf.d/pdo.ini</var>, etc. and depending on
      the extension will add entries similar to <code class="literal">extension=foo.so</code>.
      However, restarting the web server (like Apache) is required before these
      changes take affect.
     </p>
   </div>
   <div class="sect2" id="install.unix.debian.faq">
    <h3 class="title">Common Problems</h3>
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       If the PHP scripts are not parsing via the web server, then it&#039;s
       likely that PHP was not added to the web server&#039;s configuration
       file, which on Debian may be <var class="filename">/etc/apache2/apache2.conf</var>
       or similar. See the Debian manual for further details.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       If an extension was seemingly installed yet the functions are undefined,
       be sure that the appropriate ini file is being loaded and/or the web
       server was restarted after installation.
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       There are two basic commands for installing packages on Debian (and other
       linux variants): <code class="literal">apt-get</code> and <code class="literal">aptitude</code>.
       However, explaining the subtle differences between these commands goes
       beyond the scope of this manual.
      </span>
     </li>
    </ul>
   </div>
  </div>
  <hr />
  
     
    </div>
  
  <hr />

  <div id="install.macosx" class="chapter"><hr />
    <h1>Installation on macOS</h1>
   <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#install.macosx.packages">Using Packages</a></li><li><a href="#install.macosx.bundled">Using the bundled PHP</a></li><li><a href="#install.macosx.compile">Compiling PHP on macOS</a></li></ul>
   
    <p class="para">
     This section contains notes and hints specific to installing PHP on macOS.
     PHP is bundled with Macs, and compiling is similar to the
     <a href="#install.unix" class="link">Unix installation guide</a>.
    </p>
    
   
    <div id="install.macosx.packages" class="sect1"><hr />
     <h2 class="title">Using Packages</h2>
     <p class="simpara">
      There are a few pre-packaged and pre-compiled versions of PHP for
      macOS. This can help in setting up a standard
      configuration, but if you need to have a different set of features
      (such as a secure server, or a different database driver), you may
      need to build PHP and/or your web server yourself. If you are unfamiliar
      with building and compiling your own software, it&#039;s worth
      checking whether somebody has already built a packaged
      version of PHP with the features you need.
     </p>
     <p class="simpara">
      The following resources offer easy to install packages and 
      precompiled binaries for PHP on Mac OS:
     </p>
     <p class="para">
      <ul class="itemizedlist">
       <li class="listitem">
        <span class="simpara">
         MacPorts: 
         <a href="http://www.macports.org/" class="link external">&raquo;&nbsp;http://www.macports.org/</a>
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         Liip: 
         <a href="http://php-osx.liip.ch/" class="link external">&raquo;&nbsp;http://php-osx.liip.ch/</a>
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         Fink: 
         <a href="http://www.finkproject.org/" class="link external">&raquo;&nbsp;http://www.finkproject.org/</a>
        </span>
       </li>
       <li class="listitem">
        <span class="simpara">
         Homebrew: 
         <a href="https://github.com/Homebrew/brew" class="link external">&raquo;&nbsp;https://github.com/Homebrew/brew</a>
        </span>
       </li>
      </ul>
     </p>
    </div>
   <hr />
   
   
   
   
    
   
   <div id="install.macosx.bundled" class="sect1"><hr />
    <h2 class="title">Using the bundled PHP</h2>
    <p class="simpara">
     PHP has come standard with Macs since Mac OS X version 10.0.0. Enabling PHP 
     with the default web server requires uncommenting a few lines in the 
     Apache configuration file <var class="filename">httpd.conf</var> whereas the 
     <acronym title="Common Gateway Interface">CGI</acronym> and/or <acronym title="Command Line Interpreter/Interface">CLI</acronym> are enabled by  
     default (easily accessible via the Terminal program).
    </p>
    <p class="simpara">
     Enabling PHP using the instructions below is meant for quickly setting up
     a local development environment.  It&#039;s <em class="emphasis">highly recommended</em> 
     to always upgrade PHP to the newest version. Like most live software, 
     newer versions are created to fix bugs and add features and PHP being is 
     no different.  See the appropriate macOS installation documentation for 
     further details. The following instructions are geared towards a beginner 
     with details provided for getting a default setup to work. All users are 
     encouraged to compile, or install a new packaged version.  
    </p>
    <p class="simpara">
     The standard installation type is using mod_php, and enabling the bundled 
     mod_php on macOS for the Apache web server (the default web server, 
     that is accessible via System Preferences) involves the following steps:
    </p>
    <p class="para">
     <ol type="1">
      <li class="listitem">
       <span class="simpara">
        Locate and open the Apache configuration file. By default, the location 
        is as follows: <var class="filename">/private/etc/apache2/httpd.conf</var>
       </span>
       <span class="simpara">
        Using <code class="literal">Finder</code> or <code class="literal">Spotlight</code> to find
        this file may prove difficult as by default it&#039;s private and owned by
        the <code class="literal">root</code> user.
       </span>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <span class="simpara">
         One way to open this is by using a Unix based text editor in the
         Terminal, for example <code class="literal">nano</code>, and because the 
         file is owned by <code class="literal">root</code> we&#039;ll use the <code class="literal">sudo</code> command
         to open it (as <code class="literal">root</code>) so for example type the following into the 
         <code class="literal">Terminal</code> Application (after, it will prompt for
         a password):
         <code class="literal">sudo nano /private/etc/apache2/httpd.conf</code>
        </span>
        <span class="simpara">
         Noteworthy nano commands: <code class="literal">^w</code> (search), 
         <code class="literal">^o</code> (save), and <code class="literal">^x</code> (exit) where 
         <code class="literal">^</code> represents the Ctrl key.
        </span>
       </p></blockquote> 
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <span class="simpara">
         Versions of Mac OS X prior to 10.5 were bundled with older versions of
         PHP and Apache.  As such, the Apache configuration file on legacy
         machines may be <var class="filename">/etc/httpd/httpd.conf</var>.
        </span>
       </p></blockquote>
      </li>
      <li class="listitem">
       <p class="para">
        With a text editor, uncomment the lines (by removing the #) that look 
        similar to the following (these two lines are often not together, 
        locate them both in the file):
        <div class="example-contents screen">
   <div class="cdata"><pre>
   # LoadModule php5_module libexec/httpd/libphp5.so
   
   # AddModule mod_php5.c
   </pre></div>
        </div>
         Notice the location/path. When building PHP in the future, the above
         files should be replaced or commented out.
       </p>
      </li>
      <li class="listitem">
       <p class="para">
        Be sure the desired extensions will parse as PHP (examples: .php .html 
        and .inc)
       </p>
       <p class="para">
        Due to the following statement already existing in
        <var class="filename">httpd.conf</var> (as of Mac Panther), once PHP is 
        enabled the <var class="filename">.php</var> files will automatically 
        parse as PHP.
        <div class="example-contents screen">
   <div class="cdata"><pre>
   &lt;IfModule mod_php5.c&gt;
       # If php is turned on, we respect .php and .phps files.
       AddType application/x-httpd-php .php
       AddType application/x-httpd-php-source .phps
   
       # Since most users will want index.php to work we
       # also automatically enable index.php
       &lt;IfModule mod_dir.c&gt;
           DirectoryIndex index.html index.php
       &lt;/IfModule&gt;
   &lt;/IfModule&gt;
   </pre></div>
        </div>
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Before Mac OS X 10.5 (Leopard), PHP 4 was bundled instead of PHP 5 in
         which case the above instructions will differ slightly by changing
         5&#039;s to 4&#039;s.
        </p>
       </p></blockquote>
      </li>
      <li class="listitem">
       <span class="simpara">
        Be sure the DirectoryIndex loads the desired default index file
       </span>
       <span class="simpara">
        This is also set in <var class="filename">httpd.conf</var>. Typically 
        <var class="filename">index.php</var> and <var class="filename">index.html</var> are 
        used. By default <var class="filename">index.php</var> is enabled because 
        it&#039;s also in the PHP check shown above. Adjust accordingly.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Set the <var class="filename">php.ini</var> location or use the default
       </span>
       <span class="simpara">
        A typical default location on macOS is 
        <var class="filename">/usr/local/php/php.ini</var> and a call to
        <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> will reveal this information. 
        If a <var class="filename">php.ini</var> is not used, PHP will use all default values.
        See also the related FAQ on 
        <a href="#faq.installation.phpini" class="link">finding php.ini</a>.
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Locate or set the <code class="literal">DocumentRoot</code>
       </span>
       <span class="simpara">
        This is the root directory for all the web files. Files in this directory 
        are served from the web server so the PHP files will parse as PHP before
        outputting them to the browser. A typical default path is 
        <var class="filename">/Library/WebServer/Documents</var> but this can be set to
        anything in <var class="filename">httpd.conf</var>.  Alternatively, the default 
        <var class="filename">DocumentRoot</var> for individual users is 
        <var class="filename">/Users/yourusername/Sites</var>
       </span>
      </li>
      <li class="listitem">
       <span class="simpara">
        Create a <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> file
       </span>
       <p class="para">
        The <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> function will display information about PHP. 
        Consider creating a file in the DocumentRoot with the following PHP code:
        <div class="example-contents">
   <div class="phpcode"><code><span style="color: #000000">
   <span style="color: #0000BB">&lt;?php&nbsp;phpinfo</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">?&gt;</span>
   </span>
   </code></div>
        </div>
   
       </p> 
      </li>
      <li class="listitem">
       <span class="simpara">
        Restart Apache, and load the PHP file created above
       </span>
       <p class="para">
        To restart, either execute <code class="literal">sudo apachectl graceful</code> in 
        the shell or stop/start the &quot;Personal Web Server&quot; option in the
        macOS System Preferences. By default, loading local files in the browser 
        will have an <acronym title="Uniform Resource Locator">URL</acronym> like so: 
        <var class="filename">http://localhost/info.php</var> Or using the DocumentRoot 
        in the user directory is another option and would end up looking like: 
        <var class="filename">http://localhost/~yourusername/info.php</var>
       </p>
      </li>
     </ol>
    </p>
    <p class="simpara">
     The <acronym title="Command Line Interpreter/Interface">CLI</acronym> (or <acronym title="Common Gateway Interface">CGI</acronym> in older versions) is 
     appropriately named <var class="filename">php</var> and likely exists as  
     <var class="filename">/usr/bin/php</var>. Open up the terminal, read the
     <a href="#features.commandline" class="link">command line section</a> of the PHP 
     manual, and execute <code class="literal">php -v</code> to check the PHP version of 
     this PHP binary. A call to <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> will also reveal
     this information.
    </p>
   </div>
   <hr />
   
   
   
   
    
   
    <div id="install.macosx.compile" class="sect1"><hr />
     <h2 class="title">Compiling PHP on macOS</h2>
     <p class="simpara">
      Use the <a href="#install.unix" class="link">Unix installation guide</a> to compile
      PHP on macOS.
     </p>
    </div>
   <hr />
   
   
   
   
   </div>
   
   <hr />
   
   
   
   
     
   
   <div id="install.windows" class="chapter"><hr />
     <h1>Installation on Windows systems</h1>
   <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#install.windows.requirements">Install Requirements</a></li><li><a href="#install.windows.pecl">PECL</a></li><li><a href="#install.windows.tools">PHP Installer Tools on Windows</a></li><li><a href="#install.windows.recommended">Recommended Configuration on Windows systems</a></li><li><a href="#install.windows.manual">Manual PHP Installation on Windows</a></li><li><a href="#install.windows.troubleshooting">Troubleshooting PHP on Windows</a></li><li><a href="#install.windows.legacy.index">Installation on old Windows systems</a></li></ul>
   
     <p class="para">
       Installing PHP on modern Microsoft Windows systems and recommended configuration with common web servers.
     </p>
     <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
         If you are looking for information about older systems, such as Windows XP, 2003, 98 or Apache 1.x, see the <a href="#install.windows.legacy.index" class="link">Legacy Info</a> section.
       </p>
     </p></blockquote>
   
     <p class="para">
       The Official releases of PHP on Windows are recommended for production use.
       However, you are welcome to build PHP from Source. You will need a Visual Studio environment. See <a href="https://wiki.php.net/internals/windows/stepbystepbuild" class="link external">&raquo;&nbsp;Step by Step Build Instructions</a>.
     </p>
     <p class="para">
       <ul class="itemizedlist">
         <li class="listitem">
           <p class="para">
             <a href="#install.windows.legacy.commandline" class="link">Using PHP on Windows Command line</a>
           </p>
         </li>
         <li class="listitem">
           <p class="para">
             <a href="#install.cloud.azure" class="link">Installing PHP on Azure App Services</a> (aka Microsoft Azure, Windows Azure, or (Windows) Azure Web Apps).
           </p>
         </li>
       </ul>
     </p>
   
     <div id="install.windows.requirements" class="sect1"><hr />
       <h2 class="title">Install Requirements</h2>
   
       <p class="para">
         PHP 5.5+ require at least Windows 2008/Vista, or 2008r2, 2012, 2012r2, 2016 or 7, 8, 8.1, 10. Either 32-Bit or 64-bit (aka X86 or X64. PHP does not run on Windows RT/WOA/ARM).
         As of PHP 7.2.0 Windows 2008 and Vista are no longer supported.
       </p>
   
       <p class="para">
         PHP requires the Visual C runtime(CRT). Many applications require that so it may already be installed.
       </p>
   
       <p class="para">
         PHP 5.5 and 5.6 require VC CRT 11 (Visual Studio 2012). See: <a href="https://www.microsoft.com/en-us/download/details.aspx?id=30679" class="link external">&raquo;&nbsp;https://www.microsoft.com/en-us/download/details.aspx?id=30679</a>
       </p>
   
       <p class="para">
         PHP 7.0 and 7.1 require VC CRT 14 (Visual Studio 2015).
         PHP 7.2, 7.3 and 7.4 require VC CRT 15 (Visual Studio 2017).
         The Microsoft Visual C++ Redistributable for Visual Studio 2019 is suitable
         for all these PHP versions, see
         <a href="https://visualstudio.microsoft.com/downloads/" class="link external">&raquo;&nbsp;https://visualstudio.microsoft.com/downloads/</a>.
       </p>
   
       <p class="para">
         You MUST download the x86 CRT for PHP x86 builds and the x64 CRT for PHP x64 builds.
       </p>
   
       <p class="para">
         If CRT is already installed, the installer will tell you that and not change anything.
      </p>
   
       <p class="para">
         The CRT installer supports the /quiet and /norestart command-line switches, so you can script running it.
       </p>
   
       <p class="para">
         VC11 CRT DLLs can be copied from your local machine to a remote machine(a `Copy Deployment` installation) instead of running the installer on the remote machine (such as a web server you have restricted access to).
       </p>
   
       <p class="para">
         VC14 CRT does not support a `Copy Deployment` installation. VC14 CRT has many more DLLs(most in files with names starting with api-*). If you can find them all and copy them, it will also work (try a tool like Resource Hacker to get a list of all the DLLs to copy).
       </p>
   
     </div>
   <hr />
   
   
     <div id="install.windows.pecl" class="sect1"><hr />
       <h2 class="title">PECL</h2>
   
       <p class="para">PECL extensions are pre-built for Windows and available from: <a href="http://windows.php.net/downloads/pecl/releases/" class="link external">&raquo;&nbsp;http://windows.php.net/downloads/pecl/releases/</a>
       </p>
   
       <p class="para">Some extensions use features specific to some Unix systems and so are not available on Windows. Otherwise, all extensions are available for Windows.
       </p>
     </div>
   <hr />
   
   
     
     
   
   
   <div id="install.windows.tools" class="sect1"><hr />
   <h2 class="title">PHP Installer Tools on Windows</h2>
   
   <div class="sect2">
     <h3 class="title">PHP Install Tools</h3>
   <p class="para">
    If you want to setup PHP and are using IIS, the easiest way is to use <a href="https://www.microsoft.com/web/downloads/platform.aspx" class="link external">&raquo;&nbsp;Microsoft&#039;s Web Platform Installer (WebPI)</a>.
   </p>
   
    <p class="para"><a href="https://www.apachefriends.org/index.html" class="link external">&raquo;&nbsp;XAMPP</a>, WampServer and BitNami will setup PHP applications for use with Apache on Windows.</p>
    
    <p class="para">Setting up and configuring Nginx on Windows requires a bit more configuration. See the <a href="https://www.nginx.com/resources/wiki/start/topics/examples/phpfastcgionwindows/" class="link external">&raquo;&nbsp;Nginx documentation</a> for additional setup help.</p>
   </div>
   
   </div>
   <hr />
   
   
     
   
   <div id="install.windows.recommended" class="sect1"><hr />
   <h2 class="title">Recommended Configuration on Windows systems</h2>
       
   <div class="sect2">
     <h3 class="title">OpCache</h3>
       
   <p class="para">
   Highly Recommended that you enable OpCache. This extension is included with PHP for Windows. It compiles and optimizes PHP scripts and caches them in memory so that they aren&#039;t compiled every time the page is loaded.
   </p>
   <p class="para">
   In your php.ini, set 
   <div class="example" id="install.unix.nginx.configure.nginx">
         <p><strong>Example #1 Recommended OpCache configuration</strong></p>
         <div class="example-contents screen">
   <div class="cdata"><pre>
   zend_extension=php_opcache.dll
   opcache.enable=On
   opcache.enable_cli=On
   </pre></div>
         </div>
       </div>
       
   And restart your web server.
   
   For more info, see: <a href="#opcache.configuration" class="link">OpCache Configuration</a>
   </p>
   
   </div>
   <div class="sect2">
     <h3 class="title">WinCache</h3>
   
   <p class="para">
   Recommended that you use WinCache if using IIS, especially if in a shared web hosting environment or using networked file storage (NAS).
   
   All PHP Applications automatically benefit from WinCache&#039;s file cache feature. File system operations are cached in memory.
   
   WinCache also can cache user objects in memory and share them between <var class="varname">php.exe</var> or <var class="varname">php-cgi.exe</var> processes (share objects between requests).
   
   Many major web applications have a plugin or extension or configuration option to make use of the WinCache user object cache.
   
   If you need high performance, you should use the object cache in your applications.
   
   See: <a href="http://pecl.php.net/package/WinCache" class="link external">&raquo;&nbsp;http://pecl.php.net/package/WinCache</a> to download a WinCache DLL (or tgz) to your PHP extensions directory (extensions_dir in your php.ini).
   
   In your php.ini, set 
   <div class="example" id="install.unix.nginx.configure.nginx.location">
         <p><strong>Example #2 Recommended WinCache configuration</strong></p>
         <div class="example-contents screen">
   <div class="cdata"><pre>
   
   extension=php_wincache.dll
   wincache.fcenabled=1
   wincache.ocenabled=1 ; removed as of wincache 2.0.0.0
   
   </pre></div>
         </div>
       </div>
   
   For more info, see: <a href="http://php.net/manual/en/wincache.configuration.php" class="link external">&raquo;&nbsp;http://php.net/manual/en/wincache.configuration.php</a>
   </p>
   
   </div>
     <div class="sect2">
       <h3 class="title">IIS Configuration</h3>
   
       <p class="para">In IIS Manager, Install FastCGI module and add a handler mapping for <var class="varname">`.php`</var> to the path to <var class="varname">PHP-CGI.exe</var> (not <var class="varname">PHP.exe</var>)</p>
   
     <p class="para">
   
     You may use the APPCMD command line tool to script IIS configuration.
     </p>
   </div>
   
   <div class="sect2">
     <h3 class="title">Database</h3>
   
       <p class="para">You&#039;ll probably need a Database Server. Popular databases provide PHP extensions to use them. If your web site doesn&#039;t get a lot of traffic, you can run your database server on the same server as your web server. Many popular database servers run on Windows.</p>
   
       <p class="para">PHP includes mysqli and pdo_mysql extensions. PHP 5.5 and 5.6 include mysql extension (deprecated in 7.0).</p>
   
       <p class="para">See <a href="https://dev.mysql.com/downloads/windows/" class="link external">&raquo;&nbsp;https://dev.mysql.com/downloads/windows/</a></p>
       </div>
   </div>
   <hr />
   
   
     
   
   <div id="install.windows.manual" class="sect1"><hr />
    <h2 class="title">Manual PHP Installation on Windows</h2>
    <div class="sect2">
     <h3 class="title">Choose Web Server</h3>
     <div class="sect3">
      <h4 class="title">IIS</h4>
      <p class="para">
       IIS is built in to Windows.
       On Windows Server, the IIS role can be added via the Server Manager. The CGI Role Feature needs to be included.
       On Windows Desktop, IIS has to be added via the Control Panel&#039;s Add/Remove Programs.
       The Microsoft documentation has <a href="https://docs.microsoft.com/en-us/previous-versions/ms181052(v=vs.80)" class="link external">&raquo;&nbsp;detailed instructions</a>.
       For desktop web apps and web-development, IIS/Express or PHP Desktop can also be used.
       <div class="example" id="install.unix.nginx.configure.nginx.php">
        <p><strong>Example #1 Command line to configure IIS and PHP</strong></p>
        <div class="example-contents">
   <div class="cdata"><pre>
   
   @echo off
   
   REM download .ZIP file of PHP build from http://windows.php.net/downloads/
   
   REM path to directory you decompressed PHP .ZIP file into (no trailing \)
   set phppath=c:\php
   
   
   REM Clear current PHP handlers
   %windir%\system32\inetsrv\appcmd clear config /section:system.webServer/fastCGI
   REM The following command will generate an error message if PHP is not installed. This can be ignored.
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers /-[name=&#039;PHP_via_FastCGI&#039;]
   
   REM Set up the PHP handler
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/fastCGI /+[fullPath=&#039;%phppath%\php-cgi.exe&#039;]
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers /+[name=&#039;PHP_via_FastCGI&#039;,path=&#039;*.php&#039;,verb=&#039;*&#039;,modules=&#039;FastCgiModule&#039;,scriptProcessor=&#039;%phppath%\php-cgi.exe&#039;,resourceType=&#039;Unspecified&#039;]
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers /accessPolicy:Read,Script
   
   REM Configure FastCGI Variables
   %windir%\system32\inetsrv\appcmd set config -section:system.webServer/fastCgi /[fullPath=&#039;%phppath%\php-cgi.exe&#039;].instanceMaxRequests:10000
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi /+&quot;[fullPath=&#039;%phppath%\php-cgi.exe&#039;].environmentVariables.[name=&#039;PHP_FCGI_MAX_REQUESTS&#039;,value=&#039;10000&#039;]&quot;
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi /+&quot;[fullPath=&#039;%phppath%\php-cgi.exe&#039;].environmentVariables.[name=&#039;PHPRC&#039;,value=&#039;%phppath%\php.ini&#039;]&quot;
   </pre></div>
        </div>
   
       </div>
   
       See also the <a href="#install.windows.legacy.iis7" class="link">old IIS installation instructions</a>.
      </p>
     </div>
   
     <div class="sect3">
      <h4 class="title">Apache</h4>
      <p class="para">
       There are several builds of Apache2 for Windows.
       The Apache builds of ApacheLounge are recommended, but other options include XAMPP, WampServer and BitNami, which provide automatic installer tools.
       PHP can be used on Apache through mod_php or mod_fastcgi.
       mod_php requires a TS build of Apache built with same version of Visual C and same CPU (x86 or x64).
       See also the <a href="#install.windows.legacy.apache2" class="link">old Apache installation instructions</a>.
      </p>
     </div>
    </div>
   
    <div class="sect2">
     <h3 class="title">Choose Build</h3>
     <p class="para">
      Windows builds can be downloaded from <a href="http://windows.php.net/download/" class="link external">&raquo;&nbsp;http://windows.php.net/download/</a>.
      All builds are optimized (<abbr class="abbrev">PGO</abbr>), and QA and GA releases are thoroughly tested.
     </p>
     <p class="para">
      There are 4 types of PHP builds:
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">Thread-Safe(TS) - for single process web servers, like Apache with mod_php</p>
       </li>
       <li class="listitem">
        <p class="para">Non-Thread-Safe(NTS) - for IIS and other FastCGI web servers (Apache with mod_fastcgi) and recommended for command-line scripts</p>
       </li>
       <li class="listitem">
        <p class="para">x86 - production use of PHP 5.5 and up.</p>
       </li>
       <li class="listitem">
        <p class="para">x64 - production use of PHP 7 (unless its a 32-bit only version of Windows). PHP 5.5 and 5.6 x64 builds are experimental.</p>
       </li>
      </ul>
     </p>
    </div>
   </div>
   <hr />
   
   
     
   
   
   <div id="install.windows.troubleshooting" class="sect1"><hr />
   <h2 class="title">Troubleshooting PHP on Windows</h2>
   
   <div class="sect2">
     <h3 class="title">Check Temp Directory Permissions</h3>
   
     <div class="procedure">
       <ol type="1"><li>
         <p class="para">Right-click temp directory in File Explorer to get the permissions.
         </p>
       </li>
       <li>
         <p class="para">For IIS, check that user IIS_User has MODIFY permission. You can get the temporary directory from the configuration or php info.
         </p>
       </li>
     </ol></div>
     
   </div>
   
   </div>
   <hr />
   
   
     
   
     <div id="install.windows.legacy.index" class="sect1"><hr />
       <h2 class="title">Installation on old Windows systems</h2>
      <p class="para">
       This section applies to Windows 98/Me and Windows NT/2000/XP/2003. PHP 
       will not work on 16 bit platforms such as Windows 3.1 and sometimes 
       we refer to the supported Windows platforms as Win32.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Windows XP/2003 are no longer supported as of PHP 5.5.0.
       </p>
      </p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Windows 98/Me/NT4/2000 are no longer supported as of PHP 5.3.0.
       </p>
      </p></blockquote>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        Windows 95 is no longer supported as of PHP 4.3.0.
       </p>
      </p></blockquote>
      <p class="para">
       If you have a development environment such as Microsoft Visual Studio, you can also 
       
       build PHP from the original source code.
      </p>
      <p class="para">
       Once you have PHP installed on your Windows system, you may also
       want to <a href="#install.windows.legacy.extensions" class="link">load various extensions</a>
       for added functionality.
      </p>
      
      
   
      <div class="sect2" id="install.windows.legacy.manual">
       <h3 class="title">Manual Installation Steps</h3>
       <p class="para">
        This section contains instructions for manually installing and configuring 
        PHP on Microsoft Windows. 
       </p>
       <div class="sect3" id="install.windows.legacy.manual.download">
        <h4 class="title">Selecting and downloading the PHP distribution package</h4>
        <p class="para">
         Download the PHP zip binary distribution from 
         <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP for Windows: Binaries and Sources</a>. 
         There are several different versions of the zip package - to choose the right version for you,
         follow the detailed guide on the <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;download page</a>.
        </p>
       </div>
       <div class="sect3" id="install.windows.legacy.manual.package">
        <h4 class="title">The PHP package structure and content</h4>
        <p class="para">
         Unpack the content of the zip archive into a directory of your choice, for 
         example C:\PHP\. The directory and file structure extracted from the zip will 
         look as below:
         <div class="example" id="install.unix.nginx.restart.nginx">
          <p><strong>Example #1 PHP 5 package structure</strong></p>
           <div class="example-contents">
   <div class="cdata"><pre>
   
   c:\php
      |
      +--dev
      |  |
      |  |-php5ts.lib                 -- php5.lib in non thread safe version
      |
      +--ext                          -- extension DLLs for PHP
      |  |
      |  |-php_bz2.dll
      |  |
      |  |-php_cpdf.dll
      |  |
      |  |-...
      |
      +--extras                       -- empty 
      |
      +--pear                         -- initial copy of PEAR
      |
      |
      |-go-pear.bat                   -- PEAR setup script
      |
      |-...
      |
      |-php-cgi.exe                   -- CGI executable
      |
      |-php-win.exe                   -- executes scripts without an opened command prompt
      |
      |-php.exe                       -- Command line PHP executable (CLI)
      |
      |-...
      |
      |-php.ini-development           -- default php.ini settings
      |
      |-php.ini-production            -- recommended php.ini settings
      |
      |-php5apache2_2.dll             -- does not exist in non thread safe version
      |
      |-php5apache2_2_filter.dll      -- does not exist in non thread safe version
      |
      |-...
      |
      |-php5ts.dll                    -- core PHP DLL ( php5.dll in non thread safe version)
      | 
      |-...
   
   </pre></div>
          </div>
   
         </div>
        </p>
        <p class="para">
         Below is the list of the modules and executables included in the PHP zip 
         distribution:
         <ul class="itemizedlist">
          <li class="listitem">
           <p class="para">
            <var class="filename">go-pear.bat</var> - the PEAR setup script. Refer to <a href="https://pear.php.net/manual/en/installation.php" class="link external">&raquo;&nbsp;Installation (PEAR)</a> 
            for more details.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="filename">php-cgi.exe</var> - CGI executable that can be used when running PHP on IIS via CGI or FastCGI.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="filename">php-win.exe</var> - the PHP executable for executing PHP scripts without using a command line window 
            (for example PHP applications that use Windows GUI).
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="filename">php.exe</var> - the PHP executable for executing PHP scripts within a command line interface (CLI).
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="filename">php5apache2_2.dll</var> - Apache 2.2.X module.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="filename">php5apache2_2_filter.dll</var> - Apache 2.2.X filter.
           </p>
          </li>
         </ul>
        </p>
       </div>
       <div class="sect3" id="install.windows.legacy.manual.phpini">
        <h4 class="title">Changing the <var class="filename">php.ini</var> file</h4>
        <p class="para">
        After the php package content has been extracted, copy the <var class="filename">php.ini-production</var> into <var class="filename">php.ini</var>
        in the same folder. If necessary, it is also possible to place the <var class="filename">php.ini</var> into any other location of your choice 
        but that will require additional configuration steps as described in <a href="#configuration.file" class="link">PHP Configuration</a>.
        </p>
        <p class="para">
         The <var class="filename">php.ini</var> file tells PHP how to configure itself, and how to work with the 
         environment that it runs in. Here are a number of settings for the <var class="filename">php.ini</var> file 
         that help PHP work better with Windows. Some of these are optional. There are 
         many other directives that may be relevant to your environment - refer to the 
         <a href="#ini.list" class="link">list of php.ini directives</a> for more information.
        </p>
        <p class="para">
         Required directives:
         <ul class="itemizedlist">
          <li class="listitem">
           <p class="para">
            <var class="varname">extension_dir</var> = <code class="literal">&lt;path to extension directory&gt;</code> - The <var class="varname">extension_dir</var> needs 
            to point to the directory where PHP extensions files are stored. The path can be absolute 
            (i.e. &quot;C:\PHP\ext&quot;) or relative (i.e. &quot;.\ext&quot;). Extensions that are listed lower in the <var class="filename">php.ini</var> file need 
            to be located in the <var class="varname">extension_dir</var>.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">extension</var> = <code class="literal">xxxxx.dll</code> - For each extension you wish to enable, you need a corresponding &quot;extension=&quot; 
            directive that tells PHP which extensions in the <var class="varname">extension_dir</var> to load at startup time.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">log_errors</var> = <code class="literal">On</code> - PHP has an error logging facility that can be used to send errors to a file, 
            or to a service (i.e. syslog) and works in conjunction with the <var class="varname">error_log</var> directive below. When running under IIS, 
            the <var class="varname">log_errors</var> should be enabled, with a valid <var class="varname">error_log</var>.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">error_log</var> = <code class="literal">&lt;path to the error log file&gt;</code> - The error_log needs to specify the absolute, 
            or relative path to the file where PHP errors should be logged. This file needs to be writable for the web server. 
            The most common places for this file are in various TEMP directories, for example &quot;C:\inetpub\temp\php-errors.log&quot;.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">cgi.force_redirect</var> = <code class="literal">0</code> - This directive is required for running under IIS. 
            It is a directory security facility required by many other web servers. However, enabling it under IIS will 
            cause the PHP engine to fail on Windows. 
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">cgi.fix_pathinfo</var> = <code class="literal">1</code> - This lets PHP access real path info following the CGI Spec. 
            The IIS FastCGI implementation needs this set.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">fastcgi.impersonate</var> = <code class="literal">1</code> - FastCGI under IIS supports the ability to impersonate 
            security tokens of the calling client. This allows IIS to define the security context that the request runs under.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">fastcgi.logging</var> = <code class="literal">0</code> - FastCGI logging should be disabled on IIS. If it is left enabled, 
            then any messages of any class are treated by FastCGI as error conditions which will cause IIS to generate an HTTP 500 exception.
           </p>
          </li>
         </ul>
        </p>
        <p class="para">
         Optional directives
         <ul class="itemizedlist">
          <li class="listitem">
           <p class="para">
            <var class="varname">max_execution_time</var> = <code class="literal">##</code> - This directive tells PHP the maximum amount of time that it can spend 
            executing any given script. The default for this is 30 seconds. Increase the value of this directive if PHP application take long time to execute.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">memory_limit</var> = <code class="literal">###M</code> - The amount of memory available for the PHP process, in Megabytes. 
            The default is 128, which is fine for most PHP applications. Some of the more complex ones might need more.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">display_errors</var> = <code class="literal">Off</code> - This directive tells PHP whether to include any error messages in the 
            stream that it returns to the Web server. If this is set to &quot;On&quot;, then PHP will send whichever classes of errors 
            that you define with the <var class="varname">error_reporting</var> directive back to web server as part of the error stream. 
            For security reasons it is recommended to set it to &quot;Off&quot; on production servers in order not to reveal any 
            security sensitive information that is often included in the error messages.
           </p>
          </li>
          <li class="listitem">
           <p class="para">
            <var class="varname">open_basedir</var> = <code class="literal">&lt;paths to directories, separated by semicolon&gt;</code>, e.g. 
            openbasedir=&quot;C:\inetpub\wwwroot;C:\inetpub\temp&quot;. This directive specified the directory paths where PHP 
            is allowed to perform file system operations. Any file operation outside of the specified paths will result in an error. 
            This directive is especially useful for locking down the PHP installation in shared hosting environments to prevent 
            PHP scripts from accessing any files outside of the web site&#039;s root directory.
           </p>
          </li>
          <li class="listitem">
            <p class="para">
             <var class="varname">upload_max_filesize</var> = <code class="literal">###M</code> and <var class="varname">post_max_size</var> = <code class="literal">###M</code> - 
             The maximum allowed size of an uploaded file and post data respectively. The values of these directives should be 
             increased if PHP applications need to perform large uploads, such as for example photos or video files.
            </p>
           </li>
         </ul>
        </p>
       <p class="para">
        PHP is now setup on your system.  The next step is to choose a web
        server, and enable it to run PHP.  Choose a web server from the table of 
        contents.
       </p>
       <p class="para">
        In addition to running PHP via a web server, PHP can run from the command
        line just like a <code class="literal">.BAT</code> script. See
        
       </p>
       </div>
      </div>
   
   
   
      
   
   <div class="sect2" id="install.windows.legacy.iis">
    <h3 class="title">Microsoft IIS</h3>
    <p class="para">
     This section contains PHP installation instructions specific to Microsoft Internet Information Services (IIS).
    </p>
    <ul class="itemizedlist">
     <li class="listitem">
      <span class="simpara">
       <a href="#install.windows.legacy.iis6" class="link">Manually installing PHP on Microsoft IIS 5.1 and IIS 6.0</a>
      </span>
     </li>
     <li class="listitem">
      <span class="simpara">
       <a href="#install.windows.legacy.iis7" class="link">Manually installing PHP on Microsoft IIS 7.0 and later</a>
      </span>
     </li>
    </ul>
   </div>
   
   
   
      
   
   
   <div class="sect2" id="install.windows.legacy.iis6">
    <h3 class="title">Microsoft IIS 5.1 and IIS 6.0</h3>
    <p class="para">
     This section contains instructions for manually setting up Internet Information 
     Services (IIS) 5.1 and IIS 6.0 to work with PHP on Microsoft Windows XP and Windows 
     Server 2003. For instructions on setting up IIS 7.0 and later versions on Windows 
     Vista, Windows Server 2008, Windows 7 and Windows Server 2008 R2 refer to 
     <a href="#install.windows.legacy.iis7" class="link">Microsoft IIS 7.0 and later</a>.
    </p>
    <div class="sect3" id="install.windows.legacy.iis6.fastcgi">
     <h4 class="title">Configuring IIS to process PHP requests</h4>
     <p class="para">
      Download and install PHP in accordance to the instructions described in 
       <a href="#install.windows.legacy.manual" class="link">manual installation steps</a>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Non-thread-safe build of PHP is recommended when using IIS. The non-thread-safe 
         builds are available at <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP for Windows: 
         Binaries and Sources Releases.</a>
        </p>
       </p></blockquote>
     </p>
     <p class="para">
      Configure the CGI- and FastCGI-specific settings in <var class="filename">php.ini</var> file as shown below:
      <div class="example" id="install.unix.nginx.test.nginx.php">
       <p><strong>Example #2 CGI and FastCGI settings in <var class="filename">php.ini</var></strong></p>
       <div class="example-contents">
   <div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
   fastcgi.logging = 0
   cgi.fix_pathinfo=1
   cgi.force_redirect = 0</pre>
   </div>
       </div>
   
      </div>
     </p>
     <p class="para">
      Download and install the <a href="http://www.iis.net/extensions/fastcgi" class="link external">&raquo;&nbsp;Microsoft FastCGI Extension for IIS 5.1 and 6.0</a>. 
      The extension is available for 32-bit and 64-bit platforms - select the right download package for your platform.
     </p>
     <p class="para">Configure the FastCGI extension to handle PHP-specific requests by running the command shown below. 
      Replace the value of the &quot;-path&quot; parameter with the absolute file path to the 
      <var class="filename">php-cgi.exe</var> file.
      <div class="example" id="example-12">
       <p><strong>Example #3 Configuring FastCGI extension to handle PHP requests</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   cscript %windir%\system32\inetsrv\fcgiconfig.js -add -section:&quot;PHP&quot; ^
   -extension:php -path:&quot;C:\PHP\php-cgi.exe&quot;
   </pre></div>
       </div>
   
      </div>
     </p>
     <p class="para">
      This command will create an IIS script mapping for *.php file extension, which will result in all URLs 
      that end with .php being handled by FastCGI extension. Also, it will configure FastCGI extension to 
      use the executable <var class="filename">php-cgi.exe</var> to process the PHP requests.
      <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         At this point the required installation and configuration steps are completed. The remaining 
         instructions below are optional but highly recommended for achieving optimal functionality 
         and performance of PHP on IIS.
        </p>
      </p></blockquote>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis6.impersonation">
     <h4 class="title">Impersonation and file system access</h4>
     <p class="para">
      It is recommended to enable FastCGI impersonation in PHP when using IIS. This 
      is controlled by the <var class="varname">fastcgi.impersonate</var> directive in <var class="filename">php.ini</var> file. When 
      impersonation is enabled, PHP will perform all the file system operations on 
      behalf of the user account that has been determined by IIS authentication. This 
      ensures that even if the same PHP process is shared across different IIS web 
      sites, the PHP scripts in those web sites will not be able to access each 
      others&#039; files as long as different user accounts are used for IIS authentication 
      on each web site.
     </p>
     <p class="para">
      For example IIS 5.1 and IIS 6.0, in its default configuration, has anonymous authentication enabled 
      with built-in user account IUSR_&lt;MACHINE_NAME&gt; used as a default identity. This means that in 
      order for IIS to execute PHP scripts, it is necessary to grant IUSR_&lt;MACHINE_NAME&gt; account 
      read permission on those scripts. If PHP applications need to perform write operations on certain 
      files or write files into some folders then IUSR_&lt;MACHINE_NAME&gt; account should have write permission to those.
     </p>
     <p class="para">
      To determine which user account is used by IIS anonymous authentication, follow these steps:
      <div class="procedure">
       <ol type="1"><li>
        <p class="simpara">In the Windows Start Menu choose &quot;Run:&quot;, type &quot;inetmgr&quot; and click &quot;Ok&quot;;</p>
       </li>
       <li>
        <p class="simpara">Expand the list of web sites under the &quot;Web Sites&quot; node in the tree view, right-click on a web 
         site that is being used and select &quot;Properties&quot;;
        </p>    
       </li>
       <li>
        <p class="simpara">Click the &quot;Directory Security&quot; tab;</p>    
       </li>
       <li>
        <p class="simpara">Take note of a &quot;User name:&quot; field in the &quot;Authentication Methods&quot; dialog</p>
       </li>
      </ol></div>
      <div class="mediaobject">
       
       <div class="imageobject">
        <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis6anonauth.png" alt="Anonymous authenication for IIS 5.1 and IIS 6.0" width="654" height="461" />
       </div>
      </div>
     </p>
     <p class="para">
      To modify the permissions settings on files and folders, use the Windows Explorer user interface 
      or <var class="varname">icacls</var> command.
      <div class="example" id="example-13">
       <p><strong>Example #4 Configuring file access permissions</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
   </pre></div>     
       </div>
   
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis6.defaultdoc">
     <h4 class="title">Set <var class="filename">index.php</var> as a default document in IIS</h4>
     <p class="para">
      The IIS default documents are used for HTTP requests that do not specify a document name. With PHP applications, 
      <var class="filename">index.php</var> usually acts as a default document. To add <var class="filename">index.php</var> to the list of 
      IIS default documents, follow these steps:
      <div class="procedure">
       <ol type="1"><li>
        <p class="simpara">In the Windows Start Menu choose &quot;Run:&quot;, type &quot;inetmgr&quot; and click &quot;Ok&quot;;</p>
       </li>
       <li>
        <p class="simpara">Right-click on the &quot;Web Sites&quot; node in the tree view and select &quot;Properties&quot;;</p>
       </li>
       <li>
        <p class="simpara">Click the &quot;Documents&quot; tab;</p>
       </li>
       <li>
        <p class="simpara">Click the &quot;Add...&quot; button and enter &quot;index.php&quot; for the &quot;Default content page:&quot;.</p>
       </li>
      </ol></div>
      <div class="mediaobject">
       
       <div class="imageobject">
        <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis6defaultdoc.png" alt="Setting index.php as default document for IIS" width="659" height="465" />
       </div>
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis6.recycling">
     <h4 class="title">FastCGI and PHP Recycling configuration</h4>
     <p class="para">
      Configure IIS FastCGI extension settings for recycling of PHP processes by using the commands shown below. 
      The FastCGI setting <var class="varname">instanceMaxRequests</var> controls how many requests will be processed by a single 
      <var class="filename">php-cgi.exe</var> process before FastCGI extension shuts it down. The PHP environment variable 
      <var class="varname">PHP_FCGI_MAX_REQUESTS</var> controls how many requests a single <var class="filename">php-cgi.exe</var> process 
      will handle before it recycles itself. Make sure that the value specified for FastCGI <var class="varname">InstanceMaxRequests</var>
      setting is less than or equal to the value specified for <var class="varname">PHP_FCGI_MAX_REQUESTS</var>.
      <div class="example" id="example-14">
       <p><strong>Example #5 Configuring FastCGI and PHP recycling</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
   -InstanceMaxRequests:10000
   
   cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
   -EnvironmentVars:PHP_FCGI_MAX_REQUESTS:10000
   </pre></div>     
       </div>
   
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis6.timeouts">
     <h4 class="title">Configuring FastCGI timeout settings</h4>
     <p class="para">
      Increase the timeout settings for FastCGI extension if there are applications that have long running PHP scripts. 
      The two settings that control timeouts are <var class="varname">ActivityTimeout</var> and <var class="varname">RequestTimeout</var>. 
      Refer to <a href="http://learn.iis.net/page.aspx/248/configuring-fastcgi-extension-for-iis-60/" class="link external">&raquo;&nbsp;Configuring FastCGI Extension for IIS 6.0</a> for more 
      information about those settings.
      <div class="example" id="install.unix.litespeed.extract.php">
       <p><strong>Example #6 Configuring FastCGI timeout settings</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
   -ActivityTimeout:90
   
   cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
   -RequestTimeout:90
   </pre></div>     
       </div>
   
      </div>
      </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis6.phpinilocation">
     <h4 class="title">Changing the Location of <var class="filename">php.ini</var> file</h4>
     <p class="para">
      PHP searches for <var class="filename">php.ini</var> file in 
      <a href="#configuration.file" class="link">several locations</a> and it is 
      possible to change the default locations of <var class="filename">php.ini</var> 
      file by using <var class="varname">PHPRC</var> environment variable. To instruct PHP 
      to load the configuration file from a custom location run the command shown below. 
      The absolute path to the directory with <var class="filename">php.ini</var> file should be 
      specified as a value of <var class="varname">PHPRC</var> environment variable.
      <div class="example" id="install.unix.litespeed.build.php">
       <p><strong>Example #7 Changing the location of <var class="filename">php.ini</var> file</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   cscript %windir%\system32\inetsrv\fcgiconfig.js -set -section:&quot;PHP&quot; ^
   -EnvironmentVars:PHPRC:&quot;C:\Some\Directory\&quot;
   </pre></div>         
       </div>
   
      </div>
     </p>
    </div>
   </div>
   
   
   
      
   
   
   <div class="sect2" id="install.windows.legacy.iis7">
    <h3 class="title">Microsoft IIS 7.0 and later</h3>
    <p class="para">
     This section contains instructions for manually setting up Internet Information 
     Services (IIS) 7.0 and later to work with PHP on Microsoft Windows Vista SP1, 
     Windows 7, Windows Server 2008 and Windows Server 2008 R2. For instructions 
     on setting up IIS 5.1 and IIS 6.0 on Windows XP and Windows Server 2003 refer to 
     <a href="#install.windows.legacy.iis6" class="link">Microsoft IIS 5.1 and IIS 6.0</a>.
    </p>
    <div class="sect3" id="install.windows.legacy.iis7.fastcgi.enable">
     <h4 class="title">Enabling FastCGI support in IIS</h4>
     <p class="para">
      FastCGI module is disabled in default installation of IIS. The steps to enable it differ 
      based on the version of Windows being used.
     </p>
     <p class="para">
      To enable FastCGI support on Windows Vista SP1 and Windows 7:
      <div class="procedure">
       <ol type="1"><li>
        <p class="simpara">
         In the Windows Start Menu choose &quot;Run:&quot;, type &quot;optionalfeatures.exe&quot; 
         and click &quot;Ok&quot;;
        </p>
       </li>
       <li>
        <p class="simpara">
         In the &quot;Windows Features&quot; dialog expand &quot;Internet Information 
         Services&quot;, &quot;World Wide Web Services&quot;, &quot;Application Development 
         Features&quot; and then enable the &quot;CGI&quot; checkbox;
        </p>
       </li>
       <li>
        <p class="simpara">
         Click OK and wait until the installation is complete.
        </p>
       </li>
      </ol></div>
      <div class="mediaobject">
       
       <div class="imageobject">
        <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7vistacgi.png" alt="Enabling FastCGI support for IIS7 on Windows Vista SP1 and Windows 7" width="429" height="375" />
       </div>
      </div>
     </p>
     <p class="para">
      To enable FastCGI support on Windows Server 2008 and Windows Server 2008 R2:
      <div class="procedure">
       <ol type="1"><li>
        <p class="simpara">
         In the Windows Start Menu choose &quot;Run:&quot;, type &quot;CompMgmtLauncher&quot; 
         and click &quot;Ok&quot;;
        </p>
       </li>
       <li>
        <p class="simpara">
         If the &quot;Web Server (IIS)&quot; role is not present under the &quot;Roles&quot; 
         node, then add it by clicking &quot;Add Roles&quot;;
        </p>
       </li>
       <li>
        <p class="simpara">
         If the &quot;Web Server (IIS)&quot; role is present, then click &quot;Add Role Services&quot; 
         and then enable the &quot;CGI&quot; checkbox under &quot;Application Development&quot; group;
        </p>
       </li>
       <li>
        <p class="simpara">
         Click &quot;Next&quot; and then &quot;Install&quot; and wait for the installation to complete.
        </p>
       </li>
      </ol></div>
      <div class="mediaobject">
       
       <div class="imageobject">
        <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7w2k8cgi.png" alt="Enabling FastCGI support on Windows Server 2008 and Windows Server 2008 R2" width="546" height="411" />
       </div>
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.fastcgi.conf">
     <h4 class="title">Configuring IIS to process PHP requests</h4>
     <p class="para">
      Download and install PHP in accordance to the instructions described in 
       <a href="#install.windows.legacy.manual" class="link">manual installation steps</a>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Non-thread-safe build of PHP is recommended when using IIS. The non-thread-safe 
         builds are available at <a href="https://windows.php.net/download/" class="link external">&raquo;&nbsp;PHP for Windows: 
         Binaries and Sources Releases.</a>
        </p>
       </p></blockquote>
     </p>
     <p class="para">
      Configure the CGI- and FastCGI-specific settings in <var class="filename">php.ini</var> file as shown below:
      <div class="example" id="install.unix.openbsd.ports.example">
       <p><strong>Example #8 CGI and FastCGI settings in <var class="filename">php.ini</var></strong></p>
       <div class="example-contents">
   <div class="inicode"><pre class="inicode">fastcgi.impersonate = 1
   fastcgi.logging = 0
   cgi.fix_pathinfo=1
   cgi.force_redirect = 0</pre>
   </div>
       </div>
   
      </div>
     </p>
     <p class="para">
      Configure IIS handler mapping for PHP by using either IIS Manager user interface or a command line tool.
     </p>
     <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.ui">
      <h5 class="title">Using IIS Manager user interface to create a handler mapping for PHP</h5>
       <p class="para">
        Follow these steps to create an IIS handler mapping for PHP in IIS Manager user interface:
        <div class="procedure">
         <ol type="1"><li>
          <p class="simpara">In the Windows Start Menu choose &quot;Run:&quot;, type &quot;inetmgr&quot; and click &quot;Ok&quot;;</p>
         </li>
         <li>
          <p class="simpara">In the IIS Manager user interface select the server node in the &quot;Connections&quot; tree view;</p>
         </li>
         <li>
          <p class="para">
           In the &quot;Features View&quot; page open the &quot;Handler Mappings&quot; feature;
           <div class="mediaobject">
            
            <div class="imageobject">
             <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlericon.png" alt="Create IIS handler mapping for PHP : Locate Handler Mappings" width="708" height="515" />
            </div>
           </div>
          </p>
         </li>
         <li>
          <p class="simpara">In the &quot;Actions&quot; pane click &quot;Add Module Mapping...&quot;;</p>
         </li>
         <li>
          <p class="para">
           In the &quot;Add Module Mapping&quot; dialog enter the following:
           <ul class="itemizedlist">
            <li class="listitem">
             <span class="simpara">Request path: *.php</span>
            </li>
            <li class="listitem">
             <span class="simpara">Module: FastCgiModule</span>
            </li>
            <li class="listitem">
             <span class="simpara">Executable: C:\[Path to PHP installation]\php-cgi.exe</span>
            </li>
            <li class="listitem">
             <span class="simpara">Name: PHP_via_FastCGI</span>
            </li>
           </ul>
          </p>
         </li>
         <li>
          <p class="simpara">
           Click &quot;Request Restrictions&quot; button and then configure the mapping to invoke handler 
           only if request is mapped to a file or a folder;
           </p>
         </li>
         <li>
          <p class="simpara">Click OK on all the dialogs to save the configuration.</p>
         </li>
        </ol></div>
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/b4cf2bb34e3c20eebcf8f9e8e7949efd-iis7handlermap.png" alt="Create IIS handler mapping for PHP : Add Handler Mapping" width="705" height="512" />
         </div>
        </div>
       </p>
     </div>
     <div class="sect4" id="install.windows.legacy.iis7.fastcgi.conf.cmd">
      <h5 class="title">Using command line tool to create a handler mapping for PHP</h5>
      <p class="para">
       Use the command shown below to create an IIS FastCGI process pool which will use <var class="filename">php-cgi.exe</var> 
       executable for processing PHP requests. Replace the value of the <var class="varname">fullPath</var> parameter with the 
       absolute file path to the <var class="filename">php-cgi.exe</var> file.
       <div class="example" id="install.unix.debian.apt.example">
        <p><strong>Example #9 Creating IIS FastCGI process pool</strong></p>
        <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/fastCGI ^
   /+[fullPath=&#039;c:\PHP\php-cgi.exe&#039;]
   </pre></div>
        </div>
   
       </div>
      </p>
      <p class="para">
       Configure IIS to handle PHP specific requests by running the command shown below. Replace the value of the 
       <var class="varname">scriptProcessor</var> parameter with the absolute file path to the <var class="filename">php-cgi.exe</var> file.
       <div class="example" id="install.unix.debian.apt.example2">
        <p><strong>Example #10 Creating handler mapping for PHP requests</strong></p>
        <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd set config /section:system.webServer/handlers ^
   /+[name=&#039;PHP_via_FastCGI&#039;, path=&#039;*.php&#039;,verb=&#039;*&#039;,modules=&#039;FastCgiModule&#039;,^
   scriptProcessor=&#039;c:\PHP\php-cgi.exe&#039;,resourceType=&#039;Either&#039;]
   </pre></div>
        </div>
   
       </div>
      </p>
      <p class="para">
       This command creates an IIS handler mapping for *.php file extension, which will result in all URLs that 
       end with .php being handled by FastCGI module.
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         At this point the required installation and configuration steps are completed. The remaining 
         instructions below are optional but highly recommended for achieving optimal functionality 
         and performance of PHP on IIS.
        </p>
       </p></blockquote>
      </p>
     </div>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.impersonation">
     <h4 class="title">Impersonation and file system access</h4>
     <p class="para">
      It is recommended to enable FastCGI impersonation in PHP when using IIS. This 
      is controlled by the <var class="varname">fastcgi.impersonate</var> directive in <var class="filename">php.ini</var> 
      file. When impersonation is enabled, PHP will perform all the file system operations on behalf of 
      the user account that has been determined by IIS authentication. This ensures that even if the 
      same PHP process is shared across different IIS web sites, the PHP scripts in those web sites 
      will not be able to access each other&#039;s files as long as different user accounts are used 
      for IIS authentication on each web site.
     </p>
     <p class="para">
      For example IIS 7, in its default configuration, has anonymous authentication enabled with 
      built-in user account IUSR used as a default identity. This means that in order for IIS to 
      execute PHP scripts, it is necessary to grant IUSR account read permission on those scripts. 
      If PHP applications need to perform write operations on certain files or write files into some 
      folders then IUSR account should have write permission to those.
     </p>
     <p class="para">
      To determine what user account is used as an anonymous identity in IIS 7 use the following command. 
      Replace the &quot;Default Web Site&quot; with the name of IIS web site that you use. In the output 
      XML configuration element look for the <var class="varname">userName</var> attribute.
      <div class="example" id="install.unix.debian.config.example">
       <p><strong>Example #11 Determining the account used as IIS anonymous identity</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd.exe list config &quot;Default Web Site&quot; ^
   /section:anonymousAuthentication
   
   &lt;system.webServer&gt;
     &lt;security&gt;
       &lt;authentication&gt;
         &lt;anonymousAuthentication enabled=&quot;true&quot; userName=&quot;IUSR&quot; /&gt;
       &lt;/authentication&gt;
      &lt;/security&gt;
   &lt;/system.webServer&gt;
   </pre></div>
       </div>
   
      </div>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <p class="para">
        If <var class="varname">userName</var> attribute is not present in the <var class="varname">anonymousAuthentication</var> element, 
        or is set to an empty string, then it means that the application pool identity is used as an 
        anonymous identity for that web site.
       </p>
      </p></blockquote>
     </p>
     <p class="para">
      To modify the permissions settings on files and folders, use the Windows Explorer 
      user interface or <var class="varname">icacls</var> command.
      <div class="example" id="install.unix.debian.config.example2">
       <p><strong>Example #12 Configuring file access permissions</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   icacls C:\inetpub\wwwroot\upload /grant IUSR:(OI)(CI)(M)
   </pre></div>
       </div>
   
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.defaultdoc">
     <h4 class="title">Set <var class="filename">index.php</var> as a default document in IIS</h4>
     <p class="para">
      The IIS default documents are used for HTTP requests that do not specify a 
      document name. With PHP applications, <var class="filename">index.php</var> usually 
      acts as a default document. To add <var class="filename">index.php</var> to the list 
      of IIS default documents, use this command:
      <div class="example" id="example-20">
       <p><strong>Example #13 Set <var class="filename">index.php</var> as a default document in IIS</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd.exe set config ^
   -section:system.webServer/defaultDocument /+&quot;files.[value=&#039;index.php&#039;]&quot; ^
   /commit:apphost
   </pre></div>
       </div>
   
      </div>   
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.recycling">
     <h4 class="title">FastCGI and PHP Recycling configuration</h4>
     <p class="para">
      Configure IIS FastCGI settings for recycling of PHP processes by using the commands shown below. 
      The FastCGI setting <var class="varname">instanceMaxRequests</var> controls how many requests will be 
      processed by a single <var class="filename">php-cgi.exe</var> process before IIS shuts it down. 
      The PHP environment variable <var class="varname">PHP_FCGI_MAX_REQUESTS</var> controls how many 
      requests a single <var class="filename">php-cgi.exe</var> process will handle before it recycles 
      itself. Make sure that the value specified for FastCGI <var class="varname">InstanceMaxRequests</var> 
      setting is less than or equal to the value specified for <var class="varname">PHP_FCGI_MAX_REQUESTS</var>.
      <div class="example" id="example-21">
       <p><strong>Example #14 Configuring FastCGI and PHP recycling</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
   /[fullPath=&#039;c:\php\php-cgi.exe&#039;].instanceMaxRequests:10000
   
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
   /+&quot;[fullPath=&#039;C:\{php_folder}\php-cgi.exe&#039;].environmentVariables.^
   [name=&#039;PHP_FCGI_MAX_REQUESTS&#039;,value=&#039;10000&#039;]&quot;
   </pre></div>
       </div>
   
      </div>
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.timeouts">
     <h4 class="title">FastCGI timeout settings</h4>
     <p class="para">
      Increase the timeout settings for FastCGI if it is expected to have long running PHP scripts.
      The two settings that control timeouts are <var class="varname">activityTimeout</var> and 
      <var class="varname">requestTimeout</var>. Use the commands below to change the timeout settings. 
      Make sure to replace the value in the <var class="varname">fullPath</var> parameter to 
      contain the absolute path to the <var class="filename">php-cgi.exe</var> file.
      <div class="example" id="example-22">
       <p><strong>Example #15 Configuring FastCGI timeout settings</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
   /[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].activityTimeout:&quot;90&quot;  /commit:apphost
   
   %windir%\system32\inetsrv\appcmd.exe set config -section:system.webServer/fastCgi ^
   /[fullPath=&#039;C:\php\php-cgi.exe&#039;,arguments=&#039;&#039;].requestTimeout:&quot;90&quot;  /commit:apphost
   </pre></div>
       </div>
   
      </div>   
     </p>
    </div>
    <div class="sect3" id="install.windows.legacy.iis7.phpinilocation">
     <h4 class="title">Changing the Location of <var class="filename">php.ini</var> file</h4>
     <p class="para">
      PHP searches for <var class="filename">php.ini</var> file in 
      <a href="#configuration.file" class="link">several locations</a> and it is 
      possible to change the default locations of <var class="filename">php.ini</var> 
      file by using <var class="varname">PHPRC</var> environment variable. To instruct PHP 
      to load the configuration file from a custom location run the command shown below. 
      The absolute path to the directory with <var class="filename">php.ini</var> file should be 
      specified as a value of <var class="varname">PHPRC</var> environment variable.
      <div class="example" id="example-23">
       <p><strong>Example #16 Changing the location of <var class="filename">php.ini</var> file</strong></p>
       <div class="example-contents">
   <div class="cdata"><pre>
   appcmd.exe set config  -section:system.webServer/fastCgi ^
   /+&quot;[fullPath=&#039;C:\php\php.exe&#039;,arguments=&#039;&#039;].environmentVariables.^
   [name=&#039;PHPRC&#039;,value=&#039;C:\Some\Directory\&#039;]&quot; /commit:apphost
   </pre></div>         
       </div>
   
      </div>   
     </p>
    </div>
   </div>
   
   
      
      
   
      <div class="sect2" id="install.windows.legacy.apache1">
       <h3 class="title">Apache 1.3.x on Microsoft Windows</h3>
       <p class="para">
        This section contains notes and hints specific to Apache 1.3.x installs
        of PHP on Microsoft Windows systems. There are also
        
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Please read the <a href="#install.windows.legacy.manual" class="link">manual
         installation steps</a> first!
        </p>
       </p></blockquote>
       
       <p class="simpara">
        There are two ways to set up PHP to work with Apache 1.3.x
        on Windows. One is to use the CGI binary (<var class="filename">php.exe</var>
        for PHP 4 and <var class="filename">php-cgi.exe</var> for PHP 5),
        the other is to use the Apache Module DLL. In either case
        you need to edit your <var class="filename">httpd.conf</var> to configure Apache to
        work with PHP, and then restart the server.
       </p>
       
       <p class="simpara">
        It is worth noting here that now the SAPI module has been 
        made more stable under Windows, we recommend it&#039;s use above
        the CGI binary, since it is more transparent and secure.
       </p>
       
       <p class="simpara">
        Although there can be a few variations of configuring PHP
        under Apache, these are simple enough to be used by the
        newcomer. Please consult the Apache Documentation for further
        configuration directives.
       </p>
     
       <p class="simpara">
        After changing the configuration file, remember to restart the server, for
        example, <strong class="command">NET STOP APACHE</strong> followed by
        <strong class="command">NET START APACHE</strong>, if you run Apache as a Windows
        Service, or use your regular shortcuts.
       </p>
       
       <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Remember that when adding
   path values in the Apache configuration files on Windows, all backslashes
   such as <var class="filename">c:\directory\file.ext</var> should be converted to
   forward slashes: <var class="filename">c:/directory/file.ext</var>. A trailing
   slash may also be necessary for directories.</span></p></blockquote>
   
       <div class="sect3" id="install.windows.legacy.apache1.module">
        <h4 class="title">Installing as an Apache module</h4>
        <p class="para">
         You should add the following lines to your Apache <var class="filename">httpd.conf</var> file:
        </p>
        <p class="para">
         <div class="example" id="example-24">
          <p><strong>Example #17 PHP as an Apache 1.3.x module</strong></p>
           <div class="example-contents"><p>
            This assumes PHP is installed to <var class="filename">c:\php</var>. Adjust the
            path if this is not the case.
           </p></div>
           <div class="example-contents"><p>
            For PHP 4:
           </p></div>
           <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode"># Add to the end of the LoadModule section
   # Don&#039;t forget to copy this file from the sapi directory!
   LoadModule php4_module &quot;C:/php/php4apache.dll&quot;
   
   # Add to the end of the AddModule section
   AddModule mod_php4.c</pre>
   </div>
          </div>
   
          <div class="example-contents"><p>
           For PHP 5:
          </p></div>
          <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode"># Add to the end of the LoadModule section
   LoadModule php5_module &quot;C:/php/php5apache.dll&quot;
   
   # Add to the end of the AddModule section
   AddModule mod_php5.c</pre>
   </div>
          </div>
   
          <div class="example-contents"><p>
           For both:
          </p></div>
          <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode"># Add this line inside the &lt;IfModule mod_mime.c&gt; conditional brace
   AddType application/x-httpd-php .php
   
   # For syntax highlighted .phps files, also add
   AddType application/x-httpd-php-source .phps</pre>
   </div>
          </div>
   
         </div>
        </p>
       </div>
   
       <div class="sect3" id="install.windows.legacy.apache1.cgi">
        <h4 class="title">Installing as a CGI binary</h4>
       
        <p class="para">
         If you unzipped the PHP package to <var class="filename">C:\php\</var> as described
         in the <a href="#install.windows.legacy.manual" class="link">Manual
         Installation Steps</a> section, you need to insert
         these lines to your Apache configuration file to set
         up the CGI binary:
         <div class="example" id="example-25">
          <p><strong>Example #18 PHP and Apache 1.3.x as CGI</strong></p>
           <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode">ScriptAlias /php/ &quot;c:/php/&quot;
   AddType application/x-httpd-php .php
   
   # For PHP 4
   Action application/x-httpd-php &quot;/php/php.exe&quot;
   
   # For PHP 5
   Action application/x-httpd-php &quot;/php/php-cgi.exe&quot;
   
   # specify the directory where php.ini is
   SetEnv PHPRC C:/php</pre>
   </div>
          </div>
   
         </div>
         Note that the second line in the list above can be found
         in the actual versions of <var class="filename">httpd.conf</var>, but it is commented out. Remember
         also to substitute the <var class="filename">c:/php/</var> for your actual path to
         PHP.
        </p>
        <div class="warning"><strong class="warning">Warning</strong><p class="para">A server deployed in CGI mode is open
   to several possible vulnerabilities. Please read our
   <a href="#security.cgi-bin" class="link">CGI security section</a> to learn how to
   defend yourself from such attacks.</p></div>
        <p class="simpara">
         If you would like to present PHP source files syntax highlighted, there
         is no such convenient option as with the module version of PHP.
         If you chose to configure Apache to use PHP as a CGI binary, you
         will need to use the <span class="function"><a href="#function.highlight-file" class="function">highlight_file()</a></span> function. To
         do this simply create a PHP script file and add this code: 
         <code class="literal">&lt;?php highlight_file(&#039;some_php_script.php&#039;); ?&gt;</code>.
        </p>
       </div>
   
      </div>
   
   
   
      
   
      <div class="sect2" id="install.windows.legacy.apache2">
       <h3 class="title">Apache 2.x on Microsoft Windows</h3>
       <p class="para">
        This section contains notes and hints specific to Apache 2.x installs
        of PHP on Microsoft Windows systems. We also
        
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         You should read the <a href="#install.windows.legacy.manual" class="link">manual
          installation steps</a> first!
        </p>
       </p></blockquote>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <strong>Apache 2.2 Support</strong><br />
        <p class="para">
         Users of Apache 2.2 should note that the DLL file for Apache 2.2 is
         named <var class="filename">php5apache2_2.dll</var> rather than <var class="filename">php5apache2.dll</var>
         and is available only for PHP 5.2.0 and later.
        </p>
       </p></blockquote>
       
       <p class="para">
        You are strongly encouraged to consult the
        <a href="http://httpd.apache.org/docs/current/" class="link external">&raquo;&nbsp;Apache Documentation</a> to get
        a basic understanding of the Apache 2.x Server. Also consider
        reading the <a href="http://httpd.apache.org/docs/current/platform/windows.html" class="link external">&raquo;&nbsp;Windows specific
        notes</a> for Apache 2.x before reading on here.
       </p>
       
        <p class="para">
         Apache 2.x is designed to run on the Windows version designated as
         server platforms, such as Windows NT 4.0, Windows 2000,
         Windows XP, or Windows 7. While Apache 2.x works tolerably well on Windows 9x,
         support on these platforms is incomplete, and some things will not work
         correctly. There is no plan to remedy this situation.
        </p>
   
       <p class="para">
        Download the most recent version of <a href="http://httpd.apache.org/" class="link external">&raquo;&nbsp;
        Apache 2.x</a> and a fitting PHP version.
        Follow the <a href="#install.windows.legacy.manual" class="link">Manual Installation
        Steps</a> and come back to go on with the integration of PHP and Apache.
       </p>
   
       <p class="para">
        There are three ways to set up PHP to work with Apache 2.x on Windows.
        You can run PHP as a handler, as a CGI, or under FastCGI.
       </p>
       
       <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">Remember that when adding
   path values in the Apache configuration files on Windows, all backslashes
   such as <var class="filename">c:\directory\file.ext</var> should be converted to
   forward slashes: <var class="filename">c:/directory/file.ext</var>. A trailing
   slash may also be necessary for directories.</span></p></blockquote>
       
       <div class="sect3" id="install.windows.apache2.legacy.module">
        <h4 class="title">Installing as an Apache handler</h4>
        <p class="para">
         You need to insert the following lines into your
         Apache <var class="filename">httpd.conf</var> configuration file to load the
         PHP module for Apache 2.x:
         <div class="example" id="example-26">
          <p><strong>Example #19 PHP and Apache 2.x as handler</strong></p>
           <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode"># 
   LoadModule php5_module &quot;c:/php/php5apache2.dll&quot;
   AddHandler application/x-httpd-php .php
   
   # configure the path to php.ini
   PHPIniDir &quot;C:/php&quot;</pre>
   </div>
          </div>
   
         </div>
        </p>
        <blockquote class="note"><p><strong class="note">Note</strong>: 
         <span class="simpara">
          Remember to substitute your actual path to PHP for the
          <var class="filename">C:/php/</var> in the above examples. Take care to use
          either <var class="filename">php5apache2.dll</var> or 
          <var class="filename">php5apache2_2.dll</var> in your LoadModule directive and
          verify that the referenced file is in fact located at the file path
          that you point to in this directive.
         </span>
        </p></blockquote>
         <p class="para">
         The above configuration will enable PHP handling of any file that has a
         .php extension, even if there are other file extensions. For example, a
         file named <var class="filename">example.php.txt</var> will be executed by the
         PHP handler. To ensure that only files that <em class="emphasis">end in</em>
         <var class="filename">.php</var> are executed, use the following configuration
         instead:
         </p>
   
         <div class="example" id="example-27">
           <div class="example-contents">
   <div class="apache-confcode"><pre class="apache-confcode">&lt;FilesMatch \.php$&gt;
         SetHandler application/x-httpd-php
    &lt;/FilesMatch&gt;</pre>
   </div>
          </div>
   
         </div>
       </div>
   
       <div class="sect3" id="install.windows.apache2.legacy.cgi">
        <h4 class="title">Running PHP as CGI</h4>
   
        <p class="para">
         You should consult the <a href="http://httpd.apache.org/docs/current/howto/cgi.html" class="link external">&raquo;&nbsp;Apache CGI
         documentation</a> for a more complete understanding of running CGI
         on Apache.
        </p>
      
        <p class="para">
         To run PHP as CGI, you&#039;ll need to place your php-cgi files in a
         directory designated as a CGI directory using the ScriptAlias directive.
        </p>
   
        <p class="para">
         You will then need to insert a #! line in the PHP files, pointing to the
         location of your PHP binary:
   
         <div class="example" id="example-28">
          <p><strong>Example #20 PHP and Apache 2.x as CGI</strong></p>
           <div class="example-contents">
   <div class="cdata"><pre>
   #!C:/php/php.exe
   &lt;?php
     phpinfo();
   ?&gt;
   </pre></div>
          </div>
   
         </div>
        </p>
        <div class="warning"><strong class="warning">Warning</strong><p class="para">A server deployed in CGI mode is open
   to several possible vulnerabilities. Please read our
   <a href="#security.cgi-bin" class="link">CGI security section</a> to learn how to
   defend yourself from such attacks.</p></div>
       </div>
   
       <div class="sect3" id="install.windows.apache2.legacy.fastcgi">
        <h4 class="title">Running PHP under FastCGI</h4>
   
        <p class="para">
        Running PHP under FastCGI has a number of advantages over running it as a
        CGI. Setting it up this way is fairly straightforward:
        </p>
        <p class="para">
        Obtain mod_fcgid from 
        <a href="http://httpd.apache.org/mod_fcgid/" class="link external">&raquo;&nbsp;http://httpd.apache.org/mod_fcgid/</a>. Win32
        binaries are available for download from that site. Install the module
        according to the instructions that will come with it.
        </p>
        <p class="para">
        Configure your web server as shown below, taking care to adjust any paths
        to reflect your how you have installed things on your particular system:
   
        <div class="example" id="example-29">
        <p><strong>Example #21 Configure Apache to run PHP as FastCGI</strong></p>
        <div class="example-contents">
   <div class="cdata"><pre>
   LoadModule fcgid_module modules/mod_fcgid.so  
   
   # Where is your php.ini file?
   FcgidInitialEnv PHPRC        &quot;c:/php&quot; 
   
   AddHandler fcgid-script .php  
   FcgidWrapper &quot;c:/php/php-cgi.exe&quot; .php  
   </pre></div>
        </div>
   
        </div>
   
        Files with a .php extension will now be executed by the PHP FastCGI
        wrapper.
        </p>
   
       </div>
   
      </div>
   
   
   
      
   
     <div class="sect2" id="install.windows.legacy.sun">
      <h3 class="title">Sun, iPlanet and Netscape servers on Microsoft Windows</h3>
      <p class="para">
       This section contains notes and hints specific to Sun Java System Web Server,
       Sun ONE Web Server, iPlanet and Netscape server installs of PHP on Windows.
      </p>
      <p class="para">
       From PHP 4.3.3 on you can use PHP scripts with the
       <a href="#ref.nsapi" class="link">NSAPI module</a> to 
       
       Apache compatibility are also available. For support in current web servers
       
      </p>
      
      <div class="sect3" id="install.windows.legacy.sun.cgi">
       <h4 class="title">CGI setup on Sun, iPlanet and Netscape servers</h4> 
       <p class="para">
        To install PHP as a CGI handler, do the following:
       </p>
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          Copy <var class="filename">php4ts.dll</var> to your systemroot
          (the directory where you installed Windows)
         </span>
        </li>
        <li class="listitem">
         <p class="para">
          Make a file association from the command line.
          Type the following two lines:
          <div class="example-contents">
   <div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
   ftype PHPScript=c:\php\php.exe %1 %*</pre>
   </div>
          </div>
   
         </p>
        </li>
        <li class="listitem">
         <span class="simpara">
          In the Netscape Enterprise Administration Server create
          a dummy shellcgi directory and remove it just after (this
          step creates 5 important lines in obj.conf and allow the
          web server to handle shellcgi scripts).
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          In the Netscape Enterprise Administration Server create
          a new mime type (Category: type,
          Content-Type: magnus-internal/shellcgi, File Suffix:php).
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Do it for each web server instance you want PHP to run
         </span>
        </li>
       </ul>
       <p class="para">
        More details about setting up
        PHP as a CGI executable can be found here:
        <a href="http://benoit.noss.free.fr/php/install-php.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php.html</a>
       </p>
      </div>
       
      <div class="sect3" id="install.windows.legacy.sun.nsapi">
       <h4 class="title">NSAPI setup on Sun, iPlanet and Netscape servers</h4> 
       <p class="para">
        To install PHP with NSAPI, do the following:
       </p>
       <ul class="itemizedlist">
        <li class="listitem">
         <span class="simpara">
          Copy <var class="filename">php4ts.dll</var> to your systemroot
          (the directory where you installed Windows)
         </span>
        </li>
        <li class="listitem">
         <p class="para">
          Make a file association from the command line.
          Type the following two lines:
          <div class="example-contents">
   <div class="shellcode"><pre class="shellcode">assoc .php=PHPScript
   ftype PHPScript=c:\php\php.exe %1 %*</pre>
   </div>
          </div>
   
         </p>
        </li>
        <li class="listitem">
         <span class="simpara">
          In the Netscape Enterprise Administration Server create
          a new mime type (Category: type,
          Content-Type: magnus-internal/x-httpd-php, File Suffix: php).
         </span>
        </li>
        <li class="listitem">
         <p class="para">
           Edit <var class="filename">magnus.conf</var> (for servers &gt;= 6) or
           <var class="filename">obj.conf</var> (for servers &lt; 6) and add the following:
           You should
           place the lines after <code class="literal">mime types init</code>.
          <div class="example-contents">
   <div class="cdata"><pre>
   Init fn=&quot;load-modules&quot; funcs=&quot;php4_init,php4_execute,php4_auth_trans&quot; shlib=&quot;c:/php/sapi/php4nsapi.dll&quot;
   Init fn=&quot;php4_init&quot; LateInit=&quot;yes&quot; errorString=&quot;Failed to initialise PHP!&quot; [php_ini=&quot;c:/path/to/php.ini&quot;]
   </pre></div>
          </div>
   
          (PHP &gt;= 4.3.3) The <code class="literal">php_ini</code> parameter is
          optional but with it you can place your
          <var class="filename">php.ini</var> in your web server configuration directory.
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          Configure the default object in <var class="filename">obj.conf</var>
          (for virtual server classes [Sun Web Server 6.0+] in
          their <var class="filename">vserver.obj.conf</var>):
          In the <code class="literal">&lt;Object name=&quot;default&quot;&gt;</code>
          section, place this line necessarily after all &#039;ObjectType&#039;
          and before all &#039;AddLog&#039; lines:
          <div class="example-contents">
   <div class="cdata"><pre>
   Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/x-httpd-php&quot; [inikey=value inikey=value ...]
   </pre></div>
          </div>
   
          (PHP &gt;= 4.3.3) As additional parameters you can add some special
          <var class="filename">php.ini</var>-values, for example you
          can set a <code class="literal">docroot=&quot;/path/to/docroot&quot;</code>
          specific to the context <code class="literal">php4_execute</code>
          is called. For boolean ini-keys please use 0/1 as value,
          not <code class="literal">&quot;On&quot;,&quot;Off&quot;,...</code>
          (this will not work correctly), e.g.
          <code class="literal">zlib.output_compression=1</code> instead of
          <code class="literal">zlib.output_compression=&quot;On&quot;</code>
         </p>
        </li>
        <li class="listitem">
         <p class="para">
          This is only needed if you want to configure a directory that only consists of
          PHP scripts (same like a cgi-bin directory):
          <div class="example-contents">
   <div class="cdata"><pre>
   &lt;Object name=&quot;x-httpd-php&quot;&gt;
   ObjectType fn=&quot;force-type&quot; type=&quot;magnus-internal/x-httpd-php&quot;
   Service fn=php4_execute [inikey=value inikey=value ...]
   &lt;/Object&gt;
   </pre></div>
          </div>
   
          After that you can configure a directory in the Administration server and assign it
          the style <code class="literal">x-httpd-php</code>. All files in it will get executed as PHP.
          This is nice to hide PHP usage by renaming files to <var class="filename">.html</var>.
         </p>
        </li>
        <li class="listitem">
         <span class="simpara">
          Restart your web service and apply changes
         </span>
        </li>
        <li class="listitem">
         <span class="simpara">
          Do it for each web server instance you want PHP to run
         </span>
        </li>
       </ul>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         More details about setting up
         PHP as an NSAPI filter can be found here:
         <a href="http://benoit.noss.free.fr/php/install-php4.html" class="link external">&raquo;&nbsp;http://benoit.noss.free.fr/php/install-php4.html</a>
        </p>
       </p></blockquote>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         The stacksize that PHP uses depends on the configuration of the web server. If you get
         crashes with very large PHP scripts, it is recommended to raise it with the Admin Server
         (in the section &quot;MAGNUS EDITOR&quot;).
        </p>
       </p></blockquote>
      </div>
      
      <div class="sect3" id="install.windows.legacy.sun.phpini">
       <h4 class="title">CGI environment and recommended modifications in <var class="filename">php.ini</var></h4>
       <p class="para">
        Important when writing PHP scripts is the fact that Sun JSWS/Sun ONE
        WS/iPlanet/Netscape is a multithreaded web server. Because of that all
        requests are running in the same process space (the space of the web server
        itself) and this space has only one environment. If you want to get CGI
        variables like <code class="literal">PATH_INFO</code>, <code class="literal">HTTP_HOST</code>
        etc. it is not the correct way to try this in the old PHP  way with
        <span class="function"><a href="#function.getenv" class="function">getenv()</a></span> or a similar way (register globals to
        environment, <code class="literal">$_ENV</code>). You would only get the environment
        of the running web server without any valid CGI variables!
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Why are there (invalid) CGI variables in the environment?
        </p>
        <p class="para">
         Answer: This is because you started the web server process from the admin server
         which runs the startup script of the web server, you wanted to start, as a CGI script
         (a CGI script inside of the admin server!). This is why the environment of
         the started web server has some CGI environment variables in it. You can test
         this by starting the web server not from the administration server. Use
         the command line as root user and start it manually - you will see
         there are no CGI-like environment variables.
        </p>
       </p></blockquote>
       <p class="para">
        Simply change your scripts to get CGI variables in the correct way for
        PHP 4.x by using the superglobal <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var>. If you have
        older scripts which use <var class="varname">$HTTP_HOST</var>, etc., you should turn
        on <code class="literal">register_globals</code> in <var class="filename">php.ini</var> and change the variable
        order too (important: remove <code class="literal">&quot;E&quot;</code> from it,
        because you do not need the environment here):
        <div class="example-contents">
   <div class="cdata"><pre>
   variables_order = &quot;GPCS&quot;
   register_globals = On
   </pre></div>
        </div>
   
       </p>
      </div>
      
      <div class="sect3" id="install.windows.legacy.sun.specialpages">
       <h4 class="title">Special use for error pages or self-made directory listings (PHP &gt;= 4.3.3)</h4>
       <p class="para">
        You can use PHP to generate the error pages for <code class="literal">&quot;404 Not Found&quot;</code>
        or similar. Add the following line to the object in <var class="filename">obj.conf</var> for
        every error page you want to overwrite:
        <div class="example-contents">
   <div class="cdata"><pre>
   Error fn=&quot;php4_execute&quot; code=XXX script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
   </pre></div>
        </div>
   
        where <code class="literal">XXX</code> is the HTTP error code. Please delete
        any other <code class="literal">Error</code> directives which could interfere with yours.
        If you want to place a page for all errors that could exist, leave
        the <code class="literal">code</code> parameter out. Your script can get the HTTP status code
        with <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['ERROR_TYPE']</a></var>.
       </p>
       <p class="para">
        Another possibility is to generate self-made directory listings.
        Just create a PHP script which displays a directory listing and
        replace the corresponding default Service line for
        <code class="literal">type=&quot;magnus-internal/directory&quot;</code>
        in <var class="filename">obj.conf</var> with the following:
        <div class="example-contents">
   <div class="cdata"><pre>
   Service fn=&quot;php4_execute&quot; type=&quot;magnus-internal/directory&quot; script=&quot;/path/to/script.php&quot; [inikey=value inikey=value...]
   </pre></div>
        </div>
   
        For both error and directory listing pages the original URI and
        translated URI are in the variables <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['PATH_INFO']</a></var> and
        <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['PATH_TRANSLATED']</a></var>.
       </p>
      </div>
      
      <div class="sect3" id="install.windows.legacy.sun.notes">
       <h4 class="title">Note about <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> and subrequests (PHP &gt;= 4.3.3)</h4>
       <p class="para">
        The NSAPI module now supports the <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> function
        (alias: <span class="function"><a href="#function.virtual" class="function">virtual()</a></span>)
        to make subrequests on the web server and insert the result in the web page.
        The problem is, that this function uses some undocumented features from
        the NSAPI library.
       </p>
       <p class="para">
        Under Unix this is not a problem, because the module automatically looks
        for the needed functions and uses them if available.
        If not, <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> is disabled.
       </p>
       <p class="para">
        Under Windows limitations in the DLL handling need the use of a automatic
        detection of the most recent <var class="filename">ns-httpdXX.dll</var> file.
        This is tested for servers till version 6.1. If a newer version of the
        Sun server is used, the detection fails and <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span>
        is disabled.
       </p>
       <p class="para">
        If this is the case, try the following:
        Add the following parameter to <code class="literal">php4_init</code> in
        <var class="filename">magnus.conf</var>/<var class="filename">obj.conf</var>:
        <div class="example-contents">
   <div class="cdata"><pre>
   Init fn=php4_init ... server_lib=&quot;ns-httpdXX.dll&quot;
   </pre></div>
        </div>
   
        where <code class="literal">XX</code> is the correct DLL version number.
        To get it, look in the server-root for the correct DLL name. The
        DLL with the biggest filesize is the right one.
       </p>
       <p class="para">
        You can check the status by using the <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span> function.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         But be warned: Support for <span class="function"><a href="#function.nsapi-virtual" class="function">nsapi_virtual()</a></span> is EXPERIMENTAL!!!
        </p>
       </p></blockquote>
      </div>   
     </div>
   
   
   
      
   
      <div class="sect2" id="install.windows.legacy.sambar">
       <h3 class="title">Sambar Server on Microsoft Windows</h3>
       <p class="para">
        This section contains notes and hints specific to the
        <a href="http://www.sambar.com/" class="link external">&raquo;&nbsp;Sambar Server</a> for Windows.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         You should read the <a href="#install.windows.legacy.manual" class="link">manual
          installation steps</a> first!
        </p>
       </p></blockquote>
       <p class="simpara">
        This list describes how to set up the ISAPI module to
        work with the Sambar server on Windows.
       </p>
   
       <p class="para">
        <ul class="itemizedlist">
         <li class="listitem">
          <p class="para">
           Find the file called <var class="filename">mappings.ini</var> (in the config
           directory) in the Sambar install directory.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Open <var class="filename">mappings.ini</var> and add the following line
           under <code class="literal">[ISAPI]</code>:
         <div class="example" id="example-30">
          <p><strong>Example #22 ISAPI configuration of Sambar</strong></p>
          <div class="example-contents">
   <div class="cdata"><pre>
   #for PHP 4
   *.php = c:\php\php4isapi.dll
   
   #for PHP 5
   *.php = c:\php\php5isapi.dll
   </pre></div>
          </div>
   
         </div>
           (This line assumes that PHP was installed in
           <var class="filename">c:\php</var>.)
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Now restart the Sambar server for the changes to take effect.
          </p>
         </li>
        </ul>
       </p>
   
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         If you intend to use PHP to communicate with resources which are held on
         a different computer on your network, then you will need to alter the
         account used by the Sambar Server Service. The default account used for
         the Sambar Server Service is LocalSystem which will not have access to
         remote resources. The account can be amended by using the Services
         option from within the Windows Control Panel Administration Tools.
        </p>
       </p></blockquote>
      </div>
   
   
   
      
   
      <div class="sect2" id="install.windows.legacy.xitami">
       <h3 class="title">Xitami on Microsoft Windows</h3>
       <p class="para">
        This section contains notes and hints specific to
        <a href="http://www.xitami.com/" class="link external">&raquo;&nbsp;Xitami</a> on Windows.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         You should read the <a href="#install.windows.legacy.manual" class="link">manual
          installation steps</a> first!
        </p>
       </p></blockquote>
       <p class="simpara">
        This list describes how to set up the PHP CGI binary
        to work with Xitami on Windows.
       </p>
       
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <strong>Important for CGI users</strong><br />
        <p class="para">
         Read the <a href="#faq.installation.forceredirect" class="link">faq
         on cgi.force_redirect</a> for important details.  This
         directive needs to be set to <code class="literal">0</code>.
         If you want to use <code class="literal">$_SERVER[&#039;PHP_SELF&#039;]</code> you have to
         enable the <a href="#ini.cgi.fix-pathinfo" class="link">cgi.fix_pathinfo</a>
         directive.
        </p>
       </p></blockquote>
       <div class="warning"><strong class="warning">Warning</strong><p class="para">A server deployed in CGI mode is open
   to several possible vulnerabilities. Please read our
   <a href="#security.cgi-bin" class="link">CGI security section</a> to learn how to
   defend yourself from such attacks.</p></div>
       <p class="para">
        <ul class="itemizedlist">
         <li class="listitem">
          <p class="para">
           Make sure the web server is running, and point
           your browser to xitamis admin console
           (usually <code class="literal">http://127.0.0.1/admin</code>),
           and click on Configuration.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Navigate to the Filters, and put the
           extension which PHP should parse (i.e. .php)
           into the field File extensions (.xxx).
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           In Filter command or script put the path and name
           of your PHP CGI executable i.e. <var class="filename">C:\php\php.exe</var>
           for PHP 4, or <var class="filename">C:\php\php-cgi.exe</var> for PHP 5.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Press the &#039;Save&#039; icon.
          </p>
         </li>
         <li class="listitem">
          <p class="para">
           Restart the server to reflect changes.
          </p>
         </li>
        </ul>
       </p>
      </div>
   
   
   
      
   
   <div class="sect2" id="install.windows.legacy.building">
    <h3 class="title">Building from source</h3>
    <p class="para">
     This chapter teaches how to compile PHP from sources on windows, using
     Microsoft&#039;s tools. To compile PHP with cygwin, please refer to <a href="#install.unix" class="xref">Installation on Unix systems</a>.
    </p>
    <p class="para">
     See the Wiki documentation at:
     <a href="https://wiki.php.net/internals/windows/stepbystepbuild" class="link external">&raquo;&nbsp;https://wiki.php.net/internals/windows/stepbystepbuild</a>  
    </p>
   </div>
   
   
   
      
   
      <div class="sect2" id="install.windows.legacy.extensions">
       <h3 class="title">Installation of extensions on Windows</h3>
       <p class="para">
        After installing PHP and a web server on Windows, you will probably want to
        install some extensions for added functionality. You can choose which
        extensions you would like to load when PHP starts by modifying your
        <var class="filename">php.ini</var>. You can also load a module dynamically in your script using
        <span class="function"><a href="#function.dl" class="function">dl()</a></span>.
       </p>
       <p class="para">
        The DLLs for PHP extensions are prefixed with <code class="literal">php_</code>.
       </p>
       <p class="para">
        Many extensions are <em class="emphasis">built into</em> the Windows version
        of PHP. This means additional DLL files, and the 
        <a href="#ini.extension" class="link">extension</a> directive, are  
        <em class="emphasis">not</em> used to load these extensions. The Windows 
        <a href="#install.windows.legacy.extensions.overview" class="link">PHP Extensions</a>
        table lists extensions that require, or used to require, additional PHP 
        DLL files. Here&#039;s a list of built in extensions (updated PHP 5.0.4):
        <a href="#book.bc" class="link">BCMath</a>,
        <a href="#book.calendar" class="link">Calendar</a>,
        <a href="#book.com" class="link">COM</a>,
        <a href="#book.ctype" class="link">Ctype</a>,
        <a href="#book.dom" class="link">DOM</a>,
        <a href="#book.ftp" class="link">FTP</a>,
        <a href="#book.libxml" class="link">LibXML</a>,
        <a href="#book.iconv" class="link">Iconv</a>,
        <a href="#book.uodbc" class="link">ODBC</a>,
        <a href="#book.pcre" class="link">PCRE</a>,
        <a href="#book.session" class="link">Session</a>,
        <a href="#book.simplexml" class="link">SimpleXML</a>,
        <a href="#book.spl" class="link">SPL</a>,
        <a href="#book.sqlite" class="link">SQLite</a>,
        <a href="#book.wddx" class="link">WDDX</a>,
        <a href="#book.xml" class="link">XML</a> and
        <a href="#book.zlib" class="link">Zlib</a>.
       </p>
       <p class="para">
        The default location PHP searches for extensions is
        <var class="filename">C:\php5</var>. To change this
        setting to reflect your setup of PHP edit your <var class="filename">php.ini</var> file:
        <ul class="itemizedlist">
         <li class="listitem">
          <p class="para">
           You will need to change the
           <a href="#ini.extension-dir" class="link">extension_dir</a> setting to
           point to the directory where your extensions lives, or where you have
           placed your <var class="filename">php_*.dll</var> files. For example:
           <div class="informalexample">
            <div class="example-contents">
   <div class="inicode"><pre class="inicode">extension_dir = C:\php\extensions</pre>
   </div>
            </div>
   
           </div>
          </p>
         </li>
        <li class="listitem">
         <p class="para">
          Enable the extension(s) in <var class="filename">php.ini</var> you want to use by uncommenting the
          <code class="literal">extension=php_*.dll</code> lines in <var class="filename">php.ini</var>. This is done
          by deleting the leading ; from the extension you want to load. 
          <div class="example" id="example-31">
           <p><strong>Example #23 Enable <a href="#book.bzip2" class="link">Bzip2</a> extension for PHP-Windows</strong></p>
            <div class="example-contents">
   <div class="inicode"><pre class="inicode">// change the following line from ...
   ;extension=php_bz2.dll
   
   // ... to
   extension=php_bz2.dll</pre>
   </div>
            </div>
   
           </div>      
          </p>
        </li>
         <li class="listitem">
          <p class="para">
           Some of the extensions need extra DLLs to work. Couple of them can be
           found in the distribution package, in the main folder, but some, for example Oracle
           (<var class="filename">php_oci8.dll</var>) require DLLs which are not bundled
           with the distribution package. Don&#039;t forget to include <var class="filename">C:\php</var> in the system
           <var class="envar">PATH</var> (this process is explained in a separate <a href="#faq.installation.addtopath" class="link">FAQ entry</a>).
          </p>
        </li>
        <li class="listitem">
         <p class="para">
          Some of these DLLs are not bundled with the PHP distribution. See each
          extensions documentation page for details. Also, read the manual 
          section titled <a href="#install.pecl" class="link">Installation of PECL 
          extensions</a> for details on <acronym title="PHP Extension and Application Repository">PECL</acronym>. An 
          increasingly large number of PHP extensions are found in 
          <acronym title="PHP Extension and Application Repository">PECL</acronym>, and these extensions require a
          <a href="#install.pecl.downloads" class="link">separate download</a>.
         </p>
        </li>
       </ul>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        If you are running a server module version of PHP
        remember to restart your web server to reflect your changes to <var class="filename">php.ini</var>.
       </span>
      </p></blockquote>
      </p>
   
      <p class="para">
       The following table describes some of the extensions available and required
       additional dlls.   
       <table id="install.windows.legacy.extensions.overview" class="doctable table">
        <caption><strong>PHP Extensions</strong></caption>
        
         <thead>
          <tr>
           <th>Extension</th>
           <th>Description</th>
           <th>Notes</th>
          </tr>
   
         </thead>
   
         <tbody class="tbody">
     <tr>
      <td>php_bz2.dll</td>
      <td><a href="#book.bzip2" class="link">bzip2</a> compression functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_calendar.dll</td>
      <td><a href="#book.calendar" class="link">Calendar</a> conversion functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_crack.dll</td>
      <td><a href="#book.crack" class="link">Crack</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_ctype.dll</td>
      <td><a href="#book.ctype" class="link">ctype</a> family functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_curl.dll</td>
      <td><a href="#book.curl" class="link">CURL</a>, Client URL library functions</td>
      <td>Requires: <var class="filename">libeay32.dll</var>, 
      <var class="filename">ssleay32.dll</var> (bundled), or, as of OpenSSL 1.1
      <var class="filename">libcrypto-*.dll</var> and <var class="filename">libssl-*.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_dba.dll</td>
      <td><a href="#book.dba" class="link">DBA</a>: DataBase (dbm-style) 
      Abstraction layer functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_dbase.dll</td>
      <td><a href="#book.dbase" class="link">dBase</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_dbx.dll</td>
      <td><a href="#book.dbx" class="link">dbx</a> functions</td>
      <td class="empty">&nbsp;</td>
     </tr>
   
     <tr>
      <td>php_exif.dll</td>
      <td><a href="#book.exif" class="link">EXIF</a> functions</td>
      <td>
       <a href="#book.mbstring" class="link">php_mbstring.dll</a>. And, 
       <var class="filename">php_exif.dll</var> must be loaded <code class="literal">after</code> 
       <var class="filename">php_mbstring.dll</var> in <var class="filename">php.ini</var>.
      </td>
     </tr>
   
     <tr>
      <td>php_fbsql.dll</td>
      <td><a href="#book.fbsql" class="link">FrontBase</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_fdf.dll</td>
      <td><a href="#book.fdf" class="link">FDF</a>: Forms Data Format functions.</td>
      <td>Requires: <var class="filename">fdftk.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_filepro.dll</td>
      <td><a href="#book.filepro" class="link">filePro</a> functions</td>
      <td>Read-only access</td>
     </tr>
   
     <tr>
      <td>php_ftp.dll</td>
      <td><a href="#book.ftp" class="link">FTP</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_gd2.dll</td>
      <td><a href="#book.image" class="link">GD</a> library image functions</td>
      <td>GD2</td>
     </tr>
   
     <tr>
      <td>php_gettext.dll</td>
      <td><a href="#book.gettext" class="link">Gettext</a> functions</td>
      <td>
       PHP &lt;= 4.2.0 requires <var class="filename">gnu_gettext.dll</var> (bundled), 
       PHP &gt;= 4.2.3 requires <var class="filename">libintl-1.dll</var>,
       <var class="filename">iconv.dll</var> (bundled).
      </td>
     </tr>
   
     <tr>
      <td>php_hyperwave.dll</td>
      <td>HyperWave functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_iconv.dll</td>
      <td><a href="#book.iconv" class="link">ICONV</a> characterset conversion</td>
      <td>
       Requires: <var class="filename">iconv-1.3.dll</var> (bundled), <var class="filename">iconv.dll</var>
      </td>
     </tr>
   
     <tr>
      <td>php_ifx.dll</td>
      <td><a href="#book.ifx" class="link">Informix</a> functions</td>
      <td>Requires: Informix libraries</td>
     </tr>
   
     <tr>
      <td>php_iisfunc.dll</td>
      <td>IIS management functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_imap.dll</td>
      <td><a href="#book.imap" class="link">IMAP</a> POP3 and NNTP functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_ingres.dll</td>
      <td><a href="#book.ingres" class="link">Ingres</a> functions</td>
      <td>Requires: Ingres libraries</td>
     </tr>
   
     <tr>
      <td>php_interbase.dll</td>
      <td><a href="#book.ibase" class="link">InterBase</a> functions</td>
      <td>Requires: <var class="filename">gds32.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_ldap.dll</td>
      <td><a href="#book.ldap" class="link">LDAP</a> functions</td>
      <td>
       Requires <var class="filename">libeay32.dll</var>, 
       <var class="filename">ssleay32.dll</var> (bundled), or, as of OpenSSL 1.1
       <var class="filename">libcrypto-*.dll</var> and <var class="filename">libssl-*.dll</var> (bundled)
      </td>
     </tr>
   
     <tr>
      <td>php_mbstring.dll</td>
      <td><a href="#book.mbstring" class="link">Multi-Byte String</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_mcrypt.dll</td>
      <td><a href="#book.mcrypt" class="link">Mcrypt Encryption</a> functions</td>
      <td>Requires: <var class="filename">libmcrypt.dll</var></td>
     </tr>
   
     <tr>
      <td>php_mhash.dll</td>
      <td><a href="#book.mhash" class="link">Mhash</a> functions</td>
      <td>Requires: <var class="filename">libmhash.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_mime_magic.dll</td>
      <td><a href="#book.mime-magic" class="link">Mimetype</a> functions</td>
      <td>Requires: <var class="filename">magic.mime</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_ming.dll</td>
      <td><a href="#book.ming" class="link">Ming</a> functions for Flash</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_msql.dll</td>
      <td><a href="#book.msql" class="link">mSQL</a> functions</td>
      <td>Requires: <var class="filename">msql.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_mssql.dll</td>
      <td><a href="#book.mssql" class="link">MSSQL</a> functions</td>
      <td>Requires: <var class="filename">ntwdblib.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_mysql.dll</td>
      <td><a href="#book.mysql" class="link">MySQL</a> functions</td>
      <td>Requires <var class="filename">libmysql.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_mysqli.dll</td>
      <td><a href="#book.mysqli" class="link">MySQLi</a> functions</td>
      <td>Requires <var class="filename">libmysql.dll</var>
       (<var class="filename">libmysqli.dll</var> in PHP &lt;= 5.0.2) (bundled)</td>
     </tr>
   
     <tr>
      <td>php_oci8.dll</td>
      <td><a href="#book.oci8" class="link">Oracle 8</a> functions</td>
      <td>Requires: Oracle 8.1+ client libraries</td>
     </tr>
   
     <tr>
      <td>php_openssl.dll</td>
      <td><a href="#book.openssl" class="link">OpenSSL</a> functions</td>
      <td>Requires: <var class="filename">libeay32.dll</var> (bundled),
      or, as of OpenSSL 1.1, <var class="filename">liblibcrypto-*.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_pdf.dll</td>
      <td><a href="#book.pdf" class="link">PDF</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_pgsql.dll</td>
      <td><a href="#book.pgsql" class="link">PostgreSQL</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_shmop.dll</td>
      <td><a href="#book.shmop" class="link">Shared Memory</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_snmp.dll</td>
      <td><a href="#book.snmp" class="link">SNMP</a> get and walk functions</td>
      <td>NT only!</td>
     </tr>
   
     <tr>
      <td>php_soap.dll</td>
      <td><a href="#book.soap" class="link">SOAP</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_sockets.dll</td>
      <td><a href="#book.sockets" class="link">Socket</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_sybase_ct.dll</td>
      <td><a href="#book.sybase" class="link">Sybase</a> functions</td>
      <td>Requires: Sybase client libraries</td>
     </tr>
   
     <tr>
      <td>php_tidy.dll</td>
      <td><a href="#book.tidy" class="link">Tidy</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_tokenizer.dll</td>
      <td><a href="#book.tokenizer" class="link">Tokenizer</a> functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_w32api.dll</td>
      <td>W32api functions</td>
      <td>None</td>
     </tr>
   
     <tr>
      <td>php_xmlrpc.dll</td>
      <td><a href="#book.xmlrpc" class="link">XML-RPC</a> functions</td>
      <td>Requires: <var class="filename">iconv.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_xslt.dll</td>
      <td>XSLT functions</td>
      <td>
       Requires <var class="filename">sablot.dll</var>, <var class="filename">expat.dll</var>,
       <var class="filename">iconv.dll</var> (bundled).
      </td>
     </tr>
   
     <tr>
      <td>php_yaz.dll</td>
      <td><a href="#book.yaz" class="link">YAZ</a> functions</td>
      <td>Requires: <var class="filename">yaz.dll</var> (bundled)</td>
     </tr>
   
     <tr>
      <td>php_zip.dll</td>
      <td><a href="#book.zip" class="link">Zip File</a> functions</td>
      <td>Read only access</td>
     </tr>
   
     <tr>
      <td>php_zlib.dll</td>
      <td><a href="#book.zlib" class="link">ZLib</a> compression functions</td>
      <td>None</td>
     </tr>
   
          </tbody>
         
        </table>
   
       </p>
      </div>
   
   
   
      
   
      <div class="sect2" id="install.windows.legacy.commandline">
       <h3 class="title">Command Line PHP on Microsoft Windows</h3>
       <p class="para">
        This section contains notes and hints specific to getting PHP running
        from the command line for Windows.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         You should read the <a href="#install.windows.legacy.manual" class="link">manual
         installation steps</a> first!
        </p>
       </p></blockquote>
       <p class="para">
        Getting PHP to run from the command line can be performed without making
        any changes to Windows.
        <div class="example-contents screen">
   <div class="cdata"><pre>
   C:\PHP5\php.exe -f &quot;C:\PHP Scripts\script.php&quot; -- -arg1 -arg2 -arg3
   </pre></div>     
        </div>
       </p>
   
       <p class="para">
        But there are some easy steps that can be followed to make this simpler.
        Some of these steps should already have been taken, but are repeated here
        to be able to provide a complete step-by-step sequence.
         
        
        <ul class="itemizedlist">
         
         <blockquote class="note"><p><strong class="note">Note</strong>: 
          <p class="para">
           Both <var class="envar">PATH</var> and <var class="envar">PATHEXT</var> are important pre-existing system variables in Windows, and care should be taken to not overwrite either variable, only to add to them.
          </p>
         </p></blockquote>
   
         <li class="listitem">
          <p class="para">
           Append the location of the PHP executable (<var class="filename">php.exe</var>,
           <var class="filename">php-win.exe</var> or <var class="filename">php-cli.exe</var>
           depending upon your PHP version and display preferences) to the
           <var class="envar">PATH</var> environment variable. Read more about how to
           add your PHP directory to <var class="envar">PATH</var> in the <a href="#faq.installation.addtopath" class="link">corresponding FAQ entry</a>.
          </p>
         </li>
   
         <li class="listitem">
          <p class="para">
           Append the <code class="literal">.PHP</code> extension to the
           <var class="varname">PATHEXT</var> environment variable. This can be done
           at the same time as amending the <var class="envar">PATH</var> environment
           variable. Follow the same steps as described in the <a href="#faq.installation.addtopath" class="link">FAQ</a> but amend the
           <var class="varname">PATHEXT</var> environment variable rather than the
           <var class="envar">PATH</var> environment variable.
           <blockquote class="note"><p><strong class="note">Note</strong>: 
            <p class="para">
             The position in which you place the <code class="literal">.PHP</code> will
             determine which script or program is executed when there are matching
             filenames. For example, placing <code class="literal">.PHP</code> before
             <code class="literal">.BAT</code> will cause your script to run, rather than
             the batch file, if there is a batch file with the same name.
            </p>
           </p></blockquote>
          </p>
         </li>
   
         <li class="listitem">
          <p class="para">
           Associate the <code class="literal">.PHP</code> extension with a file type. This
           is done by running the following command:
           <div class="example-contents screen">
   <div class="cdata"><pre>
   assoc .php=phpfile
   </pre></div>     
           </div>
          </p>
         </li>
   
         <li class="listitem">
          <p class="para">
           Associate the <code class="literal">phpfile</code> file type with the appropriate
           PHP executable. This is done by running the following command:
           <div class="example-contents screen">
   <div class="cdata"><pre>
   ftype phpfile=&quot;C:\PHP5\php.exe&quot; -f &quot;%1&quot; -- %~2
   </pre></div>     
           </div>
          </p>
         </li>
   
        </ul>
       </p>
   
       <p class="para">
        Following these steps will allow PHP scripts to be run from any directory
        without the need to type the PHP executable or the <code class="literal">.PHP</code>
        extension and all parameters will be supplied to the script for processing.
       </p>
   
       <p class="para">
        The example below details some of the registry changes that can be made manually.
        <div class="example" id="example-32">
         <p><strong>Example #24 Registry changes</strong></p>
         <div class="example-contents screen">
   <div class="cdata"><pre>
   Windows Registry Editor Version 5.00
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\.php]
   @=&quot;phpfile&quot;
   &quot;Content Type&quot;=&quot;application/php&quot;
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile]
   @=&quot;PHP Script&quot;
   &quot;EditFlags&quot;=dword:00000000
   &quot;BrowserFlags&quot;=dword:00000008
   &quot;AlwaysShowExt&quot;=&quot;&quot;
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\DefaultIcon]
   @=&quot;C:\\PHP5\\php-win.exe,0&quot;
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell]
   @=&quot;Open&quot;
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open]
   @=&quot;&amp;Open&quot;
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Classes\phpfile\shell\Open\command]
   @=&quot;\&quot;C:\\PHP5\\php.exe\&quot; -f \&quot;%1\&quot; -- %~2&quot;
   </pre></div>
         </div>
        </div>
       </p>
   
       <p class="para">
        With these changes the same command can be written as:
        <div class="example-contents screen">
   <div class="cdata"><pre>
   &quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
   </pre></div>
        </div>
        or, if your <code class="literal">&quot;C:\PHP Scripts&quot;</code> path is in the
        <var class="envar">PATH</var> environment variable:
        <div class="example-contents screen">
   <div class="cdata"><pre>
   script -arg1 -arg2 -arg3
   </pre></div>
        </div>
       </p>
   
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         There is a small problem if you intend to use this technique and use your
         PHP scripts as a command line filter, like the example below:
         <div class="example-contents screen">
   <div class="cdata"><pre>
   dir | &quot;C:\PHP Scripts\script&quot; -arg1 -arg2 -arg3
   </pre></div>
         </div>
         or
         <div class="example-contents screen">
   <div class="cdata"><pre>
   dir | script -arg1 -arg2 -arg3
   </pre></div>
         </div>
         You may find that the script simply hangs and nothing is output.
         To get this operational, you need to make another registry change.
         <div class="example-contents screen">
   <div class="cdata"><pre>
   Windows Registry Editor Version 5.00
   
   [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\policies\Explorer]
   &quot;InheritConsoleHandles&quot;=dword:00000001
   </pre></div>
         </div>
         Further information regarding this issue can be found in this <a href="http://support.microsoft.com/default.aspx?scid=kb;en-us;321788" class="link external">&raquo;&nbsp;Microsoft
         Knowledgebase Article : 321788</a>.
         As of Windows 10, this setting seems to be reversed, making the default install of
         Windows 10 support inherited console handles automatically. This <a href="https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console?forum=windowssdk" class="link external">&raquo;&nbsp;
         Microsoft forum post</a> provides the explanation.
        </p>
       </p></blockquote>
      </div>
   
   
   
     </div>
   <hr />
   
   
   
   
   </div>
   
   <hr />
   