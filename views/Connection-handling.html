<div id="features.connection-handling" class="chapter"><hr />
    <h1>Connection handling</h1>
  
  
    <p class="para">
     Internally in PHP a connection status is maintained.  There are 4
     possible states:
     <ul class="itemizedlist">
      <li class="listitem"><span class="simpara">0 - NORMAL</span></li>
      <li class="listitem"><span class="simpara">1 - ABORTED</span></li>
      <li class="listitem"><span class="simpara">2 - TIMEOUT</span></li>
      <li class="listitem"><span class="simpara">3 - ABORTED and TIMEOUT</span></li>
     </ul>
    </p>
  
    <p class="simpara">
     When a PHP script is running normally, the NORMAL state is active.
     If the remote client disconnects, the ABORTED state flag is
     turned on.  A remote client disconnect is usually caused by
     users hitting their STOP button.  If the PHP-imposed time limit (see
     <span class="function"><a href="#function.set-time-limit" class="function">set_time_limit()</a></span>) is hit, the TIMEOUT state flag
     is turned on.</p>
  
    <p class="simpara">
     You can decide whether or not you want a client disconnect to cause
     your script to be aborted.  Sometimes it is handy to always have your
     scripts run to completion even if there is no remote browser receiving
     the output.  The default behaviour is however for your script to be
     aborted when the remote client disconnects.  This behaviour can be
     set via the ignore_user_abort <var class="filename">php.ini</var> directive as well as through
     the corresponding <code class="literal">php_value ignore_user_abort</code> Apache 
     <var class="filename">httpd.conf</var> directive or
     with the <span class="function"><a href="#function.ignore-user-abort" class="function">ignore_user_abort()</a></span> function.  If you do
     not tell PHP to ignore a user abort and the user aborts, your script
     will terminate.  The one exception is if you have registered a shutdown
     function using <span class="function"><a href="#function.register-shutdown-function" class="function">register_shutdown_function()</a></span>.  With a
     shutdown function, when the remote user hits his STOP button, the
     next time your script tries to output something PHP will detect that
     the connection has been aborted and the shutdown function is called.
     This shutdown function will also get called at the end of your script
     terminating normally, so to do something different in case of a client
     disconnect you can use the <span class="function"><a href="#function.connection-aborted" class="function">connection_aborted()</a></span>
     function.  This function will return <strong><code>TRUE</code></strong> if the connection was
     aborted.</p>
  
    <p class="simpara">
     Your script can also be terminated by the built-in script timer.
     The default timeout is 30 seconds.  It can be changed using
     the <strong class="option unknown">max_execution_time</strong> <var class="filename">php.ini</var> directive or the corresponding
     <code class="literal">php_value max_execution_time</code> Apache <var class="filename">httpd.conf</var>
     directive as well as with
     the <span class="function"><a href="#function.set-time-limit" class="function">set_time_limit()</a></span> function.  When the timer
     expires the script will be aborted and as with the above client
     disconnect case, if a shutdown function has been registered it will
     be called.  Within this shutdown function you can check to see if
     a timeout caused the shutdown function to be called by calling the
     <span class="function"><a href="#function.connection-status" class="function">connection_status()</a></span> function.  This function will
     return 2 if a timeout caused the shutdown function to be called.
    </p>
  
    <p class="simpara">
     One thing to note is that both the ABORTED and the TIMEOUT states
     can be active at the same time.  This is possible if you tell
     PHP to ignore user aborts.  PHP will still note the fact that
     a user may have broken the connection, but the script will keep
     running.  If it then hits the time limit it will be aborted and
     your shutdown function, if any, will be called.  At this point
     you will find that <span class="function"><a href="#function.connection-status" class="function">connection_status()</a></span>
     returns 3.
    </p>
   </div>
  
  <hr />
  
  
  
  
    
  
   <div id="features.persistent-connections" class="chapter"><hr />
    <h1>Persistent Database Connections</h1>
  
  
    <p class="simpara">
     Persistent connections are links that do not close when the
     execution of your script ends. When a persistent connection is
     requested, PHP checks if there&#039;s already an identical persistent
     connection (that remained open from earlier) - and if it exists, it
     uses it. If it does not exist, it creates the link. An &#039;identical&#039;
     connection is a connection that was opened to the same host, with
     the same username and the same password (where applicable).
    </p>
    <p class="simpara">
     People who aren&#039;t thoroughly familiar with the way web servers work
     and distribute the load may mistake persistent connects for what
     they&#039;re not. In particular, they do <em class="emphasis">not</em> give
     you an ability to open &#039;user sessions&#039; on the same link, they
     do <em class="emphasis">not</em> give you an ability to build up a
     transaction efficiently, and they don&#039;t do a whole lot of other
     things. In fact, to be extremely clear about the subject,
     persistent connections don&#039;t give you <em class="emphasis">any</em>
     functionality that wasn&#039;t possible with their non-persistent
     brothers.
    </p>
    <p class="simpara">
     Why?
    </p> 
    <p class="simpara">
     This has to do with the way web servers work. There are three ways
     in which your web server can utilize PHP to generate web pages.
    </p>
    <p class="simpara">
     The first method is to use PHP as a CGI &quot;wrapper&quot;. When run this
     way, an instance of the PHP interpreter is created and destroyed
     for every page request (for a PHP page) to your web server.
     Because it is destroyed after every request, any resources that it
     acquires (such as a link to an SQL database server) are closed when
     it is destroyed. In this case, you do not gain anything from trying
     to use persistent connections -- they simply don&#039;t persist.
    </p>
    <p class="simpara">
     The second, and most popular, method is to run PHP as a module in a
     multiprocess web server, which currently only includes Apache. A
     multiprocess server typically has one process (the parent) which
     coordinates a set of processes (its children) who actually do the
     work of serving up web pages. When a request comes in from a
     client, it is handed off to one of the children that is not already
     serving another client. This means that when the same client makes
     a second request to the server, it may be served by a different
     child process than the first time. When opening a persistent connection, 
     every following page requesting SQL services can reuse the same 
     established connection to the SQL server.
    </p>
    <p class="simpara">
     The last method is to use PHP as a plug-in for a multithreaded web
     server. Currently PHP 4 has support for ISAPI, WSAPI, and NSAPI (on
     Windows), which all allow PHP to be used as a plug-in on multithreaded
     servers like Netscape FastTrack (iPlanet), Microsoft&#039;s Internet Information
     Server (IIS), and O&#039;Reilly&#039;s WebSite Pro. The behavior is essentially
     the same as for the multiprocess model described before.
    </p>
    <p class="simpara">
     If persistent connections don&#039;t have any added functionality, what
     are they good for?
    </p>
    <p class="simpara">
     The answer here is extremely simple -- efficiency. Persistent
     connections are good if the overhead to create a link to your SQL
     server is high. Whether or not this overhead is really high depends
     on many factors. Like, what kind of database it is, whether or not
     it sits on the same computer on which your web server sits, how
     loaded the machine the SQL server sits on is and so forth. The
     bottom line is that if that connection overhead is high, persistent
     connections help you considerably. They cause the child process to
     simply connect only once for its entire lifespan, instead of every
     time it processes a page that requires connecting to the SQL
     server. This means that for every child that opened a persistent
     connection will have its own open persistent connection to the
     server. For example, if you had 20 different child processes that
     ran a script that made a persistent connection to your SQL server,
     you&#039;d have 20 different connections to the SQL server, one from
     each child.
    </p>
    <p class="simpara">
     Note, however, that this can have some drawbacks if you are using a
     database with connection limits that are exceeded by persistent
     child connections. If your database has a limit of 16 simultaneous
     connections, and in the course of a busy server session, 17 child
     threads attempt to connect, one will not be able to. If there are
     bugs in your scripts which do not allow the connections to shut
     down (such as infinite loops), the database with only 16 connections
     may be rapidly swamped. Check your database documentation for
     information on handling abandoned or idle connections.
    </p>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="simpara">
      There are a couple of additional caveats to keep in mind when
      using persistent connections. One is that when using table
      locking on a persistent connection, if the script for whatever
      reason cannot release the lock, then subsequent scripts using the
      same connection will block indefinitely and may require that you
      either restart the httpd server or the database server. Another is
      that when using transactions, a transaction block will also carry
      over to the next script which uses that connection if script execution
      ends before the transaction block does. In either case, you can
      use <span class="function"><a href="#function.register-shutdown-function" class="function">register_shutdown_function()</a></span> to register a
      simple cleanup function to unlock your tables or roll back your
      transactions. Better yet, avoid the problem entirely by not using
      persistent connections in scripts which use table locks or
      transactions (you can still use them elsewhere).
     </p>
    </div>
    <p class="simpara">
     An important summary. Persistent connections were designed to have
     one-to-one mapping to regular connections. That means that you
     should <em class="emphasis">always</em> be able to replace persistent
     connections with non-persistent connections, and it won&#039;t change
     the way your script behaves. It <em class="emphasis">may</em> (and
     probably will) change the efficiency of the script, but not its
     behavior!
    </p>
    <p class="para">
     See also <span class="function"><a href="#function.fbsql-pconnect" class="function">fbsql_pconnect()</a></span>,
     <span class="function"><a href="#function.ibase-pconnect" class="function">ibase_pconnect()</a></span>, <span class="function"><a href="#function.ifx-pconnect" class="function">ifx_pconnect()</a></span>,
     <span class="function"><a href="#function.ingres-pconnect" class="function">ingres_pconnect()</a></span>,
     <span class="function"><a href="#function.msql-pconnect" class="function">msql_pconnect()</a></span>, <span class="function"><a href="#function.mssql-pconnect" class="function">mssql_pconnect()</a></span>,
     <span class="function"><a href="#function.mysql-pconnect" class="function">mysql_pconnect()</a></span>, <span class="function"><a href="#function.ociplogon" class="function">ociplogon()</a></span>,
     <span class="function"><a href="#function.odbc-pconnect" class="function">odbc_pconnect()</a></span>, <span class="function"><a href="#function.oci-pconnect" class="function">oci_pconnect()</a></span>,
     <span class="function"><a href="#function.pfsockopen" class="function">pfsockopen()</a></span>, <span class="function"><a href="#function.pg-pconnect" class="function">pg_pconnect()</a></span>, and
     <span class="function"><a href="#function.sybase-pconnect" class="function">sybase_pconnect()</a></span>.
    </p>
   </div>
  
  <hr />
  
  
  
  
    
  
   <div id="features.safe-mode" class="chapter"><hr />
    <h1>Safe Mode</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#ini.sect.safe-mode">Security and Safe Mode</a></li><li><a href="#features.safe-mode.functions">Functions restricted/disabled by safe mode</a></li></ul>
  
  
    <p class="para">
     The PHP safe mode is an attempt to solve the shared-server security
     problem. It is architecturally incorrect to try to solve this
     problem at the PHP level, but since the alternatives at the web
     server and OS levels aren&#039;t very realistic, many people,
     especially ISP&#039;s, use safe mode for now. 
    </p>
    
    <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This feature has been
  <em class="emphasis">DEPRECATED</em> as of PHP 5.3.0 and <em class="emphasis">REMOVED</em>
  as of PHP 5.4.0.</p></div>
  
    <p class="para">
     <table class="doctable table">
      <caption><strong>Changelog for <code class="literal">safe mode</code></strong></caption>
      
       <thead>
        <tr>
         <th>Version</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td>5.4.0</td>
         <td>
          Removed from PHP, and generates a fatal <strong><code>E_CORE_ERROR</code></strong>
          level error when enabled.
         </td>
        </tr>
  
        <tr>
         <td>5.3.0</td>
         <td>
          Deprecated, and <strong><code>E_DEPRECATED</code></strong> errors were added.
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
  
    <div id="ini.sect.safe-mode" class="sect1"><hr />
     <h2 class="title">Security and Safe Mode</h2>
     <p class="para">
      <table class="doctable table">
       <caption><strong>Security and Safe Mode Configuration Directives</strong></caption>
       
        <thead>
         <tr>
          <th>Name</th>
          <th>Default</th>
          <th>Changeable</th>
          <th>Changelog</th>
         </tr>
  
        </thead>
  
        <tbody class="tbody">
         <tr>
          <td><a href="#ini.safe-mode" class="link">safe_mode</a></td>
          <td>&quot;0&quot;</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
         <tr>
          <td><a href="#ini.safe-mode-gid" class="link">safe_mode_gid</a></td>
          <td>&quot;0&quot;</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
         <tr>
          <td><a href="#ini.safe-mode-include-dir" class="link">safe_mode_include_dir</a></td>
          <td>NULL</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
         <tr>
          <td><a href="#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a></td>
          <td>&quot;&quot;</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
         <tr>
          <td><a href="#ini.safe-mode-allowed-env-vars" class="link">safe_mode_allowed_env_vars</a></td>
          <td>&quot;PHP_&quot;</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
         <tr>
          <td><a href="#ini.safe-mode-protected-env-vars" class="link">safe_mode_protected_env_vars</a></td>
          <td>&quot;LD_LIBRARY_PATH&quot;</td>
          <td>PHP_INI_SYSTEM</td>
          <td>Removed in PHP 5.4.0.</td>
         </tr>
  
        </tbody>
       
      </table>
  
      For further details and definitions of the
  PHP_INI_* modes, see the <a href="#configuration.changes.modes" class="xref">Where a configuration setting may be set</a>.
     </p>
     
     <p class="para">Here&#039;s a short explanation of
  the configuration directives.</p>
     
     <p class="para">
      <dl>
  
       
        <dt id="ini.safe-mode">
         <code class="parameter">safe_mode</code>
         <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          Whether to enable PHP&#039;s safe mode.
          If PHP is compiled with <code class="literal">--enable-safe-mode</code> then
          defaults to On, otherwise Off.
         </p>
         <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This feature has been
  <em class="emphasis">DEPRECATED</em> as of PHP 5.3.0 and <em class="emphasis">REMOVED</em>
  as of PHP 5.4.0.</p></div>
        </dd>
  
       
       
        <dt id="ini.safe-mode-gid">
         <code class="parameter">safe_mode_gid</code>
         <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          By default, Safe Mode does a UID compare check when
          opening files. If you want to relax this to a GID compare,
          then turn on safe_mode_gid.
          Whether to use <code class="literal">UID</code> (<strong><code>FALSE</code></strong>) or
          <code class="literal">GID</code> (<strong><code>TRUE</code></strong>) checking upon file
          access.
         </p>
        </dd>
  
       
       
        <dt id="ini.safe-mode-include-dir">
         <code class="parameter">safe_mode_include_dir</code>
         <span class="type"><a href="#language.types.string" class="type string">string</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          <code class="literal">UID</code>/<code class="literal">GID</code> checks are bypassed when
          including files from this directory and its subdirectories (directory
          must also be in <a href="#ini.include-path" class="link">include_path</a>
          or full path must including).
         </p>
         <span class="simpara">
          This directive can take a colon (semi-colon on
          Windows) separated path in a fashion similar to the
          <a href="#ini.include-path" class="link">include_path</a> directive,
          rather than just a single directory.
         </span>
         <span class="simpara">
          The restriction specified is actually a prefix, not a directory name. 
          This means that &quot;<code class="literal">safe_mode_include_dir = /dir/incl</code>&quot; also allows
          access to &quot;<code class="literal">/dir/include</code>&quot; and
          &quot;<code class="literal">/dir/incls</code>&quot; if they exist.  When you 
          want to restrict access to only the specified directory, end with a 
          slash. For example: &quot;<code class="literal">safe_mode_include_dir = /dir/incl/</code>&quot;
         </span>
         <span class="simpara">
          If the value of this directive is empty, no files with different
          <code class="literal">UID</code>/<code class="literal">GID</code> can be included.
         </span>
        </dd>
  
       
       
        <dt id="ini.safe-mode-exec-dir">
         <code class="parameter">safe_mode_exec_dir</code>
         <span class="type"><a href="#language.types.string" class="type string">string</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          If PHP is used in safe mode, <span class="function"><a href="#function.system" class="function">system()</a></span> and the other
          <a href="#ref.exec" class="link">functions executing system programs</a>
          refuse to start programs that are not in this directory.
          You have to use <code class="literal">/</code> as directory separator on all
          environments including Windows.
         </p>
        </dd>
  
       
       
        <dt id="ini.safe-mode-allowed-env-vars">
         <code class="parameter">safe_mode_allowed_env_vars</code>
         <span class="type"><a href="#language.types.string" class="type string">string</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          Setting certain environment variables may be a potential security breach.
          This directive contains a comma-delimited list of prefixes. In Safe Mode,
          the user may only alter environment variables whose names begin with the
          prefixes supplied here. By default, users will only be able to set
          environment variables that begin with <code class="literal">PHP_</code>
          (e.g. <code class="literal">PHP_FOO=BAR</code>).
         </p>
         <blockquote class="note"><p><strong class="note">Note</strong>: 
          <p class="para">
           If this directive is empty, PHP will let the user modify ANY
           environment variable!
          </p>
         </p></blockquote>
        </dd>
  
       
       
        <dt id="ini.safe-mode-protected-env-vars">
         <code class="parameter">safe_mode_protected_env_vars</code>
         <span class="type"><a href="#language.types.string" class="type string">string</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          This directive contains a comma-delimited list of environment
          variables that the end user won&#039;t be able to change using
          <span class="function"><a href="#function.putenv" class="function">putenv()</a></span>. These variables will be protected
          even if safe_mode_allowed_env_vars is set to allow to change them.
         </p>
        </dd>
  
       
      </dl>
  
     </p>
     <p class="para">
      See also: <a href="#ini.open-basedir" class="link">open_basedir</a>,
      <a href="#ini.disable-functions" class="link">disable_functions</a>,
      <a href="#ini.disable-classes" class="link">disable_classes</a>,
      <a href="#ini.register-globals" class="link">register_globals</a>,
      <a href="#ini.display-errors" class="link">display_errors</a>, and
      <a href="#ini.log-errors" class="link">log_errors</a>.
     </p>
  
    <p class="para">
     When <a href="#ini.safe-mode" class="link">safe_mode</a> is on, PHP checks to see 
     if the owner of the current script matches the owner of the file to be 
     operated on by a file function or its directory. For example: 
     <div class="example-contents">
  <div class="lscode"><pre class="lscode">-rw-rw-r--    1 rasmus   rasmus       33 Jul  1 19:20 script.php 
  -rw-r--r--    1 root     root       1116 May 26 18:01 /etc/passwd</pre>
  </div>
     </div>
  
     Running <var class="filename">script.php</var>:
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />&nbsp;readfile</span><span style="color: #007700">(</span><span style="color: #DD0000">'/etc/passwd'</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     results in this error when safe mode is enabled: 
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Warning: SAFE MODE Restriction in effect. The script whose uid is 500 is not 
  allowed to access /etc/passwd owned by uid 0 in /docroot/script.php on line 2
  </pre></div>
     </div>
    </p>
    <p class="para">
     However, there may be environments where a strict <code class="literal">UID</code>
     check is not appropriate and a relaxed <code class="literal">GID</code> check is
     sufficient.  This is supported by means of the <a href="#ini.safe-mode-gid" class="link">safe_mode_gid</a> switch. Setting it to
     <code class="literal">On</code> performs the relaxed <code class="literal">GID</code> checking,
     setting it to <code class="literal">Off</code> (the default) performs
     <code class="literal">UID</code> checking.
    </p>
    <p class="para">
     If instead of <a href="#ini.safe-mode" class="link">safe_mode</a>, you set an 
     <a href="#ini.open-basedir" class="link">open_basedir</a> directory then all
     file operations will be limited to files under the specified directory.
     For example (Apache <var class="filename">httpd.conf</var> example): 
     <div class="example-contents">
  <div class="inicode"><pre class="inicode">&lt;Directory /docroot&gt;
    php_admin_value open_basedir /docroot 
  &lt;/Directory&gt;</pre>
  </div>
     </div>
  
     If you run the same <var class="filename">script.php</var> with this
     <a href="#ini.open-basedir" class="link">open_basedir</a> setting
     then this is the result: 
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Warning: open_basedir restriction in effect. File is in wrong directory in 
  /docroot/script.php on line 2 
  </pre></div>
     </div>
    </p>
    <p class="para">
     You can also disable individual functions. Note that the
     <a href="#ini.disable-functions" class="link">disable_functions</a>
     directive can not be used outside of the <var class="filename">php.ini</var> file which means that
     you cannot disable functions on a per-virtualhost or per-directory basis
     in your <var class="filename">httpd.conf</var> file.
     If we add this to our <var class="filename">php.ini</var> file: 
     <div class="example-contents">
  <div class="inicode"><pre class="inicode">disable_functions = readfile,system</pre>
  </div>
     </div>
  
     Then we get this output: 
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Warning: readfile() has been disabled for security reasons in 
  /docroot/script.php on line 2 
  </pre></div>
     </div>
    </p>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="para">
      These PHP restrictions are not valid in executed binaries, of course.
     </p>
    </div>
   </div>
  <hr />
  
  
    <div id="features.safe-mode.functions" class="sect1"><hr />
     <h2 class="title">Functions restricted/disabled by safe mode</h2>
     <p class="para">
      This is a still probably incomplete and possibly incorrect listing
      of the functions limited by 
      <a href="#features.safe-mode" class="link">safe mode</a>.
      
      <table class="doctable table">
       <caption><strong>Safe mode limited functions</strong></caption>
       
        <thead>
         <tr>
          <th>Function</th>
          <th>Limitations</th>
         </tr>
  
        </thead>
  
        <tbody class="tbody">
         <tr>
          <td><span class="function"><strong>dbmopen()</strong></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.dbase-open" class="function">dbase_open()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.filepro" class="function">filepro()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.filepro-rowcount" class="function">filepro_rowcount()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.filepro-retrieve" class="function">filepro_retrieve()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td>ifx_*</td>
          <td>sql_safe_mode restrictions, (!= safe mode)</td>
          
         </tr>
  
         <tr>
          <td>ingres_*</td>
          <td>sql_safe_mode restrictions, (!= safe mode)</td>
          
         </tr>
  
         <tr>
          <td>mysql_*</td>
          <td>sql_safe_mode restrictions, (!= safe mode)</td>
          
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.pg-lo-import" class="function">pg_lo_import()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
          
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.posix-mkfifo" class="function">posix_mkfifo()</a></span></td>
          <td>Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.putenv" class="function">putenv()</a></span></td>
          <td>Obeys the safe_mode_protected_env_vars and 
          safe_mode_allowed_env_vars ini-directives. See also the documentation
          on <span class="function"><a href="#function.putenv" class="function">putenv()</a></span></td>
          
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.move-uploaded-file" class="function">move_uploaded_file()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. </td>
         </tr>
  
  
         
  
         <tr>
          <td><span class="function"><a href="#function.chdir" class="function">chdir()</a></span></td>
          <td>Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.dl" class="function">dl()</a></span></td>
          <td>This function is disabled when PHP is running in <a href="#features.safe-mode" class="link">safe mode</a>.</td>
         </tr>
  
         <tr>
          <td><a href="#language.operators.execution" class="link">backtick operator</a></td>
          <td>This function is disabled when PHP is running in <a href="#features.safe-mode" class="link">safe mode</a>.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.shell-exec" class="function">shell_exec()</a></span> (functional equivalent 
          of backticks)</td>
          <td>This function is disabled when PHP is running in <a href="#features.safe-mode" class="link">safe mode</a>.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.exec" class="function">exec()</a></span></td>
          <td>You can only execute executables within the <a href="#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>.
          For practical reasons it&#039;s currently not allowed to have
          <code class="literal">..</code> components in the path to the executable.
          <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> is executed on the argument of this
          function.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.system" class="function">system()</a></span></td>
          <td>You can only execute executables within the <a href="#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>.
          For practical reasons it&#039;s currently not allowed to have
          <code class="literal">..</code> components in the path to the executable.
          <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> is executed on the argument of this
          function.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.passthru" class="function">passthru()</a></span></td>
          <td>You can only execute executables within the <a href="#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>.
          For practical reasons it&#039;s currently not allowed to have
          <code class="literal">..</code> components in the path to the executable.
          <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> is executed on the argument of this
          function.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.popen" class="function">popen()</a></span></td>
          <td>You can only execute executables within the <a href="#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>.
          For practical reasons it&#039;s currently not allowed to have
          <code class="literal">..</code> components in the path to the executable.
          <span class="function"><a href="#function.escapeshellcmd" class="function">escapeshellcmd()</a></span> is executed on the argument of this
          function.</td>
          
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.fopen" class="function">fopen()</a></span></td>
          <td>Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.mkdir" class="function">mkdir()</a></span></td>
          <td>Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.rmdir" class="function">rmdir()</a></span></td>
          <td>Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.rename" class="function">rename()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.unlink" class="function">unlink()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.copy" class="function">copy()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed. (on 
          <code class="parameter">source</code> and 
          <code class="parameter">target</code>)</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.chgrp" class="function">chgrp()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.chown" class="function">chown()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.chmod" class="function">chmod()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. In addition, you cannot  
          set the SUID, SGID and sticky bits</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.touch" class="function">touch()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.symlink" class="function">symlink()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed. (note: only the target is 
          checked)</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.link" class="function">link()</a></span></td>
          <td>Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed. (note: only the target is 
          checked)</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.apache-request-headers" class="function">apache_request_headers()</a></span></td>
          <td>In safe mode, headers beginning with <code class="literal">authorization</code> 
          (case-insensitive) will not be returned.</td>
         </tr>
  
         <tr>
          <td><span class="function"><a href="#function.header" class="function">header()</a></span></td>
          <td>In safe mode, the uid of the script is added to the
          <code class="literal">realm</code> part of the
          <code class="literal">WWW-Authenticate</code> header if you set this
          header (used for HTTP Authentication).</td>
         </tr>
  
         <tr>
          <td><a href="#features.http-auth" class="link">PHP_AUTH variables</a></td>
          <td>
           In safe mode, the variables <var class="varname">PHP_AUTH_USER</var>,
           <var class="varname">PHP_AUTH_PW</var>, and <var class="varname">AUTH_TYPE</var>
           are not available in <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var>. Regardless, you
           can still use <var class="varname">REMOTE_USER</var> for the USER.
           (note: only affected since PHP 4.3.0)
          </td>
         </tr>
  
         <tr>
          <td>
           <span class="function"><a href="#function.highlight-file" class="function">highlight_file()</a></span>,
           <span class="function"><a href="#function.show-source" class="function">show_source()</a></span>
          </td>
          <td>
           Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.
          </td>
         </tr>
  
         <tr>
          <td>
           <span class="function"><a href="#function.parse-ini-file" class="function">parse_ini_file()</a></span>
          </td>
          <td>
           Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed.
          </td>
         </tr>
  
         <tr>
          <td>
           <span class="function"><a href="#function.set-time-limit" class="function">set_time_limit()</a></span>
          </td>
          <td>
           Has no effect when PHP is running in <a href="#ini.safe-mode" class="link">safe mode</a>.
          </td>
         </tr>
  
         <tr>
          <td>
           <a href="#ini.max-execution-time" class="link">max_execution_time</a>
          </td>
          <td>
           Has no effect when PHP is running in <a href="#ini.safe-mode" class="link">safe mode</a>.
          </td>
         </tr>
  
         <tr>
          <td>
           <span class="function"><a href="#function.mail" class="function">mail()</a></span>
          </td>
          <td>
           In safe mode, the fifth parameter is disabled.
          </td>
         </tr>
  
         <tr>
          <td>
           <span class="function"><a href="#function.session-start" class="function">session_start()</a></span>
          </td>
          <td>
           The owner of a script must be the same as owner of a <a href="#ini.session.save-path" class="link">session.save_path</a> directory if
           the default <code class="literal">files</code> <a href="#ini.session.save-handler" class="link">session.save_handler</a> is
           used.
          </td>
         </tr>
  
         <tr>
          <td>
           All filesystem and stream functions.
          </td>
          <td>
           Checks whether the files or directories being operated
  upon have the same UID (owner) as the script that is being executed. Checks whether the directory in which
  the script is operating has the same UID (owner) as the script that is being
  executed. (see the <a href="#ini.safe-mode-include-dir" class="link">safe_mode_include_dir</a>
           <var class="filename">php.ini</var> option.
          </td>
         </tr>
  
        </tbody>
       
      </table>
  
     </p>
    </div>
  <hr />
  
  
   </div>
  
  <hr />
  
  
  
  
    
  
  <div id="features.commandline" class="chapter"><hr />
   <h1>Using PHP from the command line</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#features.commandline.introduction">Introduction</a></li><li><a href="#features.commandline.differences">Differences to other SAPIs</a></li><li><a href="#features.commandline.options">Options</a></li><li><a href="#features.commandline.usage">Usage</a></li><li><a href="#features.commandline.io-streams">I/O streams</a></li><li><a href="#features.commandline.interactive">Interactive shell</a></li><li><a href="#features.commandline.webserver">Built-in web server</a></li><li><a href="#features.commandline.ini">INI settings</a></li></ul>
  
   
   
   
   <div id="features.commandline.introduction" class="section"><hr />
    <h2 class="title">Introduction</h2>
    
    <p class="para">
     The main focus of <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym>
     is for developing shell applications with PHP. There
     are quite a few differences between the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> and other
     <acronym title="Server Application Programming Interface">SAPI</acronym>s which are explained in this chapter. It is worth
     mentioning that <acronym title="Command Line Interpreter/Interface">CLI</acronym> and <acronym title="Common Gateway Interface">CGI</acronym> are different
     <acronym title="Server Application Programming Interface">SAPI</acronym>s although they do share many of the same behaviors.
    </p>
  
    <p class="para">
     The <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> is enabled by default using
     <strong class="option configure">--enable-cli</strong>, but may be disabled using
     the <strong class="option configure">--disable-cli</strong> option when running
     <strong class="command">./configure</strong>.
    </p>
    
    <p class="para">
     The name, location and existence of the <acronym title="Command Line Interpreter/Interface">CLI</acronym>/<acronym title="Common Gateway Interface">CGI</acronym>
     binaries will differ depending on how PHP is installed on your system. By
     default when executing <strong class="command">make</strong>, both the <acronym title="Common Gateway Interface">CGI</acronym>
     and <acronym title="Command Line Interpreter/Interface">CLI</acronym> are built and placed as <var class="filename">sapi/cgi/php-cgi</var> and
     <var class="filename">sapi/cli/php</var> respectively, in your PHP source directory.
     You will note that both are named <var class="filename">php</var>. What happens during
     <strong class="command">make install</strong> depends on your configure line. If a module
     <acronym title="Server Application Programming Interface">SAPI</acronym> is chosen during configure, such as apxs, or the
     <strong class="option configure">--disable-cgi</strong> option is used, the <acronym title="Command Line Interpreter/Interface">CLI</acronym> is
     copied to <var class="filename">{PREFIX}/bin/php</var> during
     <strong class="command">make install</strong> otherwise the <acronym title="Common Gateway Interface">CGI</acronym> is placed
     there. So, for example, if <strong class="option configure">--with-apxs </strong> is
     in your configure line then the <acronym title="Command Line Interpreter/Interface">CLI</acronym> is copied to <var class="filename">{PREFIX}/bin/php
     </var> during <strong class="command">make install</strong>. If you want to override
     the installation of the <acronym title="Common Gateway Interface">CGI</acronym> binary, use <strong class="command">make
     install-cli</strong> after <strong class="command">make install</strong>. Alternatively you
     can specify <strong class="option configure">--disable-cgi</strong> in your configure
     line.
    </p>
    
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Because both <strong class="option configure">--enable-cli</strong> and
      <strong class="option configure">--enable-cgi</strong> are enabled by default,
      simply having <strong class="option configure">--enable-cli</strong> in your
      configure line does not necessarily mean the <acronym title="Command Line Interpreter/Interface">CLI</acronym> will be copied as
      <var class="filename">{PREFIX}/bin/php</var> during <strong class="command">make install</strong>.
     </p>
    </p></blockquote>
    
    <p class="para">
     As of PHP 5, the <acronym title="Command Line Interpreter/Interface">CLI</acronym> binary is distributed in the main folder as <var class="filename">
     php.exe</var> on Windows. The <acronym title="Common Gateway Interface">CGI</acronym> version is
     distributed as <var class="filename">php-cgi.exe</var>. Additionally, a <var class="filename">
     php-win.exe</var> is distributed if PHP is configured using
     <strong class="option configure">--enable-cli-win32</strong>. This does the same as
     the <acronym title="Command Line Interpreter/Interface">CLI</acronym> version, except that it doesn&#039;t output anything and thus provides
     no console.
    </p>
    
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <strong>What SAPI do I have?</strong><br />
     <p class="para">
      From a shell, typing <strong class="command">php -v</strong> will tell you
      whether <var class="filename">php</var> is <acronym title="Common Gateway Interface">CGI</acronym> or <acronym title="Command Line Interpreter/Interface">CLI</acronym>. See
      also the function <span class="function"><a href="#function.php-sapi-name" class="function">php_sapi_name()</a></span> and the constant
      <strong><code>PHP_SAPI</code></strong>.
     </p>
    </p></blockquote>
    
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      A Unix <code class="literal">man</code>ual page is available by typing <strong class="command">man
      php</strong> in the shell environment.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
   
   
   
   <div id="features.commandline.differences" class="section"><hr />
    <h2 class="title">Differences to other <acronym title="Server Application Programming Interface">SAPI</acronym>s</h2>
    
    <p class="para">
     Remarkable differences of the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> compared to other
     <acronym title="Server Application Programming Interface">SAPI</acronym>s:
     <ul class="itemizedlist">
      <li class="listitem">
       <p class="para">
        Unlike the <acronym title="Common Gateway Interface">CGI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym>, no headers are
        written to the output.
       </p>
       <p class="para">
        Though the <acronym title="Common Gateway Interface">CGI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> provides a way
        to suppress HTTP headers, there&#039;s no equivalent switch to enable them in
        the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym>.
       </p>
       <p class="para">
        <acronym title="Command Line Interpreter/Interface">CLI</acronym> is started up in quiet mode by default, though the <strong class="option unknown">-q</strong>
        and <strong class="option unknown">--no-header</strong> switches are kept for compatibility so
        that it is possible to use older <acronym title="Common Gateway Interface">CGI</acronym> scripts.
       </p>
       <p class="para">
        It does not change the working directory to that of the script.
        (<strong class="option unknown">-C</strong> and <strong class="option unknown">--no-chdir</strong> switches kept for
        compatibility)
       </p>
       <p class="para">
        Plain text error messages (no <acronym title="Hyper Text Markup Language">HTML</acronym> formatting).
       </p>
      </li>
      
      <li class="listitem">
       <p class="para">
        There are certain <var class="filename">php.ini</var> directives which are overridden by the
        <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> because they do not make sense in shell environments:
       </p>
       <p class="para">
        <table class="doctable table">
         <caption><strong>Overridden <var class="filename">php.ini</var> directives</strong></caption>
         
          <thead>
           <tr>
            <th>Directive</th>
            <th><acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> default value</th>
            <th>Comment</th>
           </tr>
  
          </thead>
  
          <tbody class="tbody">
           <tr>
            <td><a href="#ini.html-errors" class="link">html_errors</a></td>
            <td><strong><code>FALSE</code></strong></td>
            <td>
             Defaults to <strong><code>FALSE</code></strong>, as it can be quite hard to read error messages
             in the shell environment when they are cluttered up with uninterpreted
             <acronym title="Hyper Text Markup Language">HTML</acronym> tags.
            </td>
           </tr>
  
           <tr>
            <td><a href="#ini.implicit-flush" class="link">implicit_flush</a></td>
            <td><strong><code>TRUE</code></strong></td>
            <td>
             In a shell environment, it is usually desirable for output, such as
             from <span class="function"><a href="#function.print" class="function">print</a></span>, <span class="function"><a href="#function.echo" class="function">echo</a></span> and
             friends, to be displayed immediately, and not held in a buffer.
             Nonetheless, it is still possible to use
             <a href="#ref.outcontrol" class="link">output buffering</a> to
             defer or manipulate standard output.
            </td>
           </tr>
  
           <tr>
            <td><a href="#ini.max-execution-time" class="link">max_execution_time</a></td>
            <td>0 (unlimited)</td>
            <td>
             PHP in a shell environment tends to be used for a much more diverse
             range of purposes than typical Web-based scripts, and as these can
             be very long-running, the maximum execution time is set to unlimited.
            </td>
           </tr>
  
           <tr>
            <td><a href="#ini.register-argc-argv" class="link">register_argc_argv</a></td>
            <td><strong><code>TRUE</code></strong></td>
            <td>
            <p class="para">
             Setting this to <strong><code>TRUE</code></strong> means that scripts executed via the
             <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> always have access to
             <em class="emphasis">argc</em> (number of arguments passed to the
             application) and <em class="emphasis">argv</em> (array of the actual
             arguments).
            </p>
            <p class="para">
             The PHP variables <var class="varname"><a href="#reserved.variables.argc" class="classname">$argc</a></var>
             and <var class="varname"><a href="#reserved.variables.argv" class="classname">$argv</a></var> are automatically set to the appropriate
             values when using the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym>. These values can
             also be found in the <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER</a></var> array, for example:
             <var class="varname"><a href="#reserved.variables.server" class="classname">$_SERVER['argv']</a></var>.
            </p>
            </td>
           </tr>
  
           <tr>
            <td><a href="#ini.output-buffering" class="link">output_buffering</a></td>
            <td><strong><code>FALSE</code></strong></td>
            <td>
             <p class="para">
              Although the <var class="filename">php.ini</var> setting is hardcoded to <strong><code>FALSE</code></strong>, the
              <a href="#book.outcontrol" class="link">Output buffering</a> functions
              are available.
             </p>
            </td>
           </tr>
  
           <tr>
            <td><a href="#ini.max-input-time" class="link">max_input_time</a></td>
            <td><strong><code>FALSE</code></strong></td>
            <td>
             <p class="para">
              The PHP <acronym title="Command Line Interpreter/Interface">CLI</acronym> does not support GET, POST or file uploads.
             </p>
            </td>
           </tr>
  
          </tbody>
         
        </table>
  
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         These directives cannot be initialized with another value from the
         configuration file <var class="filename">php.ini</var> or a custom one (if specified). This
         limitation is because the values are applied after all configuration
         files have been parsed. However, their values can be changed
         during runtime (although this is not sensible for all of them,
         such as <a href="#ini.register-argc-argv" class="link">register_argc_argv</a>).
        </p>
       </p></blockquote>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         It is recommended to set
         <a href="#ini.ignore-user-abort" class="link">ignore_user_abort</a> for
         command line scripts. See <span class="function"><a href="#function.ignore-user-abort" class="function">ignore_user_abort()</a></span> for
         more information.
        </p>
       </p></blockquote>
      </li>
      
      <li class="listitem">
       <p class="para">
        To ease working in the shell environment, a number of constants are
        defined for <a href="#features.commandline.io-streams" class="link">I/O streams
        </a>.
       </p>
      </li>
      
      <li class="listitem">
       <p class="para">
        The <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> does <em class="emphasis">not</em> change the
        current directory to the directory of the executed script.
       </p>
       <div class="example" id="example-402">
        <p><strong>Example #1 
         Example showing the difference to the <acronym title="Common Gateway Interface">CGI</acronym>
         <acronym title="Server Application Programming Interface">SAPI</acronym>:
        </strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Our&nbsp;simple&nbsp;test&nbsp;application&nbsp;named&nbsp;test.php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">getcwd</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="example-contents"><p>
         When using the <acronym title="Common Gateway Interface">CGI</acronym> version, the output is:
        </p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  $ pwd
  /tmp
  
  $ php -q another_directory/test.php
  /tmp/another_directory
  </pre></div>
        </div>
        <div class="example-contents"><p>
         This clearly shows that PHP changes its current directory to the one of
         the executed script.
        </p></div>
        <div class="example-contents"><p>
         Using the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> yields:
        </p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  $ pwd
  /tmp
  
  $ php -f another_directory/test.php
  /tmp
  </pre></div>
        </div>
        <div class="example-contents"><p>
         This allows greater flexibility when writing shell tools in PHP.
        </p></div>
       </div>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         The <acronym title="Common Gateway Interface">CGI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> supports this
         <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> behaviour by means of the <strong class="option unknown">-C</strong> switch when run
         from the command line.
        </p>
       </p></blockquote>
      </li>
     </ul>
    </p>
   </div>
  <hr />
  
   
   
   
   <div id="features.commandline.options" class="section"><hr />
    <h2 class="title">Command line options</h2>
    
    
    <p class="para">
     The list of command line options provided by the PHP binary can be queried
     at any time by running PHP with the <strong class="option unknown">-h</strong> switch:
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Usage: php [options] [-f] &lt;file&gt; [--] [args...]
     php [options] -r &lt;code&gt; [--] [args...]
     php [options] [-B &lt;begin_code&gt;] -R &lt;code&gt; [-E &lt;end_code&gt;] [--] [args...]
     php [options] [-B &lt;begin_code&gt;] -F &lt;file&gt; [-E &lt;end_code&gt;] [--] [args...]
     php [options] -- [args...]
     php [options] -a
  
    -a               Run interactively
    -c &lt;path&gt;|&lt;file&gt; Look for php.ini file in this directory
    -n               No php.ini file will be used
    -d foo[=bar]     Define INI entry foo with value &#039;bar&#039;
    -e               Generate extended information for debugger/profiler
    -f &lt;file&gt;        Parse and execute &lt;file&gt;.
    -h               This help
    -i               PHP information
    -l               Syntax check only (lint)
    -m               Show compiled in modules
    -r &lt;code&gt;        Run PHP &lt;code&gt; without using script tags &lt;?..?&gt;
    -B &lt;begin_code&gt;  Run PHP &lt;begin_code&gt; before processing input lines
    -R &lt;code&gt;        Run PHP &lt;code&gt; for every input line
    -F &lt;file&gt;        Parse and execute &lt;file&gt; for every input line
    -E &lt;end_code&gt;    Run PHP &lt;end_code&gt; after processing all input lines
    -H               Hide any passed arguments from external tools.
    -S &lt;addr&gt;:&lt;port&gt; Run with built-in web server.
    -t &lt;docroot&gt;     Specify document root &lt;docroot&gt; for built-in web server.
    -s               Output HTML syntax highlighted source.
    -v               Version number
    -w               Output source with stripped comments and whitespace.
    -z &lt;file&gt;        Load Zend extension &lt;file&gt;.
  
    args...          Arguments passed to script. Use -- args when first argument
                     starts with - or script is read from stdin
  
    --ini            Show configuration file names
  
    --rf &lt;name&gt;      Show information about function &lt;name&gt;.
    --rc &lt;name&gt;      Show information about class &lt;name&gt;.
    --re &lt;name&gt;      Show information about extension &lt;name&gt;.
    --rz &lt;name&gt;      Show information about Zend extension &lt;name&gt;.
    --ri &lt;name&gt;      Show configuration for extension &lt;name&gt;.
  </pre></div>
     </div>
    </p>
    
    <p class="para">
     <table class="doctable table">
      <caption><strong>Command line options</strong></caption>
      
       <thead>
        <tr>
         <th>Option</th>
         <th>Long Option</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td>-a</td>
         <td>--interactive</td>
         <td>
          <p class="para">
           Run PHP interactively. For more information, see the <a href="#features.commandline.interactive" class="link">Interactive shell</a>
           section.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-b</td>
         <td>--bindpath</td>
         <td>
          <p class="para">
           Bind Path for external FASTCGI Server mode (<acronym title="Common Gateway Interface">CGI</acronym>
           only).
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-C</td>
         <td>--no-chdir</td>
         <td>
          <p class="para">
           Do not chdir to the script&#039;s directory (<acronym title="Common Gateway Interface">CGI</acronym> only).
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-q</td>
         <td>--no-header</td>
         <td>
          <p class="para">
           Quiet-mode. Suppress <acronym title="Hypertext Transfer Protocol">HTTP</acronym> header output
           (<acronym title="Common Gateway Interface">CGI</acronym> only).
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-T</td>
         <td>--timing</td>
         <td>
          <p class="para">
           Measure execution time of script repeated <var class="varname">count</var>
           times (<acronym title="Common Gateway Interface">CGI</acronym> only).
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-c</td>
         <td>--php-ini</td>
         <td>
          <p class="para">
           Specifies either a directory in which to look for
           <var class="filename">php.ini</var>, or a custom <code class="literal">INI</code> file
           (which does not need to be named <var class="filename">php.ini</var>), e.g.:
          </p>
          <p class="para"><div class="informalexample">
           <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -c /custom/directory/ my_script.php
  
  $ php -c /custom/directory/custom-file.ini my_script.php
  </pre></div>
           </div>
          </div></p>
          <p class="para">
           If this option is not specified, <var class="filename">php.ini</var> is searched for in the
           <a href="#configuration.file" class="link">default locations</a>.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-n</td>
         <td>--no-php-ini</td>
         <td>
          <p class="para">
           Ignore <var class="filename">php.ini</var> completely.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-d</td>
         <td>--define</td>
         <td>
          <p class="para">
           Set a custom value for any of the configuration
           directives allowed in <var class="filename">php.ini</var>. The syntax is:
           <div class="example-contents screen">
   <div class="cdata"><pre>
   -d configuration_directive[=value]
   </pre></div>
           </div>
          </p>
          <p class="para"><div class="example" id="example-403">
           <div class="example-contents screen">
  <div class="cdata"><pre>
  # Omitting the value part will set the given configuration directive to &quot;1&quot;
  $ php -d max_execution_time
          -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
  string(1) &quot;1&quot;
  
  # Passing an empty value part will set the configuration directive to &quot;&quot;
  php -d max_execution_time=
          -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
  string(0) &quot;&quot;
  
  # The configuration directive will be set to anything passed after the &#039;=&#039; character
  $  php -d max_execution_time=20
          -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
  string(2) &quot;20&quot;
  $  php
          -d max_execution_time=doesntmakesense
          -r &#039;$foo = ini_get(&quot;max_execution_time&quot;); var_dump($foo);&#039;
  string(15) &quot;doesntmakesense&quot;
  </pre></div>
           </div>
          </div></p>
         </td>
        </tr>
  
        <tr>
         <td>-e</td>
         <td>--profile-info</td>
         <td>
          <p class="para">
           Activate the extended information mode, to be used by a
           debugger/profiler.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-f</td>
         <td>--file</td>
         <td>
          <p class="para">
           Parse and execute the specified file. The
           <strong class="option unknown">-f</strong> is optional and may be omitted - providing just
           the filename to execute is sufficient.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            To pass arguments to a script, the first argument must be
            <code class="literal">--</code>, otherwise PHP will interpret them as PHP
            options.
           </p>
          </p></blockquote>
         </td>
        </tr>
  
        <tr>
         <td>-h and -?</td>
         <td>--help and --usage</td>
         <td>
          Output a list of
          command line options with one line descriptions of what they do.
         </td>
        </tr>
  
        <tr>
         <td>-i</td>
         <td>--info</td>
         <td>
          Calls <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span>, and prints out the results.
          If PHP is not working correctly, it is advisable to use the command
          <strong class="command">php -i</strong> and see whether any error
          messages are printed out before or in place of the information tables.
          Beware that when using the <acronym title="Common Gateway Interface">CGI</acronym> mode the output is in
          <acronym title="Hyper Text Markup Language">HTML</acronym> and therefore very large.
         </td>
        </tr>
  
        <tr>
         <td>-l</td>
         <td>--syntax-check</td>
         <td>
          <p class="para">
           Provides a convenient way to perform only a syntax check
           on the given PHP code. On success, the text
           <code class="literal">No syntax errors detected in &lt;filename&gt;</code> is
           written to standard output and the shell return code is
           <code class="literal">0</code>. On failure, the text <code class="literal">Errors parsing
           &lt;filename&gt;</code> in addition to the internal parser error
           message is written to standard output and the shell return code is set
           to <code class="literal">-1</code>.
          </p>
          <p class="para">
           This option won&#039;t find fatal errors (like undefined functions). Use
           the <strong class="option unknown">-f</strong> to test for fatal errors too.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            This option does not work together with the <strong class="option unknown">-r</strong>
            option.
           </p>
          </p></blockquote>
         </td>
        </tr>
  
        <tr>
         <td>-m</td>
         <td>--modules</td>
         <td>
          <p class="para"><div class="example" id="example-404">
           <p><strong>Example #1 Printing built in (and loaded) PHP and Zend modules</strong></p>
           <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -m
  [PHP Modules]
  xml
  tokenizer
  standard
  session
  posix
  pcre
  overload
  mysql
  mbstring
  ctype
  
  [Zend Modules]
  </pre></div>
           </div>
          </div></p>
         </td>
        </tr>
  
        <tr>
         <td>-r</td>
         <td>--run</td>
         <td>
          <p class="para">
           Allows execution of PHP included directly on the command line.
           The PHP start and end tags (<code class="literal">&lt;?php</code> and
           <code class="literal">?&gt;</code>) are <em class="emphasis">not
           needed</em> and will cause a parse error if present.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            Care must be taken when using this form of PHP not
            to collide with command line variable substitution done by the
            shell.
           </p>
           <div class="example" id="example-405">
            <p><strong>Example #2 Getting a syntax error when using double quotes</strong></p>
            <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -r &quot;$foo = get_defined_constants();&quot;
  PHP Parse error:  syntax error, unexpected &#039;=&#039; in Command line code on line 1
  
  Parse error: syntax error, unexpected &#039;=&#039; in Command line code on line 1
  </pre></div>
            </div>
           </div>
           <p class="para">
            The problem here is that sh/bash performs variable substitution
            even when using double quotes <code class="literal">&quot;</code>. Since the
            variable <var class="varname">$foo</var> is unlikely to be defined, it
            expands to nothing which results in the code passed to
            PHP for execution actually reading:
           </p>
           <div class="informalexample">
            <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -r &quot; = get_defined_constants();&quot;
  </pre></div>
            </div>
           </div>
           
           <p class="para">
            The correct way would be to use single quotes <code class="literal">&#039;</code>.
            Variables in single-quoted strings are not expanded
            by sh/bash.
           </p>
           <div class="example" id="example-406">
            <p><strong>Example #3 Using single quotes to prevent the shell&#039;s variable
            substitution</strong></p>
            <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -r &#039;$foo = get_defined_constants(); var_dump($foo);&#039;
  array(370) {
    [&quot;E_ERROR&quot;]=&gt;
    int(1)
    [&quot;E_WARNING&quot;]=&gt;
    int(2)
    [&quot;E_PARSE&quot;]=&gt;
    int(4)
    [&quot;E_NOTICE&quot;]=&gt;
    int(8)
    [&quot;E_CORE_ERROR&quot;]=&gt;
    [...]
  </pre></div>
            </div>
           </div>
           <p class="para">
            If using a shell other than sh/bash, further issues might be
            experienced - if appropriate, a bug report should be opened at
            <a href="https://bugs.php.net/" class="link external">&raquo;&nbsp;https://bugs.php.net/</a>.
            It is still easy to run into trouble when trying to use variables
            (shell or PHP) in command-line code, or using backslashes for
            escaping, so take great care when doing so. You have been warned!
           </p>
          </p></blockquote>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            <strong class="option unknown">-r</strong> is available in the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym>, but not in the
            <em class="emphasis">CGI</em> <acronym title="Server Application Programming Interface">SAPI</acronym>.
           </p>
          </p></blockquote>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            This option is only intended for very basic code, so some
            configuration directives (such as <a href="#ini.auto-prepend-file" class="link">auto_prepend_file</a> and <a href="#ini.auto-append-file" class="link">auto_append_file</a>) are ignored
            in this mode.
           </p>
          </p></blockquote>
         </td>
        </tr>
  
        <tr>
         <td>-B</td>
         <td>--process-begin</td>
         <td>
          <p class="para">
           PHP code to execute before processing stdin. Added in PHP 5.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-R</td>
         <td>--process-code</td>
         <td>
          <p class="para">
           PHP code to execute for every input line. Added in PHP 5.
          </p>
          <p class="para">
           There are two special variables available in this mode:
           <var class="varname">$argn</var> and <var class="varname">$argi</var>.
           <var class="varname">$argn</var> will contain the line PHP is processing at
           that moment, while <var class="varname">$argi</var> will contain the line
           number.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-F</td>
         <td>--process-file</td>
         <td>
          <p class="para">
           PHP file to execute for every input line. Added in PHP 5.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-E</td>
         <td>--process-end</td>
         <td>
          <p class="para">
           PHP code to execute after processing the input. Added in PHP 5.
          </p>
          <p class="para"><div class="example" id="example-407">
           <p><strong>Example #4 Using the <strong class="option unknown">-B</strong>, <strong class="option unknown">-R</strong> and
            <strong class="option unknown">-E</strong> options to count the number of lines of a
            project.
           </strong></p>
           <div class="example-contents screen">
  <div class="cdata"><pre>
  $ find my_proj | php -B &#039;$l=0;&#039; -R &#039;$l += count(@file($argn));&#039; -E &#039;echo &quot;Total Lines: $l\n&quot;;&#039;
  Total Lines: 37328
  </pre></div>
           </div>
          </div></p>
         </td>
        </tr>
  
        <tr>
         <td>-S</td>
         <td>--server</td>
         <td>
          <p class="para">
           Starts <a href="#features.commandline.webserver" class="link">built-in web
           server</a>. Available as of PHP 5.4.0.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>-t</td>
         <td>--docroot</td>
         <td>
          Specifies document root for <a href="#features.commandline.webserver" class="link">built-in web server</a>.
          Available as of PHP 5.4.0.
         </td>
        </tr>
  
        <tr>
         <td>-s</td>
         <td>--syntax-highlight and --syntax-highlighting</td>
         <td>
          <p class="para">
           Display colour syntax highlighted source.
          </p>
          <p class="para">
           This option uses the internal mechanism to parse the file and writes
           an HTML highlighted version of it to
           standard output. Note that all it does is generate a block of
           <code class="literal">&lt;code&gt; [...] &lt;/code&gt;</code>
           HTML tags, no HTML headers.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            This option does not work together with the <strong class="option unknown">-r</strong>
            option.
           </p>
          </p></blockquote>
         </td>
        </tr>
  
        <tr>
         <td>-v</td>
         <td>--version</td>
         <td>
          <p class="para"><div class="example" id="example-408">
           <p><strong>Example #5 Using <strong class="option unknown">-v</strong> to get the <acronym title="Server Application Programming Interface">SAPI</acronym>
           name and the version of PHP and Zend</strong></p>
           <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -v
  PHP 5.3.1 (cli) (built: Dec 11 2009 19:55:07)
  Copyright (c) 1997-2009 The PHP Group
  Zend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies
  </pre></div>
           </div>
          </div></p>
         </td>
        </tr>
  
        <tr>
         <td>-w</td>
         <td>--strip</td>
         <td>
          <p class="para">
           Display source with comments and whitespace stripped.
          </p>
          <blockquote class="note"><p><strong class="note">Note</strong>: 
           <p class="para">
            This option does not work together with the <strong class="option unknown">-r</strong>
            option.
           </p>
          </p></blockquote>
         </td>
        </tr>
  
        <tr>
         <td>-z</td>
         <td>--zend-extension</td>
         <td>
          <p class="para">
           Load Zend extension. If only a filename is given, PHP tries to load
           this extension from the current default library path on your system
           (usually <var class="filename">/etc/ld.so.conf</var> on Linux systems, for
           example). Passing a filename with an absolute path will
           not use the system&#039;s library search path. A relative filename including
           directory information will tell PHP to try
           loading the extension relative to the current directory.
          </p>
         </td>
        </tr>
  
        <tr>
         <td class="empty">&nbsp;</td>
         <td>--ini</td>
         <td>
          <p class="para">
           Show configuration file names and scanned directories. Available as
           of PHP 5.2.3.
           <div class="example" id="example-409">
            <p><strong>Example #6 <code class="literal">--ini</code> example</strong></p>
            <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php --ini
  Configuration File (php.ini) Path: /usr/dev/php/5.2/lib
  Loaded Configuration File:         /usr/dev/php/5.2/lib/php.ini
  Scan for additional .ini files in: (none)
  Additional .ini files parsed:      (none)</pre>
  </div>
            </div>
  
           </div>
          </p>
         </td>
        </tr>
  
        <tr>
         <td>--rf</td>
         <td>--rfunction</td>
         <td>
          <p class="para">
           Show information about the given function or class method (e.g.
           number and name of the parameters). Available as of PHP 5.1.2.
          </p>
          <p class="para">
           This option is only available if PHP was compiled with
           <a href="#book.reflection" class="link">Reflection</a> support.
          </p>
          <p class="para">
           <div class="example" id="example-410">
            <p><strong>Example #7 basic <code class="literal">--rf</code> usage</strong></p>
            <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php --rf var_dump
  Function [ &lt;internal&gt; public function var_dump ] {
  
    - Parameters [2] {
      Parameter #0 [ &lt;required&gt; $var ]
      Parameter #1 [ &lt;optional&gt; $... ]
    }
  }</pre>
  </div>
            </div>
  
           </div>
          </p>
         </td>
        </tr>
  
        <tr>
         <td>--rc</td>
         <td>--rclass</td>
         <td>
          <p class="para">
           Show information about the given class (list of constants, properties
           and methods). Available as of PHP 5.1.2.
          </p>
          <p class="para">
           This option is only available if PHP was compiled with
           <a href="#book.reflection" class="link">Reflection</a> support.
          </p>
          <p class="para">
           <div class="example" id="example-411">
            <p><strong>Example #8 <code class="literal">--rc</code> example</strong></p>
            <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php --rc Directory
  Class [ &lt;internal:standard&gt; class Directory ] {
  
    - Constants [0] {
    }
  
    - Static properties [0] {
    }
  
    - Static methods [0] {
    }
  
    - Properties [0] {
    }
  
    - Methods [3] {
      Method [ &lt;internal&gt; public method close ] {
      }
  
      Method [ &lt;internal&gt; public method rewind ] {
      }
  
      Method [ &lt;internal&gt; public method read ] {
      }
    }
  }</pre>
  </div>
            </div>
  
           </div>
          </p>
         </td>
        </tr>
  
        <tr>
         <td>--re</td>
         <td>--rextension</td>
         <td>
          <p class="para">
           Show information about the given extension (list of <var class="filename">php.ini</var> options,
           defined functions, constants and classes). Available as of PHP 5.1.2.
          </p>
          <p class="para">
           This option is only available if PHP was compiled with
           <a href="#book.reflection" class="link">Reflection</a> support.
          </p>
          <p class="para">
           <div class="example" id="example-412">
            <p><strong>Example #9 <code class="literal">--re</code> example</strong></p>
            <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php --re json
  Extension [ &lt;persistent&gt; extension #19 json version 1.2.1 ] {
  
    - Functions {
      Function [ &lt;internal&gt; function json_encode ] {
      }
      Function [ &lt;internal&gt; function json_decode ] {
      }
    }
  }</pre>
  </div>
            </div>
  
           </div>
          </p>
         </td>
        </tr>
  
        <tr>
         <td>--rz</td>
         <td>--rzendextension</td>
         <td>
          <p class="para">
           Show the configuration information for the given Zend extension (the
           same information that is returned by <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span>).
           Available as of PHP 5.4.0.
          </p>
         </td>
        </tr>
  
        <tr>
         <td>--ri</td>
         <td>--rextinfo</td>
         <td>
          <p class="para">
           Show the configuration information for the given extension (the same
           information that is returned by <span class="function"><a href="#function.phpinfo" class="function">phpinfo()</a></span>).
           Available as of PHP 5.2.2. The core configuration information
           is available using &quot;main&quot; as extension name.
          </p>
          <p class="para">
           <div class="example" id="example-413">
            <p><strong>Example #10 <code class="literal">--ri</code> example</strong></p>
            <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php --ri date
  
  date
  
  date/time support =&gt; enabled
  &quot;Olson&quot; Timezone Database Version =&gt; 2009.20
  Timezone Database =&gt; internal
  Default timezone =&gt; Europe/Oslo
  
  Directive =&gt; Local Value =&gt; Master Value
  date.timezone =&gt; Europe/Oslo =&gt; Europe/Oslo
  date.default_latitude =&gt; 59.930972 =&gt; 59.930972
  date.default_longitude =&gt; 10.776699 =&gt; 10.776699
  date.sunset_zenith =&gt; 90.583333 =&gt; 90.583333
  date.sunrise_zenith =&gt; 90.583333 =&gt; 90.583333</pre>
  </div>
            </div>
  
           </div>
          </p>
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
    
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Options <code class="literal">-rBRFEH</code>, <code class="literal">--ini</code> and
      <code class="literal">--r[fcezi]</code> are available only in <acronym title="Command Line Interpreter/Interface">CLI</acronym>.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
   
   
   
   <div id="features.commandline.usage" class="section"><hr />
    <h2 class="title">Executing PHP files</h2>
    
    
    <p class="para">
     There are three different ways of supplying the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> with PHP code
     to be executed:
     <ol type="1">
      <li class="listitem">
       <p class="para">
        Tell PHP to execute a certain file.
       </p>
       <div class="informalexample">
        <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php my_script.php
  
  $ php -f my_script.php
  </pre></div>
        </div>
       </div>
       <p class="para">
        Both ways (whether using the <strong class="option unknown">-f</strong> switch or not) execute
        the file <var class="filename">my_script.php</var>. Note that there is no
        restriction on which files can be executed; in particular, the filename
        is not required have a <code class="literal">.php</code> extension.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         If arguments need to be passed to the script when using
         <strong class="option unknown">-f</strong>, the first argument must be <code class="literal">--</code>.
        </p>
       </p></blockquote>
      </li>
      <li class="listitem">
       <p class="para">
        Pass the PHP code to execute directly on the command line.
       </p>
       <div class="informalexample">
        <div class="example-contents screen">
  <div class="cdata"><pre>
  $ php -r &#039;print_r(get_defined_constants());&#039;
  </pre></div>
        </div>
       </div>
       <p class="para">
        Special care has to be taken with regard to shell variable substitution and
        usage of quotes.
       </p>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Read the example carefully: there are no beginning or ending tags! The
         <strong class="option unknown">-r</strong> switch simply does not need them, and using them will
         lead to a parse error.
        </p>
       </p></blockquote>
      </li>
      <li class="listitem">
       <p class="para">
        Provide the PHP code to execute via standard input
        (<code class="literal">stdin</code>).
       </p>
       <p class="para">
        This gives the powerful ability to create PHP code dynamically and feed it
        to the binary, as shown in this (fictional) example:
       </p>
       <div class="informalexample">
        <div class="example-contents screen">
  <div class="cdata"><pre>
  $ some_application | some_filter | php | sort -u &gt; final_output.txt
  </pre></div>
        </div>
       </div>
      </li>
     </ol>
     You cannot combine any of the three ways to execute code.
    </p>
    
    <p class="para">
     As with every shell application, the PHP binary accepts a number of
     arguments; however, the PHP script can also receive further arguments. The
     number of arguments that can be passed to your script is not limited by PHP
     (and although the shell has a limit to the number of characters which can be
     passed, this is not in general likely to be hit). The arguments passed to
     the script are available in the global array <var class="varname"><a href="#reserved.variables.argv" class="classname">$argv</a></var>. The
     first index (zero) always contains the name of the script as called from the
     command line. Note that, if the code is executed in-line using the command
     line switch <strong class="option unknown">-r</strong>, the value of <var class="varname"><a href="#reserved.variables.argv" class="classname">$argv[0]</a></var>
     will be just a dash (<code class="literal">-</code>). The same is true if the code is
     executed via a pipe from <code class="literal">STDIN</code>.
    </p>
  
    <p class="para">
     A second global variable, <var class="varname"><a href="#reserved.variables.argc" class="classname">$argc</a></var>,
     contains the number of elements in the <var class="varname"><a href="#reserved.variables.argv" class="classname">$argv</a></var> array
     (<em class="emphasis">not</em> the number of arguments passed to the
     script).
    </p>
    
    <p class="para">
     As long as the arguments to be passed to the script do not start with
     the <code class="literal">-</code> character, there&#039;s nothing special to watch out for.
     Passing an argument to the script which starts with a <code class="literal">-</code>
     will cause trouble because the PHP interpreter thinks it has to handle it
     itself, even before executing the script. To prevent this, use the argument
     list separator <code class="literal">--</code>. After this separator has been parsed by
     PHP, every following argument is passed untouched to the script.
    </p>
    
    <div class="informalexample">
     <div class="example-contents screen">
  <div class="cdata"><pre>
  # This will not execute the given code but will show the PHP usage
  $ php -r &#039;var_dump($argv);&#039; -h
  Usage: php [options] [-f] &lt;file&gt; [args...]
  [...]
  
  # This will pass the &#039;-h&#039; argument to the script and prevent PHP from showing its usage
  $ php -r &#039;var_dump($argv);&#039; -- -h
  array(2) {
    [0]=&gt;
    string(1) &quot;-&quot;
    [1]=&gt;
    string(2) &quot;-h&quot;
  }
  </pre></div>
     </div>
    </div>
    
    <p class="para">
     However, on Unix systems there&#039;s another way of using PHP for shell
     scripting: make the first line of the script start with
     <code class="literal">#!/usr/bin/php</code> (or whatever the path to your PHP <acronym title="Command Line Interpreter/Interface">CLI</acronym>
     binary is if different). The rest of the file should contain normal PHP code
     within the usual PHP starting and end tags. Once the execution attributes of
     the file are set appropriately (e.g. <strong class="command">chmod +x test</strong>),
     the script can be executed like any other shell or perl script:
    </p>
    
    <div class="example" id="example-414">
     <p><strong>Example #1 Execute PHP script as shell script</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  #!/usr/bin/php<br /><span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>
       Assuming this file is named <var class="filename">test</var> in the current
       directory, it is now possible to do the following:
     </p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  $ chmod +x test
  $ ./test -h -- foo
  array(4) {
    [0]=&gt;
    string(6) &quot;./test&quot;
    [1]=&gt;
    string(2) &quot;-h&quot;
    [2]=&gt;
    string(2) &quot;--&quot;
    [3]=&gt;
    string(3) &quot;foo&quot;
  }
  </pre></div>
     </div>
    </div>
    
    <p class="para">
     As can be seen, in this case no special care needs to be taken when passing parameters
     starting with <code class="literal">-</code>.
    </p>
    
    <p class="para">
     The PHP executable can be used to run PHP scripts absolutely independent of
     the web server. On Unix systems, the special <code class="literal">#!</code> (or
     &quot;shebang&quot;) first line should be added to PHP scripts so that the system can
     automatically tell which program should run the script. On Windows platforms,
     it&#039;s possible to associate <var class="filename">php.exe</var> with the double
     click option of the <code class="literal">.php</code> extension, or a batch file can
     be created to run scripts through PHP. The special shebang first line for
     Unix does no harm on Windows (as it&#039;s formatted as a PHP comment), so cross
     platform programs can be written by including it. A simple example of
     writing a command line PHP program is shown below.
    </p>
    
    <p class="para">
     <div class="example" id="example-415">
      <p><strong>Example #2 Script intended to be run from command line (script.php)</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  #!/usr/bin/php<br /><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$argc&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">2&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">in_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">],&nbsp;array(</span><span style="color: #DD0000">'--help'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-help'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-h'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'-?'</span><span style="color: #007700">)))&nbsp;{<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />This&nbsp;is&nbsp;a&nbsp;command&nbsp;line&nbsp;PHP&nbsp;script&nbsp;with&nbsp;one&nbsp;option.<br /><br />&nbsp;&nbsp;Usage:<br />&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">];&nbsp;</span><span style="color: #0000BB">?&gt;</span>&nbsp;&lt;option&gt;<br /><br />&nbsp;&nbsp;&lt;option&gt;&nbsp;can&nbsp;be&nbsp;some&nbsp;word&nbsp;you&nbsp;would&nbsp;like<br />&nbsp;&nbsp;to&nbsp;print&nbsp;out.&nbsp;With&nbsp;the&nbsp;--help,&nbsp;-help,&nbsp;-h,<br />&nbsp;&nbsp;or&nbsp;-?&nbsp;options,&nbsp;you&nbsp;can&nbsp;get&nbsp;this&nbsp;help.<br /><br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$argv</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
     </div>
    </p>
    
    <p class="para">
     The script above includes the Unix shebang first line to indicate that this
     file should be run by PHP. We are working with a <acronym title="Command Line Interpreter/Interface">CLI</acronym> version here, so
     no <acronym title="Hypertext Transfer Protocol">HTTP</acronym> headers will be output.
    </p>
    
    <p class="para">
     The program first checks that there is the required one argument (in
     addition to the script name, which is also counted). If not, or if the
     argument was <strong class="option unknown">--help</strong>, <strong class="option unknown">-help</strong>,
     <strong class="option unknown">-h</strong> or <strong class="option unknown">-?</strong>, the help message is printed out,
     using <var class="varname"><a href="#reserved.variables.argv" class="classname">$argv[0]</a></var> to dynamically print the script name as
     typed on the command line. Otherwise, the argument is echoed out exactly as
     received.
    </p>
    
    <p class="para">
     To run the above script on Unix, it must be made
     executable, and called simply as <strong class="command">script.php echothis</strong> or
     <strong class="command">script.php -h</strong>. On Windows, a batch file similar to the
     following can be created for this task:
    </p>
    
    <p class="para">
     <div class="example" id="example-416">
      <p><strong>Example #3 Batch file to run a command line PHP script (script.bat)</strong></p>
      <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">@echo OFF
  &quot;C:\php\php.exe&quot; script.php %*</pre>
  </div>
      </div>
  
     </div>
    </p>
    
    <p class="para">
     Assuming the above program is named <var class="filename">script.php</var>, and the
     <acronym title="Command Line Interpreter/Interface">CLI</acronym> <var class="filename">php.exe</var> is in <var class="filename">C:\php\php.exe</var>,
     this batch file will run it, passing on all appended options:
     <strong class="command">script.bat echothis</strong> or <strong class="command">script.bat -h</strong>.
    </p>
    
    <p class="para">
     See also the <a href="#ref.readline" class="link">Readline</a> extension
     documentation for more functions which can be used to enhance command line
     applications in PHP.
    </p>
    
    <p class="para">
     On Windows, PHP can be configured to run without the need to
     supply the <var class="filename">C:\php\php.exe</var> or the <code class="literal">.php</code>
     extension, as described in <a href="#install.windows.legacy.commandline" class="link">Command
     Line PHP on Microsoft Windows</a>.
    </p>
  
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      On Windows it is recommended to run PHP under an actual user account.
      When running under a network service certain operations will fail, because
      &quot;No mapping between account names and security IDs was done&quot;.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
   
   
   
   <div id="features.commandline.io-streams" class="section"><hr />
    <h2 class="title">Input/output streams</h2>
    
    
    <p class="para">
     The <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> defines a few constants for I/O streams to make programming
     for the command line a bit easier.
    </p>
    
    <p class="para">
     <table class="doctable table">
      <caption><strong>CLI specific Constants</strong></caption>
      
       <thead>
        <tr>
         <th>Constant</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td><strong><code>STDIN</code></strong></td>
         <td>
          <p class="para">An already opened stream to <code class="literal">stdin</code>. This saves
         opening it with
         <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$stdin&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stdin'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'r'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
         </div>
  
         If you want to read single line from <code class="literal">stdin</code>, you can
         use
         <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">trim</span><span style="color: #007700">(</span><span style="color: #0000BB">fgets</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;reads&nbsp;one&nbsp;line&nbsp;from&nbsp;STDIN<br /></span><span style="color: #0000BB">fscanf</span><span style="color: #007700">(</span><span style="color: #0000BB">STDIN</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"%d\n"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$number</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;reads&nbsp;number&nbsp;from&nbsp;STDIN<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
         </div>
  
         </p></td>
        </tr>
  
        <tr>
         <td><strong><code>STDOUT</code></strong></td>
         <td><p class="para">
         An already opened stream to <code class="literal">stdout</code>. This saves
         opening it with
         <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$stdout&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stdout'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
         </div>
  
         </p></td>
        </tr>
  
        <tr>
         <td><strong><code>STDERR</code></strong></td>
         <td>
          <p class="para">
           An already opened stream to <code class="literal">stderr</code>.
           This saves opening it with
           <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$stderr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #DD0000">'php://stderr'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
           </div>
  
          </p>
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
    
    <p class="para">
     Given the above, you don&#039;t need to open e.g. a stream for
     <code class="literal">stderr</code> yourself but simply use the constant instead of
     the stream resource:
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php -r &#039;fwrite(STDERR, &quot;stderr\n&quot;);&#039;</pre>
  </div>
     </div>
  
     You do not need to explicitly close these streams, as they are closed
     automatically by PHP when your script ends.
    </p>
    
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      These constants are not available if reading the PHP script from
      <code class="literal">stdin</code>.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
   
  
   
   <div id="features.commandline.interactive" class="section"><hr />
    <h2 class="title">Interactive shell</h2>
  
    <p class="para">
     As of PHP 5.1.0, the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> provides an interactive shell using the
     <strong class="option unknown">-a</strong> option if PHP is compiled with the <strong class="option configure">--with-readline</strong> option.
     As of PHP 7.1.0 the interactive shell is also available on Windows, if the
     <a href="#book.readline" class="link">readline extension</a> is enabled.
    </p>
  
    <p class="para">
     Using the interactive shell you are able to type PHP code and have it
     executed directly.
    </p>
  
    <div class="example" id="example-417">
     <p><strong>Example #1 Executing code using the interactive shell</strong></p>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php -a
  Interactive shell
  
  php &gt; echo 5+8;
  13
  php &gt; function addTwo($n)
  php &gt; {
  php { return $n + 2;
  php { }
  php &gt; var_dump(addtwo(2));
  int(4)
  php &gt;</pre>
  </div>
     </div>
  
    </div>
  
    <p class="para">
     The interactive shell also features tab completion for functions,
     constants, class names, variables, static method calls and class
     constants.
    </p>
  
    <div class="example" id="example-418">
     <p><strong>Example #2 Tab completion</strong></p>
     <div class="example-contents"><p>
      Pressing the tab key twice when there are multiple possible completions
      will result in a list of these completions:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; strp[TAB][TAB]
  strpbrk   strpos    strptime  
  php &gt; strp</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
      When there is only one possible completion, pressing tab once will
      complete the rest on the same line:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; strpt[TAB]ime(</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
      Completion will also work for names that have been defined
      during the current interactive shell session:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; $fooThisIsAReallyLongVariableName = 42;
  php &gt; $foo[TAB]ThisIsAReallyLongVariableName</pre>
  </div>
     </div>
  
    </div>
  
    <p class="para">
     The interactive shell stores your history which can be accessed using the up
     and down keys. The history is saved in the
     <var class="filename">~/.php_history</var> file.
    </p>
  
    <p class="para">
     As of PHP 5.4.0, the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> provides
     the <var class="filename">php.ini</var> settings <code class="parameter">cli.pager</code> and
     <code class="parameter">cli.prompt</code>. The <code class="parameter">cli.pager</code>
     setting allows an external program (such as <var class="filename">less</var>) to
     act as a pager for the output instead of being displayed directly on the
     screen. The <code class="parameter">cli.prompt</code> setting makes it possible to
     change the <code class="literal">php &gt;</code> prompt.
    </p>
  
    <p class="para">
     In PHP 5.4.0 it was also made possible to set
     <var class="filename">php.ini</var> settings in the interactive shell using a shorthand notation.
    </p>
  
    <div class="example" id="example-419">
     <p><strong>Example #3 Setting <var class="filename">php.ini</var> settings in the interactive shell</strong></p>
     <div class="example-contents"><p>
      The <code class="parameter">cli.prompt</code> setting:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; #cli.prompt=hello world :&gt; 
  hello world :&gt;</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
      Using backticks it is possible to have PHP code executed in the prompt:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; #cli.prompt=`echo date(&#039;H:i:s&#039;);` php &gt; 
  15:49:35 php &gt; echo &#039;hi&#039;;
  hi
  15:49:43 php &gt; sleep(2);
  15:49:45 php &gt;</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
      Setting the pager to <var class="filename">less</var>:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">php &gt; #cli.pager=less
  php &gt; phpinfo();
  (output displayed in less)
  php &gt;</pre>
  </div>
     </div>
  
    </div>
  
    <p class="para">
     The <code class="parameter">cli.prompt</code> setting supports a few escape
     sequences:
     <table class="doctable table">
      <caption><strong><code class="parameter">cli.prompt</code> escape sequences</strong></caption>
      
       <thead>
        <tr>
         <th>Sequence</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td><code class="literal">\e</code></td>
         <td>
          Used for adding colors to the prompt. An example could be
          <code class="literal">\e[032m\v \e[031m\b \e[34m\&gt; \e[0m</code>
         </td>
        </tr>
  
        <tr>
         <td><code class="literal">\v</code></td>
         <td>The PHP version.</td>
        </tr>
  
        <tr>
         <td><code class="literal">\b</code></td>
         <td>
          Indicates which block PHP is in. For instance <code class="literal">/*</code> to
          indicate being inside a multi-line comment. The outer scope is denoted by
          <code class="literal">php</code>.
         </td>
        </tr>
  
        <tr>
         <td><code class="literal">\&gt;</code></td>
         <td>
          Indicates the prompt character. By default this is
          <code class="literal">&gt;</code>, but changes when the shell is inside an
          unterminated block or string. Possible characters are: <code class="literal">&#039; &quot; {
          ( &gt;</code>
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
  
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Files included through <a href="#ini.auto-prepend-file" class="link">auto_prepend_file</a> and <a href="#ini.auto-append-file" class="link">auto_append_file</a> are parsed in
      this mode but with some restrictions - e.g. functions have to be
      defined before called.
     </p>
    </p></blockquote>
  
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      <a href="#language.oop5.autoload" class="link">Autoloading</a> is not
      available if using PHP in <acronym title="Command Line Interpreter/Interface">CLI</acronym> interactive mode.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
   
  
   
   <div id="features.commandline.webserver" class="section"><hr />
    <h2 class="title">Built-in web server</h2>
  
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="para">
      This web server is designed to aid application development.  It may also
      be useful for testing purposes or for application demonstrations that are
      run in controlled environments. It is not intended to be a full-featured
      web server. It should not be used on a public network.
     </p>
    </div>
  
    <p class="para">
     As of PHP 5.4.0, the <acronym title="Command Line Interpreter/Interface">CLI</acronym> <acronym title="Server Application Programming Interface">SAPI</acronym> provides a built-in web server.
    </p>
  
    <p class="para">
     The web server runs only one single-threaded process, so
     PHP applications will stall if a request is blocked.
    </p>
  
    <p class="para">
      URI requests are served from the current working directory where
      PHP was started, unless the -t option is used to specify an
      explicit document root.  If a URI request does not specify a file,
      then either index.php or index.html in the given directory are
      returned.  If neither file exists, the lookup for index.php and index.html
      will be continued in the parent directory and so on until one is found or
      the document root has been reached. If an index.php or index.html is found,
      it is returned and $_SERVER[&#039;PATH_INFO&#039;] is set to the trailing part of
      the URI. Otherwise a 404 response code is returned.
    </p>
  
    <p class="para">
      If a PHP file is given on the command line when the web server is
      started it is treated as a &quot;router&quot; script.  The script is run at
      the start of each HTTP request.  If this script returns <strong><code>FALSE</code></strong>,
      then the requested resource is returned as-is.  Otherwise the
      script&#039;s output is returned to the browser.
    </p>
  
    <p class="para">
      Standard MIME types are returned for files with extensions: .3gp,
      .apk, .avi, .bmp, .css, .csv, .doc, .docx, .flac, .gif, .gz,
      .gzip, .htm, .html, .ics, .jpe, .jpeg, .jpg, .js, .kml, .kmz,
      .m4a, .mov, .mp3, .mp4, .mpeg, .mpg, .odp, .ods, .odt, .oga, .ogg,
      .ogv, .pdf, .pdf, .png, .pps, .pptx, .qt, .svg, .swf, .tar, .text,
      .tif, .txt, .wav, .webm, .wmv, .xls, .xlsx, .xml, .xsl, .xsd, and .zip.
    </p>
  
  
    <table class="doctable table">
     <caption><strong>Changelog: Supported MIME Types (file extensions)</strong></caption>
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td>5.5.12</td>
        <td>
         .xml, .xsl, and .xsd
        </td>
       </tr>
  
       <tr>
        <td>5.5.7</td>
        <td>
         .3gp, .apk, .avi, .bmp, .csv, .doc, .docx, .flac, .gz, .gzip,
         .ics, .kml, .kmz, .m4a, .mp3, .mp4, .mpg, .mpeg, .mov, .odp, .ods,
         .odt, .oga, .pdf, .pptx, .pps, .qt, .swf, .tar, .text, .tif, .wav,
         .wmv, .xls, .xlsx, and .zip
        </td>
       </tr>
  
       <tr>
        <td>5.5.5</td>
        <td>
         .pdf
        </td>
       </tr>
  
       <tr>
        <td>5.4.11</td>
        <td>
         .ogg, .ogv, and .webm
        </td>
       </tr>
  
       <tr>
        <td>5.4.4</td>
        <td>
          .htm and .svg
        </td>
       </tr>
  
      </tbody>
     
    </table>
  
  
  
    <table class="doctable table">
     <caption><strong>Changelog</strong></caption>
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td>7.4.0</td>
        <td>
         You can configure the built-in webserver to fork multiple workers
         in order to test code that requires multiple concurrent requests to
         the built-in webserver. Set the <var class="envar">PHP_CLI_SERVER_WORKERS</var>
         environment variable to the number of desired workers before starting
         the server.
         This is not supported on Windows.
         <div class="warning"><strong class="warning">Warning</strong>
          <p class="para">
           This <em class="emphasis">experimental</em> feature is <em class="emphasis">not</em>
           intended for production usage. Generally, the built-in Web Server is
           <em class="emphasis">not</em> intended for production usage.
          </p>
         </div>
        </td>
       </tr>
  
      </tbody>
     
    </table>
  
  
  
    <div class="example" id="example-420">
     <p><strong>Example #1 Starting the web server</strong></p> 
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ cd ~/public_html
  $ php -S localhost:8000</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
       The terminal will show:
     </p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  PHP 5.4.0 Development Server started at Thu Jul 21 10:43:28 2011
  Listening on localhost:8000
  Document root is /home/me/public_html
  Press Ctrl-C to quit
  </pre></div>
     </div>
     <div class="example-contents"><p>
       After URI requests for http://localhost:8000/ and
       http://localhost:8000/myscript.html the terminal will show
       something similar to:
     </p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  PHP 5.4.0 Development Server started at Thu Jul 21 10:43:28 2011
  Listening on localhost:8000
  Document root is /home/me/public_html
  Press Ctrl-C to quit.
  [Thu Jul 21 10:48:48 2011] ::1:39144 GET /favicon.ico - Request read
  [Thu Jul 21 10:48:50 2011] ::1:39146 GET / - Request read
  [Thu Jul 21 10:48:50 2011] ::1:39147 GET /favicon.ico - Request read
  [Thu Jul 21 10:48:52 2011] ::1:39148 GET /myscript.html - Request read
  [Thu Jul 21 10:48:52 2011] ::1:39149 GET /favicon.ico - Request read
  </pre></div>
     </div>
     <div class="example-contents"><p>
      Note that prior to PHP 7.4.0, symlinked statical resources have not been
      accessible on Windows, unless the router script would handle these.
     </p></div>
    </div>
  
    <div class="example" id="example-421">
     <p><strong>Example #2 Starting with a specific document root directory</strong></p> 
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ cd ~/public_html
  $ php -S localhost:8000 -t foo/</pre>
  </div>
     </div>
  
     <div class="example-contents"><p>
       The terminal will show:
     </p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  PHP 5.4.0 Development Server started at Thu Jul 21 10:50:26 2011
  Listening on localhost:8000
  Document root is /home/me/public_html/foo
  Press Ctrl-C to quit
  </pre></div>
     </div>
    </div>
  
    <div class="example" id="example-422">
     <p><strong>Example #3 Using a Router Script</strong></p> 
  <div class="example-contents"><p>
    In this example, requests for images will display them, but requests for HTML files will display &quot;Welcome to PHP&quot;:
  </p></div>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/\.(?:png|jpg|jpeg|gif)$/'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"REQUEST_URI"</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;serve&nbsp;the&nbsp;requested&nbsp;resource&nbsp;as-is.<br /></span><span style="color: #007700">}&nbsp;else&nbsp;{&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;p&gt;Welcome&nbsp;to&nbsp;PHP&lt;/p&gt;"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
  </div>
     </div>
  
    </div>
  
    <div class="example" id="example-423">
     <p><strong>Example #4 Checking for CLI Web Server Use</strong></p> 
  <div class="example-contents"><p>
    To reuse a framework router script during development with the CLI web server and later also with a production web server:
  </p></div>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">php_sapi_name</span><span style="color: #007700">()&nbsp;==&nbsp;</span><span style="color: #DD0000">'cli-server'</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;route&nbsp;static&nbsp;assets&nbsp;and&nbsp;return&nbsp;false&nbsp;*/<br /></span><span style="color: #007700">}<br /></span><span style="color: #FF8000">/*&nbsp;go&nbsp;on&nbsp;with&nbsp;normal&nbsp;index.php&nbsp;operations&nbsp;*/<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
  </div>
     </div>
  
    </div>
  
    <div class="example" id="example-424">
     <p><strong>Example #5 Handling Unsupported File Types</strong></p> 
  <div class="example-contents"><p>
    If you need to serve a static resource whose MIME type is not handled by the CLI web server, use:
  </p></div>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;router.php<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"SCRIPT_FILENAME"</span><span style="color: #007700">]);<br />if&nbsp;(</span><span style="color: #0000BB">$path</span><span style="color: #007700">[</span><span style="color: #DD0000">"extension"</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #DD0000">"el"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;text/x-script.elisp"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">readfile</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">"SCRIPT_FILENAME"</span><span style="color: #007700">]);<br />}<br />else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php -S localhost:8000 router.php</pre>
  </div>
     </div>
  
    </div>
  
    <div class="example" id="example-425">
     <p><strong>Example #6 Accessing the CLI Web Server From Remote Machines</strong></p> 
     <div class="example-contents"><p>
      You can make the web server accessible on port 8000 to any interface with:
     </p></div>
     <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">$ php -S 0.0.0.0:8000</pre>
  </div>
     </div>
  
     <div class="warning"><strong class="warning">Warning</strong>
      <p class="para">
        The built-in Web Server should not be used on a public network.
      </p>
     </div>
    </div>
  
   </div>
  <hr />
  
   
  
    <div id="features.commandline.ini" class="section"><hr />
     <h2 class="title">INI settings</h2>
     <p class="para">
      <table class="doctable table">
       <caption><strong>CLI SAPI Configuration Options</strong></caption>
       
        <thead>
         <tr>
          <th>Name</th>
          <th>Default</th>
          <th>Changeable</th>
          <th>Changelog</th>
         </tr>
  
        </thead>
  
        <tbody class="tbody">
         <tr>
          <td><a href="#ini.cli-server.color" class="link">cli_server.color</a></td>
          <td>&quot;0&quot;</td>
          <td>PHP_INI_ALL</td>
          <td>Available since PHP 5.4.0.</td>
         </tr>
  
        </tbody>
       
      </table>
  
     </p>
     
     <p class="para">Here&#039;s a short explanation of
  the configuration directives.</p>
     
     <p class="para">
      <dl>
  
       
        <dt id="ini.cli-server.color">
         <code class="parameter">cli_server.color</code>
         <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
        </dt>
  
        <dd>
  
         <p class="para">
          Enable the built-in development web server to use ANSI color coding 
          in terminal output.
         </p>
        </dd>
  
       
      </dl>
  
     </p>
    </div>
  <hr />
  
    
  </div>
  
  <hr />
  
  
  
  
    
  
   <div id="features.gc" class="chapter"><hr />
    <h1>Garbage Collection</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#features.gc.refcounting-basics">Reference Counting Basics</a></li><li><a href="#features.gc.collecting-cycles">Collecting Cycles</a></li><li><a href="#features.gc.performance-considerations">Performance Considerations</a></li></ul>
  
  
    <p class="para">
     This section explains the merits of the new Garbage Collection (also known
     as GC) mechanism that is part of PHP 5.3.
    </p>
  
    <div id="features.gc.refcounting-basics" class="sect1"><hr />
     <h2 class="title">Reference Counting Basics</h2>
     <p class="para">
      A PHP variable is stored in a container called a &quot;zval&quot;. A zval container
      contains, besides the variable&#039;s type and value, two additional bits of
      information. The first is called &quot;is_ref&quot; and is a boolean value
      indicating whether or not the variable is part of a &quot;reference set&quot;. With
      this bit, PHP&#039;s engine knows how to differentiate between normal variables
      and references. Since PHP allows user-land references, as created by the
      &amp; operator, a zval container also has an internal reference counting
      mechanism to optimize memory usage. This second piece of additional
      information, called &quot;refcount&quot;, contains how many variable names (also
      called symbols) point to this one zval container. All symbols are stored in
      a symbol table, of which there is one per scope. There is a scope for the
      main script (i.e., the one requested through the browser), as well as one
      for every function or method.
     </p>
     <p class="para">
      A zval container is created when a new variable is created with a constant
      value, such as:
      <div class="example" id="example-426">
       <p><strong>Example #1 Creating a new zval container</strong></p>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"new&nbsp;string"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
      </div>
     </p>
     <p class="para">
      In this case, the new symbol name, <code class="literal">a</code>, is created in the current scope,
      and a new variable container is created with the type <span class="type"><a href="#language.types.string" class="type string">string</a></span> and the value
      <code class="literal">new string</code>. The &quot;is_ref&quot; bit is by default set to <strong><code>FALSE</code></strong> because no
      user-land reference has been created. The &quot;refcount&quot; is set to <code class="literal">1</code> as
      there is only one symbol that makes use of this variable container. Note
      that if &quot;refcount&quot; is <code class="literal">1</code>, &quot;is_ref&quot; is always <strong><code>FALSE</code></strong>. If you have <a href="http://xdebug.org/" class="link external">&raquo;&nbsp;Xdebug</a> installed, you can display this
      information by calling <span class="function"><strong>xdebug_debug_zval()</strong></span>.
     </p>
     <p class="para">
      <div class="example" id="example-427">
       <p><strong>Example #2 Displaying zval information</strong></p>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"new&nbsp;string"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>The above example will output:</p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=1, is_ref=0)=&#039;new string&#039;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      Assigning this variable to another variable name will increase the refcount.
     </p>
     <p class="para">
      <div class="example" id="example-428">
       <p><strong>Example #3 Increasing refcount of a zval</strong></p>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"new&nbsp;string"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>The above example will output:</p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=2, is_ref=0)=&#039;new string&#039;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      The refcount is <code class="literal">2</code> here, because the same variable container is linked
      with both <var class="varname">a</var> and <var class="varname">b</var>.
      PHP is smart enough not to copy the actual variable
      container when it is not necessary. Variable containers get destroyed when
      the &quot;refcount&quot; reaches zero. The &quot;refcount&quot; gets decreased by one when any
      symbol linked to the variable container leaves the scope (e.g. when the
      function ends) or when a symbol is unassigned (e.g. by calling <span class="function"><a href="#function.unset" class="function">unset()</a></span>).
      The following example shows this:
     </p>
     <p class="para">
      <div class="example" id="example-429">
       <p><strong>Example #4 Decreasing zval refcount</strong></p>
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"new&nbsp;string"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br />unset(&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
       </div>
  
       <div class="example-contents"><p>The above example will output:</p></div>
       <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=3, is_ref=0)=&#039;new string&#039;
  a: (refcount=2, is_ref=0)=&#039;new string&#039;
  a: (refcount=1, is_ref=0)=&#039;new string&#039;
  </pre></div>
       </div>
      </div>
     </p>
     <p class="para">
      If we now call <code class="literal">unset($a);</code>, the variable container, including the type
      and value, will be removed from memory.
     </p>
  
     <div class="sect2" id="features.gc.compound-types">
      <h3 class="title">Compound Types</h3>
  
      <p class="para">
       Things get a tad more complex with compound types such as <span class="type"><a href="#language.types.array" class="type array">array</a></span>s and
       <span class="type"><a href="#language.types.object" class="type object">object</a></span>s. As opposed to <span class="type"><span class="type scalar">scalar</span></span> values, <span class="type"><a href="#language.types.array" class="type array">array</a></span>s
       and <span class="type"><a href="#language.types.object" class="type object">object</a></span>s store their
       properties in a symbol table of their own. This means that the following
       example creates three zval containers:
      </p>
      <p class="para">
       <div class="example" id="example-430">
        <p><strong>Example #5 Creating a <span class="type"><a href="#language.types.array" class="type array">array</a></span> zval</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'meaning'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'life'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'number'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">42&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=1, is_ref=0)=array (
     &#039;meaning&#039; =&gt; (refcount=1, is_ref=0)=&#039;life&#039;,
     &#039;number&#039; =&gt; (refcount=1, is_ref=0)=42
  )
  </pre></div>
        </div>
        <div class="example-contents"><p>Or graphically</p></div>
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-simple-array.png" alt="Zvals for a simple array" width="593" height="143" />
         </div>
        </div>
       </div>
      </p>
      <p class="para">
       The three zval containers are: <var class="varname">a</var>, <var class="varname">meaning</var>, and <var class="varname">number</var>.
       Similar rules apply for increasing and decreasing &quot;refcounts&quot;. Below, we add another
       element to the array, and set its value to the contents of an already
       existing element:
      </p>
      <p class="para">
       <div class="example" id="example-431">
        <p><strong>Example #6 Adding already existing element to an array</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'meaning'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'life'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'number'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">42&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'life'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'meaning'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=1, is_ref=0)=array (
     &#039;meaning&#039; =&gt; (refcount=2, is_ref=0)=&#039;life&#039;,
     &#039;number&#039; =&gt; (refcount=1, is_ref=0)=42,
     &#039;life&#039; =&gt; (refcount=2, is_ref=0)=&#039;life&#039;
  )
  </pre></div>
        </div>
        <div class="example-contents"><p>Or graphically</p></div>
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-simple-array2.png" alt="Zvals for a simple array with a reference" width="593" height="143" />
         </div>
        </div>
       </div>
      </p>
      <p class="para">
       From the above Xdebug output, we see that both the old and new array
       elements now point to a zval container whose &quot;refcount&quot; is
       <code class="literal">2</code>. Although Xdebug&#039;s output shows two zval containers
       with value <code class="literal">&#039;life&#039;</code>, they are the same one. The
       <span class="function"><strong>xdebug_debug_zval()</strong></span> function does not show this, but
       you could see it by also displaying the memory pointer.
      </p>
      <p class="para">
       Removing an element from the array is like removing a symbol from a scope.
       By doing so, the &quot;refcount&quot; of a container that an array element points to
       is decreased. Again, when the &quot;refcount&quot; reaches zero, the variable
       container is removed from memory.  Again, an example to show this:
      </p>
      <p class="para">
       <div class="example" id="example-432">
        <p><strong>Example #7 Removing an element from an array</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'meaning'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'life'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'number'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">42&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'life'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'meaning'</span><span style="color: #007700">];<br />unset(&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'meaning'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">[</span><span style="color: #DD0000">'number'</span><span style="color: #007700">]&nbsp;);<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=1, is_ref=0)=array (
     &#039;life&#039; =&gt; (refcount=1, is_ref=0)=&#039;life&#039;
  )
  </pre></div>
        </div>
       </div>
      </p>
      <p class="para">
       Now, things get interesting if we add the array itself as an element of
       the array, which we do in the next example, in which we also sneak in a
       reference operator, since otherwise PHP would create a copy:
      </p>
      <p class="para">
       <div class="example" id="example-433">
        <p><strong>Example #8 Adding the array itself as an element of it self</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$a&nbsp;</span><span style="color: #007700">=&nbsp;array(&nbsp;</span><span style="color: #DD0000">'one'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">[]&nbsp;=&amp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xdebug_debug_zval</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'a'&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  a: (refcount=2, is_ref=1)=array (
     0 =&gt; (refcount=1, is_ref=0)=&#039;one&#039;,
     1 =&gt; (refcount=2, is_ref=1)=...
  )
  </pre></div>
        </div>
        <div class="example-contents"><p>Or graphically</p></div>
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-loop-array.png" alt="Zvals for an array with a circular reference" width="533" height="144" />
         </div>
        </div>
       </div>
      </p>
      <p class="para">
       You can see that the array variable (<var class="varname">a</var>) as well as the second element
       (<var class="varname">1</var>) now point to a variable container that has a &quot;refcount&quot; of <code class="literal">2</code>. The
       &quot;...&quot; in the display above shows that there is recursion involved, which,
       of course, in this case means that the &quot;...&quot; points back to the original
       array.
      </p>
      <p class="para">
       Just like before, unsetting a variable removes the symbol, and the
       reference count of the variable container it points to is decreased by
       one. So, if we unset variable <var class="varname">$a</var> after running the above code, the
       reference count of the variable container that <var class="varname">$a</var> and element &quot;1&quot; point to
       gets decreased by one, from &quot;2&quot; to &quot;1&quot;. This can be represented as:
      </p>
      <p class="para">
       <div class="example" id="example-434">
        <p><strong>Example #9 Unsetting <var class="varname">$a</var></strong></p>
        <div class="example-contents screen">
  <div class="cdata"><pre>
  (refcount=1, is_ref=1)=array (
     0 =&gt; (refcount=1, is_ref=0)=&#039;one&#039;,
     1 =&gt; (refcount=1, is_ref=1)=...
  )
  </pre></div>
        </div>
        <div class="example-contents"><p>Or graphically</p></div>
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-leak-array.png" alt="Zvals after removal of array with a circular reference demonstrating the memory leak" width="463" height="144" />
         </div>
        </div>
       </div>
      </p>
     </div>
  
     <div class="sect2" id="features.gc.cleanup-problems">
      <h3 class="title">Cleanup Problems</h3>
      <p class="para">
       Although there is no longer a symbol in any scope pointing to this
       structure, it cannot be cleaned up because the array element &quot;1&quot; still
       points to this same array. Because there is no external symbol pointing to
       it, there is no way for a user to clean up this structure; thus you get a
       memory leak. Fortunately, PHP will clean up this data structure at the end
       of the request, but before then, this is taking up valuable space in
       memory. This situation happens often if you&#039;re implementing parsing
       algorithms or other things where you have a child point back at a &quot;parent&quot;
       element. The same situation can also happen with objects of course, where
       it actually is more likely to occur, as objects are always implicitly used
       by reference.
      </p>
      <p class="para">
       This might not be a problem if this only happens once or twice, but if
       there are thousands, or even millions, of these memory losses, this
       obviously starts being a problem. This is especially problematic in long
       running scripts, such as daemons where the request basically never ends,
       or in large sets of unit tests. The latter caused problems while
       running the unit tests for the Template component of the eZ Components
       library. In some cases, it would require over 2 GB of memory, which the
       test server didn&#039;t quite have.
      </p>
     </div>
    </div>
  <hr />
  
  
    <div id="features.gc.collecting-cycles" class="sect1"><hr />
     <h2 class="title">Collecting Cycles</h2>
     <p class="para">
      Traditionally, reference counting memory mechanisms, such as that used
      previously by PHP, fail to address circular reference memory leaks;
      however, as of 5.3.0, PHP implements the synchronous algorithm from the 
      <a href="http://researcher.watson.ibm.com/researcher/files/us-bacon/Bacon01Concurrent.pdf" class="link external">&raquo;&nbsp;Concurrent Cycle Collection in Reference Counted Systems</a>
      paper which addresses that issue.
     </p>
     <p class="para">
      A full explanation of how the algorithm works would be slightly beyond the
      scope of this section, but the basics are explained here. First of all,
      we have to establish a few ground rules. If a refcount is increased, it&#039;s
      still in use and therefore, not garbage. If the refcount is decreased and
      hits zero, the zval can be freed. This means that garbage cycles can only
      be created when a refcount argument is decreased to a non-zero value.
      Secondly, in a garbage cycle, it is possible to discover which parts are
      garbage by checking whether it is possible to decrease their refcount by
      one, and then checking which of the zvals have a refcount of zero. 
     </p>
     <p class="para">
       <div class="mediaobject">
        
        <div class="imageobject">
         <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-gc-algorithm.png" alt="Garbage collection algorithm" width="614" height="814" />
        </div>
       </div>
     </p>
     <p class="para">
      To avoid having to call the checking of garbage cycles with every possible
      decrease of a refcount, the algorithm instead puts all possible roots
      (zvals) in the &quot;root buffer&quot; (marking them &quot;purple&quot;). It also makes sure
      that each possible garbage root ends up in the buffer only once. Only when
      the root buffer is full does the collection mechanism start for all the
      different zvals inside. See step A in the figure above.
     </p>
     <p class="para">
      In step B, the algorithm runs a depth-first search on all possible roots
      to decrease by one the refcounts of each zval it finds, making sure not to
      decrease a refcount on the same zval twice (by marking them as &quot;grey&quot;). In
      step C, the algorithm again runs a depth-first search from each root node,
      to check the refcount of each zval again. If it finds that the refcount is
      zero, the zval is marked &quot;white&quot; (blue in the figure). If it&#039;s larger than
      zero, it reverts the decreasing of the refcount by one with a depth-first
      search from that point on, and they are marked &quot;black&quot; again. In the last
      step (D), the algorithm walks over the root buffer removing the zval roots
      from there, and meanwhile, checks which zvals have been marked &quot;white&quot; in
      the previous step. Every zval marked as &quot;white&quot; will be freed.
     </p>
     <p class="para">
      Now that you have a basic understanding of how the algorithm works, we
      will look back at how this integrates with PHP. By default, PHP&#039;s garbage
      collector is turned on. There is, however, a <var class="filename">php.ini</var>
      setting that allows you to change this:
      <a href="#ini.zend.enable-gc" class="link">zend.enable_gc</a>.
     </p>
     <p class="para">
      When the garbage collector is turned on, the cycle-finding algorithm as
      described above is executed whenever the root buffer runs full. The root
      buffer has a fixed size of 10,000 possible roots (although you can alter
      this by changing the <code class="literal">GC_ROOT_BUFFER_MAX_ENTRIES</code> constant in
      <code class="literal">Zend/zend_gc.c</code> in the PHP source code, and re-compiling
      PHP). When the garbage collector is turned off, the cycle-finding
      algorithm will never run. However, possible roots will always be recorded
      in the root buffer, no matter whether the garbage collection mechanism has
      been activated with this configuration setting.
     </p>
     <p class="para">
      If the root buffer becomes full with possible roots while the garbage
      collection mechanism is turned off, further possible roots will simply not
      be recorded. Those possible roots that are not recorded will never be
      analyzed by the algorithm. If they were part of a circular reference
      cycle, they would never be cleaned up and would create a memory leak. 
     </p>
     <p class="para">
      The reason why possible roots are recorded even if the mechanism has been
      disabled is because it&#039;s faster to record possible roots than to have to
      check whether the mechanism is turned on every time a possible root could
      be found. The garbage collection and analysis mechanism itself, however,
      can take a considerable amount of time.
     </p>
     <p class="para">
      Besides changing the <a href="#ini.zend.enable-gc" class="link">zend.enable_gc</a> configuration
      setting, it is also possible to turn the garbage collecting mechanism on
      and off by calling <span class="function"><a href="#function.gc-enable" class="function">gc_enable()</a></span> or
      <span class="function"><a href="#function.gc-disable" class="function">gc_disable()</a></span> respectively.  Calling those functions has
      the same effect as turning on or off the mechanism with the configuration
      setting. It is also possible to force the collection of cycles even if the
      possible root buffer is not full yet. For this, you can use the
      <span class="function"><a href="#function.gc-collect-cycles" class="function">gc_collect_cycles()</a></span> function. This function will return
      how many cycles were collected by the algorithm. 
     </p>
     <p class="para">
      The rationale behind the ability to turn the mechanism on and off, and to
      initiate cycle collection yourself, is that some parts of your application
      could be highly time-sensitive. In those cases, you might not want the
      garbage collection mechanism to kick in. Of course, by turning off the
      garbage collection for certain parts of your application, you do risk
      creating memory leaks because some possible roots might not fit into the
      limited root buffer. Therefore, it is probably wise to call
      <span class="function"><a href="#function.gc-collect-cycles" class="function">gc_collect_cycles()</a></span> just before you call
      <span class="function"><a href="#function.gc-disable" class="function">gc_disable()</a></span> to free up the memory that could be lost
      through possible roots that are already recorded in the root buffer. This
      then leaves an empty buffer so that there is more space for storing
      possible roots while the cycle collecting mechanism is turned off.
     </p>
    </div>
  <hr />
  
  
    <div id="features.gc.performance-considerations" class="sect1"><hr />
     <h2 class="title">Performance Considerations</h2>
     <p class="para">
      We have already mentioned in the previous section that simply collecting the
      possible roots had a very tiny performance impact, but this is when you
      compare PHP 5.2 against PHP 5.3. Although the recording of possible roots
      compared to not recording them at all, like in PHP 5.2, is slower, other
      changes to the PHP runtime in PHP 5.3 prevented this particular performance
      loss from even showing.
     </p>
     <p class="para">
      There are two major areas in which performance is affected. The first
      area is reduced memory usage, and the second area is run-time delay when
      the garbage collection mechanism performs its memory cleanups. We will
      look at both of those issues.
     </p>
  
     <div class="sect2" id="features.gc.performance-considerations.reduced-mem">
      <h3 class="title">Reduced Memory Usage</h3>
      <p class="para">
       First of all, the whole reason for implementing the garbage collection
       mechanism is to reduce memory usage by cleaning up circular-referenced
       variables as soon as the prerequisites are fulfilled. In PHP&#039;s
       implementation, this happens as soon as the root-buffer is full, or when
       the function <span class="function"><a href="#function.gc-collect-cycles" class="function">gc_collect_cycles()</a></span> is called. In
       the graph below, we display the memory usage of the script below,
       in both PHP 5.2 and PHP 5.3, excluding the base memory that PHP
       itself uses when starting up.
      </p>
      <p class="para">
       <div class="example" id="example-435">
        <p><strong>Example #1 Memory usage example</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'3.14159265359'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$baseMemory&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">memory_get_usage</span><span style="color: #007700">();<br /><br />for&nbsp;(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">100000</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">self&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">%&nbsp;</span><span style="color: #0000BB">500&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">sprintf</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'%8d:&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">memory_get_usage</span><span style="color: #007700">()&nbsp;-&nbsp;</span><span style="color: #0000BB">$baseMemory</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
        <div class="mediaobject">
         
         <div class="imageobject">
          <img src="php-bigxhtml-data/images/12f37b1c6963c1c5c18f30495416a197-gc-benchmark.png" alt="Comparison of memory usage between PHP 5.2 and PHP 5.3" width="850" height="480" />
         </div>
        </div>
       </div>
      </p>
      <p class="para">
       In this very academic example, we are creating an object in which a
       property is set to point back to the object itself. When the <var class="varname">$a</var> variable
       in the script is re-assigned in the next iteration of the loop, a memory
       leak would typically occur. In this case, two zval-containers are leaked
       (the object zval, and the property zval), but only one possible root is
       found: the variable that was unset. When the root-buffer is full after
       10,000 iterations (with a total of 10,000 possible roots), the garbage
       collection mechanism kicks in and frees the memory associated with those
       possible roots. This can very clearly be seen in the jagged memory-usage
       graph for PHP 5.3. After each 10,000 iterations, the mechanism kicks in
       and frees the memory associated with the circular referenced variables.
       The mechanism itself does not have to do a whole lot of work in this
       example, because the structure that is leaked is extremely simple. From
       the diagram, you see that the maximum memory usage in PHP 5.3 is about 9
       Mb, whereas in PHP 5.2 the memory usage keeps increasing.
      </p>
     </div>
  
     <div class="sect2" id="features.gc.performance-considerations.slowdowns">
      <h3 class="title">Run-Time Slowdowns</h3>
      <p class="para">
       The second area where the garbage collection mechanism influences
       performance is the time taken when the garbage collection mechanism
       kicks in to free the &quot;leaked&quot; memory. In order to see how much this is,
       we slightly modify the previous script to allow for a larger number of
       iterations and the removal of the intermediate memory usage figures. The
       second script is here:
      </p>
      <p class="para">
       <div class="example" id="example-436">
        <p><strong>Example #2 GC performance influences</strong></p>
        <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'3.14159265359'</span><span style="color: #007700">;<br />}<br /><br />for&nbsp;(&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">1000000</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$i</span><span style="color: #007700">++&nbsp;)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">self&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">memory_get_peak_usage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
        </div>
  
       </div>
      </p>
      <p class="para">
       We will run this script two times, once with the
       <a href="#ini.zend.enable-gc" class="link">zend.enable_gc</a> setting turned
       on, and once with it turned off:
      </p>
      <p class="para">
       <div class="example" id="example-437">
        <p><strong>Example #3 Running the above script</strong></p>
        <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">time php -dzend.enable_gc=0 -dmemory_limit=-1 -n example2.php
  # and
  time php -dzend.enable_gc=1 -dmemory_limit=-1 -n example2.php</pre>
  </div>
        </div>
  
       </div>
      </p>
      <p class="para">
       On my machine, the first command seems to take consistently about 10.7
       seconds, whereas the second command takes about 11.4 seconds. This is a
       slowdown of about 7%. However, the maximum amount of memory used by the
       script is reduced by 98% from 931Mb to 10Mb. This benchmark is not very
       scientific, or even representative of real-life applications, but it
       does demonstrate the memory usage benefits that this garbage collection
       mechanism provides. The good thing is that the slowdown is always the
       same 7%, for this particular script, while the memory saving
       capabilities save more and more memory as more circular references are
       found during script execution.
      </p>
     </div>
  
     <div class="sect2" id="features.gc.performance-considerations.internal-stats">
      <h3 class="title">PHP&#039;s Internal GC Statistics</h3>
      <p class="para">
       It is possible to coax a little bit more information about how the
       garbage collection mechanism is run from within PHP. But in order to do
       so, you will have to re-compile PHP to enable the benchmark and
       data-collecting code. You will have to set the <code class="literal">CFLAGS</code>
       environment variable to <code class="literal">-DGC_BENCH=1</code> prior to running
       <code class="literal">./configure</code> with your desired options. The following
       sequence should do the trick:
      </p>
      <p class="para">
       <div class="example" id="example-438">
        <p><strong>Example #4 Recompiling PHP to enable GC benchmarking</strong></p>
        <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">export CFLAGS=-DGC_BENCH=1
  ./config.nice
  make clean
  make</pre>
  </div>
        </div>
  
       </div>
      </p>
      <p class="para">
       When you run the above example code again with the newly built PHP
       binary, you will see the following being shown after PHP has finished
       execution:
      </p>
      <p class="para">
       <div class="example" id="example-439">
        <p><strong>Example #5 GC statistics</strong></p>
        <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">GC Statistics
  -------------
  Runs:               110
  Collected:          2072204
  Root buffer length: 0
  Root buffer peak:   10000
  
        Possible            Remove from  Marked
          Root    Buffered     buffer     grey
        --------  --------  -----------  ------
  ZVAL   7175487   1491291    1241690   3611871
  ZOBJ  28506264   1527980     677581   1025731</pre>
  </div>
        </div>
  
       </div>
      </p>
      <p class="para">
       The most informative statistics are displayed in the first block. You
       can see here that the garbage collection mechanism ran 110 times, and in
       total, more than 2 million memory allocations were freed during those
       110 runs. As soon as the garbage collection mechanism has run at least
       one time, the &quot;Root buffer peak&quot; is always 10000.
      </p>
     </div>
  
     <div class="sect2" id="features.gc.performance-considerations.conclusion">
      <h3 class="title">Conclusion</h3>
      <p class="para">
       In general the garbage collector in PHP will only cause a slowdown when the
       cycle collecting algorithm actually runs, whereas in normal (smaller)
       scripts there should be no performance hit at all.
      </p>
      <p class="para">
       However, in the cases where the cycle collection mechanism does run for
       normal scripts, the memory reduction it will provide allows more of
       those scripts to run concurrently on your server, since not so much
       memory is used in total.
      </p>
      <p class="para">
       The benefits are most apparent for longer-running scripts, such as
       lengthy test suites or daemon scripts. Also, for <a href="http://gtk.php.net/" class="link external">&raquo;&nbsp;PHP-GTK</a> applications
       that generally tend to run longer than scripts for the Web, the new
       mechanism should make quite a bit of a difference regarding memory leaks
       creeping in over time.
      </p>
     </div>
    </div>
  <hr />
  
   </div>
  
  <hr />
  
  
  
  
    
  
  <div id="features.dtrace" class="chapter"><hr />
   <h1>DTrace Dynamic Tracing</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#features.dtrace.introduction">Introduction to PHP and DTrace</a></li><li><a href="#features.dtrace.dtrace">Using PHP and DTrace</a></li><li><a href="#features.dtrace.systemtap">Using SystemTap with PHP DTrace Static Probes</a></li></ul>
  
  
   <div id="features.dtrace.introduction" class="sect1"><hr />
    <h2 class="title">Introduction to PHP and DTrace</h2>
  
    <p class="para">
     DTrace is an always-available, low overhead, tracing framework
     available on a number of platforms including Solaris, macOS,
     Oracle Linux and BSD.  DTrace can trace operating system behavior
     and user program execution. It can display argument values and be
     used to infer performance statistics.  Probes are monitored by user
     created scripts written in the DTrace D scripting language. This
     allows efficient analysis of data points.
    </p>
  
    <p class="para">
     PHP probes that are not being actively monitored by a user&#039;s DTrace
     D script do not contain instrumented code so there is no
     performance degradation during normal application execution.
     Probes that are being monitored incur an overhead low enough to
     generally allow DTrace monitoring on live production systems.
    </p>
  
    <p class="para">
     PHP incorporates &quot;User-level Statically Defined Tracing&quot; (USDT)
     probes that are triggered at runtime. For example, when a D script
     is monitoring PHP&#039;s <code class="literal">function-entry</code> probe, then,
     every time a PHP script function is called, this probe is fired and
     the associated D script action code is executed.  This action code
     could, for example, print probe arguments such as the source file
     location of the PHP function. Or the action could aggregate data
     such as the number of times each function is called.
    </p>
  
    <p class="para">
     Only the PHP USDT probes are described here.  Refer to external
     general and operating system-specific DTrace literature to see how
     DTrace can be used to trace arbitrary functions, and how it can be
     used to trace operating system behavior.  Note not all DTrace
     features are available in all DTrace implementations.
    </p>
  
    <p class="para">
     DTrace static probes are included in PHP 5.4.  Prior to this they
     were available via a <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a> extension, which is now
     obsolete.
    </p>
  
    <p class="para">
     The static DTrace probes in PHP can alternatively be used with the
     SystemTap facility on some Linux distributions.
    </p>
   </div>
  <hr />
  
  
   <div id="features.dtrace.dtrace" class="sect1"><hr />
    <h2 class="title">Using PHP and DTrace</h2>
    <p class="para">
     PHP can be configured with DTrace static probes on platforms that
     support DTrace Dynamic Tracing.
    </p>
  
    <div class="sect2" id="features.dtrace.install">
     <h3 class="title">Configuring PHP for DTrace Static Probes</h3>
  
     <p class="para">
      Refer to external platform specific documentation for enabling
      operating system DTrace support.  For example, on Oracle Linux
      boot a UEK3 kernel and do:
  
      <div class="informalexample">
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  #&nbsp;modprobe&nbsp;fasttrap<br />#&nbsp;chmod&nbsp;666&nbsp;/dev/dtrace/helper</span>
  </code></div>
       </div>
  
      </div>
     </p>
     <p class="para">
      Instead of using <code class="literal">chmod</code>, you could instead use an
      ACL package rule to limit device access to a specific user.
     </p>
  
     <p class="para">
      Build PHP with the <code class="literal">--enable-dtrace</code> configuration parameter:
      <div class="informalexample">
       <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  #&nbsp;./configure&nbsp;--enable-dtrace&nbsp;...<br />#&nbsp;make<br />#&nbsp;make&nbsp;install</span>
  </code></div>
       </div>
  
      </div>
     </p>
     <p class="para">
      This enables the static probes in core PHP.  Any PHP extensions
      that provide their own probes should be built separately as shared
      extensions.
     </p>
    </div>
  
    <div class="sect2" id="features.dtrace.static-probes">
    <h3 class="title">DTrace Static Probes in Core PHP</h3>
    <table class="doctable table">
     <caption><strong>The following static probes are available in PHP</strong></caption>
     
      <thead>
       <tr>
        <th>Probe Name</th>
        <th>Probe Description</th>
        <th>Probe Arguments</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td><code class="literal">request-startup</code></td>
        <td>Fires when a request starts.</td>
        <td>char *<var class="varname">file</var>, char *<var class="varname">request_uri</var>, char *<var class="varname">request_method</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">request-shutdown</code></td>
        <td>Fires when a request shutdown.</td>
        <td>char *<var class="varname">file</var>, char *<var class="varname">request_uri</var>, char *<var class="varname">request_method</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">compile-file-entry</code></td>
        <td>Fires when the compilation of a script starts.</td>
        <td>char *<var class="varname">compile_file</var>, char *<var class="varname">compile_file_translated</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">compile-file-return</code></td>
        <td>Fires when the compilation of a script finishes.</td>
        <td>char *<var class="varname">compile_file</var>, char *<var class="varname">compile_file_translated</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">execute-entry</code></td>
        <td>Fires when an opcode array is to be executed.  For
        example, it fires on function calls, includes, and generator
        resumes.</td>
        <td>char *<var class="varname">request_file</var>, int <var class="varname">lineno</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">execute-return</code></td>
        <td>Fires after execution of an opcode array.</td>
        <td>char *<var class="varname">request_file</var>, int <var class="varname">lineno</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">function-entry</code></td>
        <td>Fires when the PHP engine enters a PHP function or method call.</td>
        <td>char *<var class="varname">function_name</var>, char *<var class="varname">request_file</var>, int <var class="varname">lineno</var>, char *<var class="varname">classname</var>, char *<var class="varname">scope</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">function-return</code></td>
        <td>Fires when the PHP engine returns from a PHP function or method call.</td>
        <td>char *<var class="varname">function_name</var>, char *<var class="varname">request_file</var>, int <var class="varname">lineno</var>, char *<var class="varname">classname</var>, char *<var class="varname">scope</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">exception-thrown</code></td>
        <td>Fires when an exception is thrown.</td>
        <td>char *<var class="varname">classname</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">exception-caught</code></td>
        <td>Fires when an exception is caught.</td>
        <td>char *<var class="varname">classname</var></td>
       </tr>
  
       <tr>
        <td><code class="literal">error</code></td>
        <td>Fires when an error occurs, regardless of the <a href="#ini.error-reporting" class="link">error_reporting</a> level.</td>
        <td>char *<var class="varname">errormsg</var>, char *<var class="varname">request_file</var>, int <var class="varname">lineno</var></td>
       </tr>
  
      </tbody>
     
    </table>
  
    <p class="para">
     PHP extensions may also have additional static probes.
    </p>
    </div>
  
    <div class="sect2" id="features.dtrace.list-probes">
     <h3 class="title">Listing DTrace Static Probes in PHP</h3>
     <p class="para">
      To list available probes, start a PHP process and then run:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  # dtrace -l
  </pre></div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      The output will be similar to:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
     ID   PROVIDER            MODULE                          FUNCTION NAME
     [ . . . ]
      4   php15271               php               dtrace_compile_file compile-file-entry
      5   php15271               php               dtrace_compile_file compile-file-return
      6   php15271               php                        zend_error error
      7   php15271               php  ZEND_CATCH_SPEC_CONST_CV_HANDLER exception-caught
      8   php15271               php     zend_throw_exception_internal exception-thrown
      9   php15271               php                 dtrace_execute_ex execute-entry
     10   php15271               php           dtrace_execute_internal execute-entry
     11   php15271               php                 dtrace_execute_ex execute-return
     12   php15271               php           dtrace_execute_internal execute-return
     13   php15271               php                 dtrace_execute_ex function-entry
     14   php15271               php                 dtrace_execute_ex function-return
     15   php15271               php              php_request_shutdown request-shutdown
     16   php15271               php               php_request_startup request-startup
  </pre></div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      The Provider column values consist of <code class="literal">php</code> and
      the process id of the currently running PHP process.
     </p>
  
     <p class="para">
      If the Apache web server is running, the module name might be, for
      example, <var class="filename">libphp5.so</var>, and there would be
      multiple blocks of listings, one per running Apache process.
     </p>
  
     <p class="para">
      The Function column refers to PHP&#039;s internal C implementation
      function names where each provider is located.
     </p>
  
     <p class="para">
      If a PHP process is not running, then no PHP probes will be shown.
     </p>
    </div>
  
    <div class="sect2" id="features.dtrace.examples">
     <h3 class="title">DTrace with PHP Example</h3>
     <p class="para">
      This example shows the basics of the DTrace D scripting language.
      <div class="example" id="example-440">
       <p><strong>Example #1 <var class="filename">all_probes.d</var> for tracing all PHP Static Probes with DTrace</strong></p>
       <div class="example-contents">
  <div class="cdata"><pre>
  #!/usr/sbin/dtrace -Zs
  
  #pragma D option quiet
  
  php*:::compile-file-entry
  {
      printf(&quot;PHP compile-file-entry\n&quot;);
      printf(&quot;  compile_file              %s\n&quot;, copyinstr(arg0));
      printf(&quot;  compile_file_translated   %s\n&quot;, copyinstr(arg1));
  }
  
  php*:::compile-file-return
  {
      printf(&quot;PHP compile-file-return\n&quot;);
      printf(&quot;  compile_file              %s\n&quot;, copyinstr(arg0));
      printf(&quot;  compile_file_translated   %s\n&quot;, copyinstr(arg1));
  }
  
  php*:::error
  {
      printf(&quot;PHP error\n&quot;);
      printf(&quot;  errormsg                  %s\n&quot;, copyinstr(arg0));
      printf(&quot;  request_file              %s\n&quot;, copyinstr(arg1));
      printf(&quot;  lineno                    %d\n&quot;, (int)arg2);
  }
  
  php*:::exception-caught
  {
      printf(&quot;PHP exception-caught\n&quot;);
      printf(&quot;  classname                 %s\n&quot;, copyinstr(arg0));
  }
  
  php*:::exception-thrown
  {
      printf(&quot;PHP exception-thrown\n&quot;);
      printf(&quot;  classname                 %s\n&quot;, copyinstr(arg0));
  }
  
  php*:::execute-entry
  {
      printf(&quot;PHP execute-entry\n&quot;);
      printf(&quot;  request_file              %s\n&quot;, copyinstr(arg0));
      printf(&quot;  lineno                    %d\n&quot;, (int)arg1);
  }
  
  php*:::execute-return
  {
      printf(&quot;PHP execute-return\n&quot;);
      printf(&quot;  request_file              %s\n&quot;, copyinstr(arg0));
      printf(&quot;  lineno                    %d\n&quot;, (int)arg1);
  }
  
  php*:::function-entry
  {
      printf(&quot;PHP function-entry\n&quot;);
      printf(&quot;  function_name             %s\n&quot;, copyinstr(arg0));
      printf(&quot;  request_file              %s\n&quot;, copyinstr(arg1));
      printf(&quot;  lineno                    %d\n&quot;, (int)arg2);
      printf(&quot;  classname                 %s\n&quot;, copyinstr(arg3));
      printf(&quot;  scope                     %s\n&quot;, copyinstr(arg4));
  }
  
  php*:::function-return
  {
      printf(&quot;PHP function-return\n&quot;);
      printf(&quot;  function_name             %s\n&quot;, copyinstr(arg0));
      printf(&quot;  request_file              %s\n&quot;, copyinstr(arg1));
      printf(&quot;  lineno                    %d\n&quot;, (int)arg2);
      printf(&quot;  classname                 %s\n&quot;, copyinstr(arg3));
      printf(&quot;  scope                     %s\n&quot;, copyinstr(arg4));
  }
  
  php*:::request-shutdown
  {
      printf(&quot;PHP request-shutdown\n&quot;);
      printf(&quot;  file                      %s\n&quot;, copyinstr(arg0));
      printf(&quot;  request_uri               %s\n&quot;, copyinstr(arg1));
      printf(&quot;  request_method            %s\n&quot;, copyinstr(arg2));
  }
  
  php*:::request-startup
  {
      printf(&quot;PHP request-startup\n&quot;);
      printf(&quot;  file                      %s\n&quot;, copyinstr(arg0));
      printf(&quot;  request_uri               %s\n&quot;, copyinstr(arg1));
      printf(&quot;  request_method            %s\n&quot;, copyinstr(arg2));
  }
  </pre></div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      This script uses the <code class="literal">-Z</code> option to
      <var class="filename">dtrace</var>, allowing it to be run when there is no
      PHP process executing.  If this option were omitted the script
      would immediately terminate because it knows none of the probes to
      be monitored are in existence.
     </p>
  
     <p class="para">
      The script traces all core PHP static probe points throughout the
      duration of a running PHP script. Run the D script:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  # ./all_probes.d
  </pre></div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      Run a PHP script or application.  The monitoring D script will
      output each probe&#039;s arguments as it fires.
     </p>
  
     <p class="para">
      When monitoring is complete, the D script can be terminated with a
      <code class="literal">^C</code>.
     </p>
  
     <p class="para">
      On multi-CPU machines the probe ordering might not appear to be
      sequential. This depends on which CPU was processing the probes,
      and how threads migrate across CPUs.  Displaying probe time stamps
      will help reduce confusion, for example:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  php*:::function-entry
  {
        printf(&quot;%lld: PHP function-entry &quot;, walltimestamp);
        [ . . .]
  }
  </pre></div>
       </div>
  
      </div>
     </p>
    </div>
  
    <div class="sect2" id="features.dtrace.references">
     <h3 class="title">See Also</h3>
     <ul class="simplelist">
      <li class="member"><a href="#oci8.dtrace" class="link">OCI8 and DTrace Dynamic Tracing</a></li>
     </ul>
    </div>
   </div>
  <hr />
  
  
   <div id="features.dtrace.systemtap" class="sect1"><hr />
    <h2 class="title">Using SystemTap with PHP DTrace Static Probes</h2>
    <p class="para">
     On some Linux distributions, the SystemTap tracing utility can be
     used to trace PHP&#039;s static DTrace probes.  This is available with
     PHP 5.4.20 and PHP 5.5.
    </p>
  
    <div class="sect2" id="features.dtrace.systemtap-install">
     <h3 class="title">Installing PHP with SystemTap</h3>
  
     <p class="para">
      Install the SystemTap SDT development package:
      <div class="informalexample">
       <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># yum install systemtap-sdt-devel</pre>
  </div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      Install PHP with the DTrace probes enabled:
      <div class="informalexample">
       <div class="example-contents">
  <div class="shellcode"><pre class="shellcode"># ./configure --enable-dtrace ...
  # make</pre>
  </div>
       </div>
  
      </div>
     </p>
    </div>
  
    <div class="sect2" id="features.dtrace.systemtap-list-probes">
     <h3 class="title">Listing Static Probes with SystemTap</h3>
  
     <p class="para">
      The static probes in PHP can be listed using <var class="filename">stap</var>:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  # stap -l &#039;process.provider(&quot;php&quot;).mark(&quot;*&quot;)&#039; -c &#039;sapi/cli/php -i&#039;
  </pre></div>
       </div>
  
      </div>
     </p>
  
     <p class="para">
      This outputs:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;compile__file__entry&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;compile__file__return&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;error&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;exception__caught&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;exception__thrown&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;execute__entry&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;execute__return&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;function__entry&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;function__return&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;request__shutdown&quot;)
  process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;request__startup&quot;)
  </pre></div>
       </div>
  
      </div>
     </p>
    </div>
  
    <div class="sect2" id="features.dtrace.systemtap-examples">
     <h3 class="title">SystemTap with PHP Example</h3>
  
     <p class="para">
      <div class="example" id="example-441">
       <p><strong>Example #1 <var class="filename">all_probes.stp</var> for tracing all PHP Static Probes with SystemTap</strong></p>
       <div class="example-contents">
  <div class="shellcode"><pre class="shellcode">probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;compile__file__entry&quot;) {
      printf(&quot;Probe compile__file__entry\n&quot;);
      printf(&quot;  compile_file %s\n&quot;, user_string($arg1));
      printf(&quot;  compile_file_translated %s\n&quot;, user_string($arg2));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;compile__file__return&quot;) {
      printf(&quot;Probe compile__file__return\n&quot;);
      printf(&quot;  compile_file %s\n&quot;, user_string($arg1));
      printf(&quot;  compile_file_translated %s\n&quot;, user_string($arg2));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;error&quot;) {
      printf(&quot;Probe error\n&quot;);
      printf(&quot;  errormsg %s\n&quot;, user_string($arg1));
      printf(&quot;  request_file %s\n&quot;, user_string($arg2));
      printf(&quot;  lineno %d\n&quot;, $arg3);
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;exception__caught&quot;) {
      printf(&quot;Probe exception__caught\n&quot;);
      printf(&quot;  classname %s\n&quot;, user_string($arg1));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;exception__thrown&quot;) {
      printf(&quot;Probe exception__thrown\n&quot;);
      printf(&quot;  classname %s\n&quot;, user_string($arg1));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;execute__entry&quot;) {
      printf(&quot;Probe execute__entry\n&quot;);
      printf(&quot;  request_file %s\n&quot;, user_string($arg1));
      printf(&quot;  lineno %d\n&quot;, $arg2);
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;execute__return&quot;) {
      printf(&quot;Probe execute__return\n&quot;);
      printf(&quot;  request_file %s\n&quot;, user_string($arg1));
      printf(&quot;  lineno %d\n&quot;, $arg2);
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;function__entry&quot;) {
      printf(&quot;Probe function__entry\n&quot;);
      printf(&quot;  function_name %s\n&quot;, user_string($arg1));
      printf(&quot;  request_file %s\n&quot;, user_string($arg2));
      printf(&quot;  lineno %d\n&quot;, $arg3);
      printf(&quot;  classname %s\n&quot;, user_string($arg4));
      printf(&quot;  scope %s\n&quot;, user_string($arg5));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;function__return&quot;) {
      printf(&quot;Probe function__return: %s\n&quot;, user_string($arg1));
      printf(&quot; function_name %s\n&quot;, user_string($arg1));
      printf(&quot;  request_file %s\n&quot;, user_string($arg2));
      printf(&quot;  lineno %d\n&quot;, $arg3);
      printf(&quot;  classname %s\n&quot;, user_string($arg4));
      printf(&quot;  scope %s\n&quot;, user_string($arg5));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;request__shutdown&quot;) {
      printf(&quot;Probe request__shutdown\n&quot;);
      printf(&quot;  file %s\n&quot;, user_string($arg1));
      printf(&quot;  request_uri %s\n&quot;, user_string($arg2));
      printf(&quot;  request_method %s\n&quot;, user_string($arg3));
  }
  probe process(&quot;sapi/cli/php&quot;).provider(&quot;php&quot;).mark(&quot;request__startup&quot;) {
      printf(&quot;Probe request__startup\n&quot;);
      printf(&quot;  file %s\n&quot;, user_string($arg1));
      printf(&quot;  request_uri %s\n&quot;, user_string($arg2));
      printf(&quot;  request_method %s\n&quot;, user_string($arg3));
  }</pre>
  </div>
       </div>
  
      </div>
     </p>
     <p class="para">
      The above script will trace all core PHP static probe points
      throughout the duration of a running PHP script:
      <div class="informalexample">
       <div class="example-contents">
  <div class="cdata"><pre>
  # stap -c &#039;sapi/cli/php test.php&#039; all_probes.stp
  </pre></div>
       </div>
  
      </div>
     </p>
    </div>
   </div>
  <hr />
  
  </div>
  
  <hr />
  
  
  
  
   <ul class="chunklist chunklist_book"><li><a href="#features.http-auth">HTTP authentication with PHP</a></li><li><a href="#features.cookies">Cookies</a></li><li><a href="#features.sessions">Sessions</a></li><li><a href="#features.xforms">Dealing with XForms</a></li><li><a href="#features.file-upload">Handling file uploads</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#features.file-upload.post-method">POST method uploads</a></li><li><a href="#features.file-upload.errors">Error Messages Explained</a></li><li><a href="#features.file-upload.common-pitfalls">Common Pitfalls</a></li><li><a href="#features.file-upload.multiple">Uploading multiple files</a></li><li><a href="#features.file-upload.put-method">PUT method support</a></li><li><a href="#features.file-upload.errors.seealso">See Also</a></li></ul></li><li><a href="#features.remote-files">Using remote files</a></li><li><a href="#features.connection-handling">Connection handling</a></li><li><a href="#features.persistent-connections">Persistent Database Connections</a></li><li><a href="#features.safe-mode">Safe Mode</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#ini.sect.safe-mode">Security and Safe Mode</a></li><li><a href="#features.safe-mode.functions">Functions restricted/disabled by safe mode</a></li></ul></li><li><a href="#features.commandline">Command line usage</a> — Using PHP from the command line<ul class="chunklist chunklist_book chunklist_children"><li><a href="#features.commandline.introduction">Introduction</a></li><li><a href="#features.commandline.differences">Differences to other SAPIs</a></li><li><a href="#features.commandline.options">Options</a> — Command line options</li><li><a href="#features.commandline.usage">Usage</a> — Executing PHP files</li><li><a href="#features.commandline.io-streams">I/O streams</a> — Input/output streams</li><li><a href="#features.commandline.interactive">Interactive shell</a></li><li><a href="#features.commandline.webserver">Built-in web server</a></li><li><a href="#features.commandline.ini">INI settings</a></li></ul></li><li><a href="#features.gc">Garbage Collection</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#features.gc.refcounting-basics">Reference Counting Basics</a></li><li><a href="#features.gc.collecting-cycles">Collecting Cycles</a></li><li><a href="#features.gc.performance-considerations">Performance Considerations</a></li></ul></li><li><a href="#features.dtrace">DTrace Dynamic Tracing</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#features.dtrace.introduction">Introduction to PHP and DTrace</a></li><li><a href="#features.dtrace.dtrace">Using PHP and DTrace</a></li><li><a href="#features.dtrace.systemtap">Using SystemTap with PHP DTrace Static Probes</a></li></ul></li></ul></div>
  <hr />
  
  
   <div id="funcref" class="set"><hr />
    <h1 class="title">Function Reference</h1>
    <div class="info">
     <div class="abstract">
      <p class="para">
       <div class="tip"><strong class="tip">Tip</strong>
        <p class="simpara">
         See also <a href="#extensions" class="xref">Extension List/Categorization</a>.
        </p>
       </div>
      </p>
     </div>
    </div>
  
    <div id="refs.basic.php" class="set"><hr />
     <h1 class="title">Affecting PHP&#039;s Behaviour</h1>
     
  
  
  <div id="book.apc" class="book"><hr />
   <h1 class="title">Alternative PHP Cache</h1>
   
  
   <div id="intro.apc" class="preface"><hr />
    <h1 class="title">Introduction</h1>
    <p class="para">
     The Alternative PHP Cache (APC) is a free and open opcode cache for PHP.
     Its goal is to provide a free, open, and robust framework for
     caching and optimizing PHP intermediate code.
    </p>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="simpara">
      This extension is considered unmaintained and dead. However, the source code for
  this extension is still available within <acronym title="PHP Extension and Application Repository">PECL</acronym>
  <acronym>GIT</acronym> here:  https://git.php.net/?p=pecl/caching/apc.git.
     </p>
    </div>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      Alternatives to this extension are <a href="#book.opcache" class="link">OPcache</a>, <a href="#book.apcu" class="link">APCu</a>,
      <a href="#book.wincache" class="link">Windows Cache for PHP</a> and the <a href="#session.upload-progress" class="link">Session Upload Progress API</a>.
     </p>
    </p></blockquote>
   </div>
  <hr />
  
  
   
  
  
  <div id="apc.setup" class="chapter"><hr />
   <h1>Installing/Configuring</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#apc.requirements">Requirements</a></li><li><a href="#apc.installation">Installation</a></li><li><a href="#apc.configuration">Runtime Configuration</a></li><li><a href="#apc.resources">Resource Types</a></li></ul>
  
  
   <div id="apc.requirements" class="section"><hr />
    <h2 class="title">Requirements</h2>
    <p class="para">No external libraries are needed to build this extension.</p>
   </div>
  <hr />
  
  
   <div id="apc.installation" class="section"><hr />
    <h2 class="title">Installation</h2>
    <p class="para">
     This <a href="https://pecl.php.net/" class="link external">&raquo;&nbsp;PECL</a> extension
  is not bundled with PHP.
    </p>
    <p class="para">
     Information for installing this PECL extension may be
  found in the manual chapter titled <a href="#install.pecl" class="link">Installation
  of PECL extensions</a>. Additional information such as new releases,
  downloads, source files, maintainer information, and a CHANGELOG, can be
  located here: 
     <a href="https://pecl.php.net/package/apc" class="link external">&raquo;&nbsp;https://pecl.php.net/package/apc</a>.
    </p>
    <p class="para">
     A <acronym title="Dynamic Link Library">DLL</acronym> for this
  <acronym title="PHP Extension and Application Repository">PECL</acronym> extension is currently unavailable. See also the
  <a href="#install.windows.legacy.building" class="link">building on Windows</a>
  section.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      On Windows, APC needs a temp path to exist, and be
      writable by the web server.  It checks the TMP, TEMP 
      and USERPROFILE environment variables in that order
      and finally tries the WINDOWS directory if none of
      those are set.
     </span>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      For more in-depth, highly technical implementation details, see the
      <a href="https://git.php.net/?p=pecl/caching/apc.git;a=blob;f=TECHNOTES.txt" class="link external">&raquo;&nbsp;
       developer-supplied TECHNOTES file
      </a>.
     </span>
    </p></blockquote>
   </div>
  <hr />
  
  
   
  
  <div id="apc.configuration" class="section"><hr />
   <h2 class="title">Runtime Configuration</h2>
   <p class="simpara">
  The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
  </p>
   <p class="para">
    Although the default APC settings are fine for many installations, serious
    users should consider tuning the following parameters.
   </p>
   <p class="para">
    There are two primary decisions to be made configuring APC.  First,
    how much memory is going to be allocated to APC; and second, whether APC
    will check if a file has been modified on every request.  The two ini 
    directives that control these settings are <code class="literal">apc.shm_size</code>
    and <code class="literal">apc.stat</code>, respectively.  Read the sections on these
    two directive carefully below.
   </p>
   <p class="para">
    Once the server is running, the <code class="literal">apc.php</code> script that
    is bundled with the extension should be copied somewhere into the docroot and
    viewed with a browser as it provides a detailed analysis of the internal 
    workings of APC.  If GD is enabled in PHP, it will even display some
    interesting graphs.  The first thing to ensure, of course, is that it is
    actually caching files.  If APC is working, the <code class="literal">Cache full count
    </code> number (on the left) will display the number of times the cache
    has reached maximum capacity and has had to forcefully clean any entries that
    haven&#039;t been accessed in the last <code class="literal">apc.ttl</code> seconds. This
    number is minimized in a well-configured cache.  If the cache is constantly
    being filled, and thusly forcefully freed, the resulting churning will have
    disparaging effects on script performance.  The easiest way to minimize this 
    number is to allocate more memory for APC.  Barring that, the <code class="literal">apc.filters
    </code> ought to be used to cache fewer scripts.
   </p>
   <p class="para">
    When APC is compiled with mmap support (Memory Mapping), it will use only one 
    memory segment, unlike when APC is built with SHM (SysV Shared Memory) support 
    that uses multiple memory segments. MMAP does not have a maximum limit like SHM 
    does in <code class="literal">/proc/sys/kernel/shmmax</code>. In general MMAP support is 
    recommended because it will reclaim the memory faster when the webserver is 
    restarted and all in all reduces memory allocation impact at startup.
   </p>
   <p class="para">
    <table class="doctable table">
     <caption><strong>APC configuration options</strong></caption>
     
      <thead>
       <tr>
        <th>Name</th>
        <th>Default</th>
        <th>Changeable</th>
        <th>Changelog</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td><a href="#ini.apc.enabled" class="link">apc.enabled</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>PHP_INI_SYSTEM in APC 2. PHP_INI_ALL in APC &lt;= 3.0.12.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.shm-segments" class="link">apc.shm_segments</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.shm-size" class="link">apc.shm_size</a></td>
        <td>&quot;32M&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.shm-strings-buffer" class="link">apc.shm_strings_buffer</a></td>
        <td>&quot;4M&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.4.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.optimization" class="link">apc.optimization</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_ALL</td>
        <td>PHP_INI_SYSTEM in APC 2. Removed in APC 3.0.13.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.num-files-hint" class="link">apc.num_files_hint</a></td>
        <td>&quot;1000&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.user-entries-hint" class="link">apc.user_entries_hint</a></td>
        <td>&quot;4096&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.0.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.ttl" class="link">apc.ttl</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.0.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.user-ttl" class="link">apc.user_ttl</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.0.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.gc-ttl" class="link">apc.gc_ttl</a></td>
        <td>&quot;3600&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.cache-by-default" class="link">apc.cache_by_default</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_ALL</td>
        <td>PHP_INI_SYSTEM in APC &lt;= 3.0.12. Available since APC 3.0.0.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.filters" class="link">apc.filters</a></td>
        <td>NULL</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.mmap-file-mask" class="link">apc.mmap_file_mask</a></td>
        <td>NULL</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.slam-defense" class="link">apc.slam_defense</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.0. Prior to APC 3.1.4, the default value was <code class="literal">&quot;0&quot;</code> (disabled).</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.file-update-protection" class="link">apc.file_update_protection</a></td>
        <td>&quot;2&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.6.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.enable-cli" class="link">apc.enable_cli</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.7.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.max-file-size" class="link">apc.max_file_size</a></td>
        <td>&quot;1M&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.7.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.use-request-time" class="link">apc.use_request_time</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_ALL</td>
        <td>Available since APC 3.1.3.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.stat" class="link">apc.stat</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.10.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.write-lock" class="link">apc.write_lock</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.11.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.report-autofilter" class="link">apc.report_autofilter</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.11.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.serializer" class="link">apc.serializer</a></td>
        <td>&quot;default&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.0.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.include-once-override" class="link">apc.include_once_override</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.12.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.rfc1867" class="link">apc.rfc1867</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.13.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.rfc1867-prefix" class="link">apc.rfc1867_prefix</a></td>
        <td>&quot;upload_&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.rfc1867-name" class="link">apc.rfc1867_name</a></td>
        <td>&quot;APC_UPLOAD_PROGRESS&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.rfc1867-freq" class="link">apc.rfc1867_freq</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.rfc1867-ttl" class="link">apc.rfc1867_ttl</a></td>
        <td>&quot;3600&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.1.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.localcache" class="link">apc.localcache</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available in APC 3.0.14 - 3.1.11.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.localcache.size" class="link">apc.localcache.size</a></td>
        <td>&quot;512&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>vailable in APC 3.0.14 - 3.1.11.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.coredump-unmap" class="link">apc.coredump_unmap</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.16.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.stat-ctime" class="link">apc.stat_ctime</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.0.13.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.preload-path" class="link">apc.preload_path</a></td>
        <td>NULL</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.1.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.file-md5" class="link">apc.file_md5</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.1.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.canonicalize" class="link">apc.canonicalize</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.1.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.lazy-functions" class="link">apc.lazy_functions</a></td>
        <td>0</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.3.</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apc.lazy-classes" class="link">apc.lazy_classes</a></td>
        <td>0</td>
        <td>PHP_INI_SYSTEM</td>
        <td>Available since APC 3.1.3.</td>
       </tr>
  
      </tbody>
     
    </table>
  
    For further details and definitions of the
  PHP_INI_* modes, see the <a href="#configuration.changes.modes" class="xref">Where a configuration setting may be set</a>.
   </p>
   
   <p class="para">Here&#039;s a short explanation of
  the configuration directives.</p>
   
   <p class="para">
    <dl>
  
     
      <dt id="ini.apc.enabled">
       <code class="parameter">apc.enabled</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        <code class="literal">apc.enabled</code> can be set to 0 to disable APC. This is
        primarily useful when APC is statically compiled
        into PHP, since there is no other way to disable
        it (when compiled as a DSO, the <code class="literal">extension</code>
        line in <code class="literal">php.ini</code> can just be commented-out).
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.shm-segments">
       <code class="parameter">apc.shm_segments</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of shared memory segments to allocate
        for the compiler cache. If APC is running out of
        shared memory but <code class="literal">apc.shm_size</code> 
        is set as high as the system allows, raising
        this value might prevent APC from exhausting its memory.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.shm-size">
       <code class="parameter">apc.shm_size</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The size of each shared memory segment given by a shorthand notation as
        described in <a href="#faq.using.shorthandbytes" class="link">this FAQ</a>.
        By default, some systems (including most BSD
        variants) have very low limits on the size of a
        shared memory segment.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.shm-strings-buffer">
       <code class="parameter">apc.shm_strings_buffer</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The size of memory to use as a shared buffer for strings used internally
        by APC. Size Should be suffixed by M for megabytes, G for gigabytes.
        Enabling this option will reduce the amount of memory used per PHP-FPM
        worker as strings will be stored once rather than for each worker.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.optimization">
       <code class="parameter">apc.optimization</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The optimization level. Zero disables the
        optimizer, and higher values use more aggressive
        optimizations. Expect very modest speed
        improvements. This is experimental.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.num-files-hint">
       <code class="parameter">apc.num_files_hint</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        A &quot;hint&quot; about the number of distinct source files
        that will be included or requested on your web
        server. Set to zero or omit if unsure;
        this setting is mainly useful for sites that have
        many thousands of source files.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.user-entries-hint">
       <code class="parameter">apc.user_entries_hint</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Just like <a href="#ini.apc.num-files-hint" class="link">apc.num_files_hint</a>,
        a &quot;hint&quot; about the number of distinct user cache variables to store.
        Set to zero or omit if not sure.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.ttl">
       <code class="parameter">apc.ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of seconds a cache entry is allowed to
        idle in a slot in case this cache entry slot is
        needed by another entry.  Leaving this at zero
        means that APC&#039;s cache could potentially fill up
        with stale entries while newer entries won&#039;t be
        cached.  In the event of a cache running out of
        available memory, the cache will be completely
        expunged if ttl is equal to 0.  Otherwise, if the
        ttl is greater than 0, APC will attempt to remove
        expired entries.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.user-ttl">
       <code class="parameter">apc.user_ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of seconds a cache entry is allowed to
        idle in a slot in case this cache entry slot is
        needed by another entry.  Leaving this at zero
        means that APC&#039;s cache could potentially fill up
        with stale entries while newer entries won&#039;t be
        cached.  In the event of a cache running out of
        available memory, the cache will be completely
        expunged if ttl is equal to 0.  Otherwise, if the
        ttl is greater than 0, APC will attempt to remove
        expired entries.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.gc-ttl">
       <code class="parameter">apc.gc_ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of seconds that a cache entry may
        remain on the garbage-collection list. This value
        provides a fail-safe in the event that a server
        process dies while executing a cached source file;
        if that source file is modified, the memory
        allocated for the old version will not be
        reclaimed until this TTL reached. Set to zero to
        disable this feature.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.cache-by-default">
       <code class="parameter">apc.cache_by_default</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        On by default, but can be set to off and used in
        conjunction with positive <code class="literal">apc.filters</code> so that files
        are only cached if matched by a positive filter.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.filters">
       <code class="parameter">apc.filters</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        A comma-separated list of POSIX extended regular
        expressions. If any pattern matches the source
        filename, the file will not be cached. Note that
        the filename used for matching is the one passed
        to include/require, not the absolute path.  If the
        first character of the expression is a <code class="literal">+</code> then the
        expression will be additive in the sense that any
        files matched by the expression will be cached, and
        if the first character is a <code class="literal">-</code> then anything matched
        will not be cached.  The <code class="literal">-</code> case is the default, so
        it can be left off.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.mmap-file-mask">
       <code class="parameter">apc.mmap_file_mask</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        If compiled with MMAP support by using <code class="literal">--enable-mmap</code>
        this is the mktemp-style file_mask to pass to the
        mmap module for determining whether your mmap&#039;ed memory
        region is going to be file-backed or shared memory
        backed.  For straight file-backed mmap, set it to
        something like <code class="literal">/tmp/apc.XXXXXX</code>
        (exactly 6 <code class="literal">X</code>s).
        To use POSIX-style shm_open/mmap put a <code class="literal">.shm</code>
        somewhere in your mask.  e.g. <code class="literal">/apc.shm.XXXXXX</code>
        You can also set it to <code class="literal">/dev/zero</code> to use your
        kernel&#039;s <code class="literal">/dev/zero</code> interface to anonymous mmap&#039;ed
        memory. Leaving it undefined will force an anonymous mmap.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.slam-defense">
       <code class="parameter">apc.slam_defense</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        On very busy servers whenever you start the server or
        modify files you can create a race of many processes
        all trying to cache the same file at the same time.
        This option sets the percentage of processes that will
        skip trying to cache an uncached file.  Or think of it
        as the probability of a single process to skip caching.
        For example, setting <code class="literal">apc.slam_defense</code>
        to <code class="literal">75</code> would mean that there is
        a 75% chance that the process will not cache an uncached
        file. So, the higher the setting the greater the defense
        against cache slams.  Setting this to <code class="literal">0</code>
        disables this feature.
       </p>
       <p class="para">
        Deprecated by <a href="#ini.apc.write-lock" class="link">apc.write_lock</a>.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.file-update-protection">
       <code class="parameter">apc.file_update_protection</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        When a file is modified on a live web server it really
        ought to be done in an atomic manner.  That is, written to a
        temporary file and renamed (<code class="literal">mv</code>) the file into its
        permanent position when it is ready.  Many text editors,
        <strong class="command">cp</strong>, <strong class="command">tar</strong> and
        other such programs don&#039;t do this.  This means that there
        is a chance that a file is accessed (and cached) while it
        is still being written to.  This <code class="literal">apc.file_update_protection</code>
        setting puts a delay on caching brand new files.  The
        default is 2 seconds, which means that if the modification
        timestamp (<code class="literal">mtime</code>) on a file shows that it is less than 2
        seconds old when it is accessed, it will not be cached.
        The unfortunate person who accessed this half-written file
        will still see weirdness, but at least it won&#039;t persist.
        If all of the webserver&#039;s files are atomically updated, via
        some method like <strong class="command">rsync</strong> (which updates correctly),
        this protection can be disabled by setting this directive to 0.
        If the system is flooded with i/o and some update procedures
        are taking longer than 2 seconds, this setting should be increased
        to enable the protection on those slower update operations.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.enable-cli">
       <code class="parameter">apc.enable_cli</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Mostly for testing and debugging.  Setting this enables APC
        for the CLI version of PHP.  Under normal circumstances, it is
        not ideal to create, populate and destroy the APC cache on every
        CLI request, but for various test scenarios it is useful to be
        able to enable APC for the CLI version of PHP easily.
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.max-file-size">
       <code class="parameter">apc.max_file_size</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Prevent files larger than this value from getting cached.  Defaults to
        1M. 
       </p>
      </dd>
  
     
     
      <dt id="ini.apc.stat">
       <code class="parameter">apc.stat</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Be careful changing this setting.  This defaults to on, forcing APC to
        stat (check) the script on each request to determine if it has been modified.
        If it has been modified it will recompile and cache the new version.  
        If this setting is off, APC will not check, which usually means that to 
        force APC to recheck files, the web server will have to be restarted or the 
        cache will have to be manually cleared.  Note that FastCGI web server configurations
        may not clear the cache on restart.  On a production server where the 
        script files rarely change, a significant performance boost can be 
        achieved by disabled stats.
       </p>
       <p class="para">
        For included/required files this option applies as well, but note that
        for relative path includes (any path that doesn&#039;t start
        with / on Unix) APC has to check in order to uniquely identify the file.
        If you use absolute path includes APC can skip the stat and use that
        absolute path as the unique identifier for the file.
       </p>
      </dd>
  
     
     
     
      <dt id="ini.apc.write-lock">
       <code class="parameter">apc.write_lock</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        On busy servers, when the web server is first started, or when many files
        have been modified at the same time, APC may try to compile and cache the 
        same file multiple times.  Write_lock guarantees that only one process
        will attempt to compile and cache an uncached script.  The other processes 
        attempting to use the script will run without using the opcode cache, rather
        than locking and waiting for the cache to prime.
       </p>
      </dd>
  
     
     
     
      <dt id="ini.apc.report-autofilter">
       <code class="parameter">apc.report_autofilter</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Logs any scripts that were automatically excluded from being cached due
        to early/late binding issues.
       </p>
      </dd>
  
     
     
     
      <dt id="ini.apc.serializer">
       <code class="parameter">apc.serializer</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Used to configure APC to use a third party serializer.
       </p>
      </dd>
  
     
     
     
      <dt id="ini.apc.include-once-override">
       <code class="parameter">apc.include_once_override</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Optimize <span class="function"><a href="#function.include-once" class="function">include_once</a></span> and <span class="function"><a href="#function.require-once" class="function">require_once</a></span>
        calls and avoid the expensive system calls used.
       </p>
       <div class="warning"><strong class="warning">Warning</strong>
        <p class="simpara">
         This feature is <em class="emphasis">EXPERIMENTAL</em>. The behaviour of this
         directive, its name, and surrounding documentation may change without
         notice in a future release of APC. This feature should be used at your
         own risk.
        </p>
       </div>
      </dd>
  
     
     
     
      <dt id="ini.apc.rfc1867">
       <code class="parameter">apc.rfc1867</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        RFC1867 File Upload Progress hook handler is only available if APC 
        was compiled against PHP 5.2.0 or later. When enabled, any file uploads
        which includes a field called <code class="literal">APC_UPLOAD_PROGRESS</code>
        before the file field in an upload form will cause APC to automatically
        create an upload_<em class="emphasis">key</em> user cache entry where
        <em class="emphasis">key</em> is the value of the
        <code class="literal">APC_UPLOAD_PROGRESS</code> form entry.
       </p>
       <p class="para">
        Note that the hidden field specified by
        <code class="literal">APC_UPLOAD_PROGRESS</code> must come before the file field,
        otherwise the upload progress will not work correctly.
       </p>
       <p class="para">
        Note that the file upload tracking is not threadsafe at this point, so
        new uploads that happen while a previous one is still going will disable
        the tracking for the previous.
       </p>
       <p class="para">
        Note that the <code class="literal">rate</code> is only available once all file
        transfers are completed.
       </p>
       <p class="para">
        <div class="example" id="example-442">
         <p><strong>Example #1 An apc.rfc1867 example</strong></p>
         <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">"upload_</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #0000BB">APC_UPLOAD_PROGRESS</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
         </div>
  
         <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
         <div class="example-contents screen">
  <div class="cdata"><pre>
  Array
  (
      [total] =&gt; 1142543
      [current] =&gt; 1142543
      [rate] =&gt; 1828068.8
      [filename] =&gt; test
      [name] =&gt; file
      [temp_filename] =&gt; /tmp/php8F
      [cancel_upload] =&gt; 0
      [done] =&gt; 1
  )
  </pre></div>
         </div>
        </div>
       </p>
      </dd>
  
     
     
     
      <dt id="ini.apc.rfc1867-prefix">
       <code class="parameter">apc.rfc1867_prefix</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Key prefix to use for the user cache entry generated by rfc1867 upload
        progress functionality.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.rfc1867-name">
       <code class="parameter">apc.rfc1867_name</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Specify the hidden form entry name that activates APC upload progress
        and specifies the user cache key suffix.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.rfc1867-freq">
       <code class="parameter">apc.rfc1867_freq</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The frequency that updates should be made to the user cache entry for
        upload progress.  This can take the form of a percentage of the total
        file size or a size in bytes optionally suffixed with
        <code class="literal">&quot;k&quot;</code>, <code class="literal">&quot;m&quot;</code>, or <code class="literal">&quot;g&quot;</code>
        for kilobytes, megabytes, or gigabytes respectively (case insensitive).
        A setting of 0 updates as often as possible, which may cause slower
        uploads.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.rfc1867-ttl">
       <code class="parameter">apc.rfc1867_ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        <acronym>TTL</acronym> for rfc1867 entries.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.localcache">
       <code class="parameter">apc.localcache</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        This enables a lock-free local process shadow-cache which reduces lock
        contention when the cache is being written to.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.localcache.size">
       <code class="parameter">apc.localcache.size</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The size of the local process shadow-cache, should be set to a
        sufficiently large value, approximately half of
        <a href="#ini.apc.num-files-hint" class="link">apc.num_files_hint</a>.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.coredump-unmap">
       <code class="parameter">apc.coredump_unmap</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Enables APC handling of signals, such as SIGSEGV, that write
        core files when signaled. When these signals are received,
        APC will attempt to unmap the shared memory segment in order
        to exclude it from the core file. This setting may improve
        system stability when fatal signals are received and a large 
        APC shared memory segment is configured.
       </p>
       <div class="warning"><strong class="warning">Warning</strong>
        <p class="para">
         This feature is potentially dangerous. Unmapping the shared
         memory segment in a fatal signal handler may cause undefined
         behaviour if a fatal error occurs.
        </p>
       </div>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Although some kernels may provide a facility to ignore various
         types of shared memory when generating a core dump file, these 
         implementations may also ignore important shared memory segments
         such as the Apache scoreboard.
        </p>
       </p></blockquote>
      </dd>
  
     
  
     
      <dt id="ini.apc.stat-ctime">
       <code class="parameter">apc.stat_ctime</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Verification with ctime will avoid problems caused by programs such 
        as svn or rsync by making sure inodes haven&#039;t changed since the last 
        stat. APC will normally only check mtime.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.canonicalize">
       <code class="parameter">apc.canonicalize</code>
       <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        If on, then relative paths are canonicalized in no-stat mode. If set,
        then files included via stream wrappers can not be cached as
        <span class="function"><a href="#function.realpath" class="function">realpath()</a></span> does not support stream wrappers.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.preload-path">
       <code class="parameter">apc.preload_path</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Optionally, set a path to the directory that APC will load 
        cache data at startup.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.use-request-time">
       <code class="parameter">apc.use_request_time</code>
       <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Use the <acronym title="Server Application Programming Interface">SAPI</acronym> request start time for
        <acronym>TTL</acronym>.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.file-md5">
       <code class="parameter">apc.file_md5</code>
       <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Records a md5 hash of files.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.lazy-functions">
       <code class="parameter">apc.lazy_functions</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Enables lazy loading for functions.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apc.lazy-classes">
       <code class="parameter">apc.lazy_classes</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Enables lazy loading for classes.
       </p>
      </dd>
  
     
    </dl>
  
   </p>
  </div>
  <hr />
  
  
  
  
  
   <div id="apc.resources" class="section"><hr />
    <h2 class="title">Resource Types</h2>
    <p class="para">This extension has no resource types defined.</p>
   </div>
  <hr />
  
  
  </div>
  
  <hr />
  
  
  
  
  
   
  
  
  <div id="apc.constants" class="appendix"><hr />
   <h1>Predefined Constants</h1>
  
   <p class="simpara">
  The constants below are defined by this extension, and
  will only be available when the extension has either
  been compiled into PHP or dynamically loaded at runtime.
  </p>
  
   <p class="para">
    <dl>
  
     
      <dt id="constant.apc-bin-verify-crc32">
       <strong><code>APC_BIN_VERIFY_CRC32</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-bin-verify-md5">
       <strong><code>APC_BIN_VERIFY_MD5</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-all">
       <strong><code>APC_ITER_ALL</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-atime">
       <strong><code>APC_ITER_ATIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-ctime">
       <strong><code>APC_ITER_CTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-device">
       <strong><code>APC_ITER_DEVICE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-dtime">
       <strong><code>APC_ITER_DTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-filename">
       <strong><code>APC_ITER_FILENAME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-inode">
       <strong><code>APC_ITER_INODE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-key">
       <strong><code>APC_ITER_KEY</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-md5">
       <strong><code>APC_ITER_MD5</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-mem-size">
       <strong><code>APC_ITER_MEM_SIZE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-mtime">
       <strong><code>APC_ITER_MTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-none">
       <strong><code>APC_ITER_NONE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-num-hits">
       <strong><code>APC_ITER_NUM_HITS</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-refcount">
       <strong><code>APC_ITER_REFCOUNT</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-ttl">
       <strong><code>APC_ITER_TTL</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-type">
       <strong><code>APC_ITER_TYPE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-iter-value">
       <strong><code>APC_ITER_VALUE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-list-active">
       <strong><code>APC_LIST_ACTIVE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apc-list-deleted">
       <strong><code>APC_LIST_DELETED</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
    </dl>
  
   </p>
  </div>
  
  <hr />
  
  
  
  
   
  
  
  <div id="ref.apc" class="reference"><hr />
   <h1 class="title">APC Functions</h1>
  
   
  
  <div id="function.apc-add" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_add</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.13)</p><p class="refpurpose"><span class="refname">apc_add</span> &mdash; <span class="dc-title">
     Cache a new variable in the data store
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-add-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_add</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ] ) : <span class="type">bool</span></div>
  
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_add</strong></span>
      ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>
     [, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$unused</code><span class="initializer"> = NULL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ]] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Caches a variable in the data store, only if it&#039;s not already stored.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      Unlike many other mechanisms in PHP, variables stored using
      <span class="function"><strong>apc_add()</strong></span> will persist between requests (until the
      value is removed from the cache).
     </span>
    </p></blockquote>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apc-add-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         Store the variable using this name. <code class="parameter">key</code>s are
         cache-unique, so attempting to use <span class="function"><strong>apc_add()</strong></span> to
         store data with a key that already exists will not overwrite the
         existing data, and will instead return <strong><code>FALSE</code></strong>. (This is the only
         difference between <span class="function"><strong>apc_add()</strong></span> and
         <span class="function"><a href="#function.apc-store" class="function">apc_store()</a></span>.)
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">var</code></dt>
  
       <dd>
  
        <p class="para">
         The variable to store
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">ttl</code></dt>
  
       <dd>
  
        <p class="para">
         Time To Live; store <code class="parameter">var</code> in the cache for
         <code class="parameter">ttl</code> seconds. After the
         <code class="parameter">ttl</code> has passed, the stored variable will be
         expunged from the cache (on the next request). If no <code class="parameter">ttl</code>
         is supplied (or if the <code class="parameter">ttl</code> is
         <code class="literal">0</code>), the value will persist until it is removed from
         the cache manually, or otherwise fails to exist in the cache (clear,
         restart, etc.).
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">values</code></dt>
  
       <dd>
  
        <p class="para">
         Names in key, variables in value.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-add-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns TRUE if something has effectively been added into the cache, FALSE otherwise.
     Second syntax returns array with error keys.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-add-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-443">
      <p><strong>Example #1 A <span class="function"><strong>apc_add()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apc_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'NEVER&nbsp;GETS&nbsp;SET'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apc_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  string(3) &quot;BAR&quot;
  string(3) &quot;BAR&quot;
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-add-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-store" class="function" rel="rdfs-seeAlso">apc_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apc-fetch" class="function" rel="rdfs-seeAlso">apc_fetch()</a> - Fetch a stored variable from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.apc-delete" class="function" rel="rdfs-seeAlso">apc_delete()</a> - Removes a stored variable from the cache</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-bin-dump" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_bin_dump</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.4)</p><p class="refpurpose"><span class="refname">apc_bin_dump</span> &mdash; <span class="dc-title">Get a binary dump of the given files and user variables</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-bin-dump-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_bin_dump</strong></span>
      ([ <span class="methodparam"><span class="type">array</span> <code class="parameter">$files</code><span class="initializer"> = NULL</span></span>
     [, <span class="methodparam"><span class="type">array</span> <code class="parameter">$user_vars</code><span class="initializer"> = NULL</span></span>
    ]] ) : <span class="type">string</span></div>
  
    <p class="para rdfs-comment">
     Returns a binary dump of the given files and user variables from the APC cache.
     A <strong><code>NULL</code></strong> for files or user_vars signals a dump of every entry, whereas array() will dump
     nothing.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-bin-dump-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">files</code></dt>
  
      <dd>
  
       <p class="para">
        The files. Passing in <strong><code>NULL</code></strong> signals a dump of every entry, while
        passing in <span class="function"><a href="#function.array" class="function">array()</a></span> will dump nothing.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">user_vars</code></dt>
  
      <dd>
  
       <p class="para">
        The user vars. Passing in <strong><code>NULL</code></strong> signals a dump of every entry, while
        passing in <span class="function"><a href="#function.array" class="function">array()</a></span> will dump nothing.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-bin-dump-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns a binary dump of the given files and user variables from the APC cache,
     <strong><code>FALSE</code></strong> if APC is not enabled, or <strong><code>NULL</code></strong> if an unknown error is encountered.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-bin-dump-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-bin-dumpfile" class="function" rel="rdfs-seeAlso">apc_bin_dumpfile()</a> - Output a binary dump of cached files and user variables to a file</span></li>
     <li class="member"><span class="function"><a href="#function.apc-bin-load" class="function" rel="rdfs-seeAlso">apc_bin_load()</a> - Load a binary dump into the APC file/user cache</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-bin-dumpfile" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_bin_dumpfile</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.4)</p><p class="refpurpose"><span class="refname">apc_bin_dumpfile</span> &mdash; <span class="dc-title">Output a binary dump of cached files and user variables to a file</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-bin-dumpfile-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_bin_dumpfile</strong></span>
      ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$files</code></span>
     , <span class="methodparam"><span class="type">array</span> <code class="parameter">$user_vars</code></span>
     , <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
     [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$context</code><span class="initializer"> = NULL</span></span>
    ]] ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Outputs a binary dump of the given files and user variables from the APC
     cache to the named file.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-bin-dumpfile-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">files</code></dt>
  
      <dd>
  
       <p class="para">
        The file names being dumped.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">user_vars</code></dt>
  
      <dd>
  
       <p class="para">
        The user variables being dumped.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">filename</code></dt>
  
      <dd>
  
       <p class="para">
        The filename where the dump is being saved.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">flags</code></dt>
  
      <dd>
  
       <p class="para">
        Flags passed to the <code class="parameter">filename</code> stream. See the
        <span class="function"><a href="#function.file-put-contents" class="function">file_put_contents()</a></span> documentation for details.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">context</code></dt>
  
      <dd>
  
       <p class="para">
        The context passed to the <code class="parameter">filename</code> stream. See the
        <span class="function"><a href="#function.file-put-contents" class="function">file_put_contents()</a></span> documentation for details.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-bin-dumpfile-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The number of bytes written to the file, otherwise
     <strong><code>FALSE</code></strong> if APC is not enabled, <code class="parameter">filename</code> is an invalid file name,
     <code class="parameter">filename</code> can&#039;t be opened, the file dump can&#039;t be completed
     (e.g., the hard drive is out of disk space), or an unknown error was encountered.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-bin-dumpfile-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-bin-dump" class="function" rel="rdfs-seeAlso">apc_bin_dump()</a> - Get a binary dump of the given files and user variables</span></li>
     <li class="member"><span class="function"><a href="#function.apc-bin-load" class="function" rel="rdfs-seeAlso">apc_bin_load()</a> - Load a binary dump into the APC file/user cache</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-bin-load" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_bin_load</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.4)</p><p class="refpurpose"><span class="refname">apc_bin_load</span> &mdash; <span class="dc-title">Load a binary dump into the APC file/user cache</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-bin-load-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_bin_load</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
    ] ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Loads the given binary dump into the APC file/user cache.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-bin-load-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">data</code></dt>
  
      <dd>
  
       <p class="para">
        The binary dump being loaded, likely from
        <span class="function"><a href="#function.apc-bin-dump" class="function">apc_bin_dump()</a></span>.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">flags</code></dt>
  
      <dd>
  
       <p class="para">
        Either <strong><code>APC_BIN_VERIFY_CRC32</code></strong>, <strong><code>APC_BIN_VERIFY_MD5</code></strong>,
        or both.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-bin-load-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> if the binary dump <code class="parameter">data</code> was loaded
     with success, otherwise <strong><code>FALSE</code></strong> is returned. <strong><code>FALSE</code></strong> is returned if APC
     is not enabled, or if the <code class="parameter">data</code> is not a valid APC
     binary dump (e.g., unexpected size).
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-bin-load-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-444">
     <p><strong>Example #1 <span class="function"><strong>apc_bin_load()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_bin_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apc_bin_load</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">APC_BIN_VERIFY_MD5&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">APC_BIN_VERIFY_CRC32</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-bin-load-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-bin-dump" class="function" rel="rdfs-seeAlso">apc_bin_dump()</a> - Get a binary dump of the given files and user variables</span></li>
     <li class="member"><span class="function"><a href="#function.apc-bin-loadfile" class="function" rel="rdfs-seeAlso">apc_bin_loadfile()</a> - Load a binary dump from a file into the APC file/user cache</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-bin-loadfile" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_bin_loadfile</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.4)</p><p class="refpurpose"><span class="refname">apc_bin_loadfile</span> &mdash; <span class="dc-title">Load a binary dump from a file into the APC file/user cache</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-bin-loadfile-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_bin_loadfile</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
     [, <span class="methodparam"><span class="type">resource</span> <code class="parameter">$context</code><span class="initializer"> = NULL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span>
    ]] ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Loads a binary dump from a file into the APC file/user cache.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-bin-loadfile-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">filename</code></dt>
  
      <dd>
  
       <p class="para">
        The file name containing the dump, likely from
        <span class="function"><a href="#function.apc-bin-dumpfile" class="function">apc_bin_dumpfile()</a></span>.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">context</code></dt>
  
      <dd>
  
       <p class="para">
        The files context.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">flags</code></dt>
  
      <dd>
  
       <p class="para">
        Either <strong><code>APC_BIN_VERIFY_CRC32</code></strong>, <strong><code>APC_BIN_VERIFY_MD5</code></strong>,
        or both.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-bin-loadfile-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success, otherwise <strong><code>FALSE</code></strong> Reasons it may return <strong><code>FALSE</code></strong> include
     APC is not enabled, <code class="parameter">filename</code> is an invalid file name or empty,
     <code class="parameter">filename</code> can&#039;t be opened, the file dump can&#039;t be completed, or
     if the <code class="parameter">data</code> is not a valid APC binary dump (e.g., unexpected
     size).
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-bin-loadfile-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-bin-dumpfile" class="function" rel="rdfs-seeAlso">apc_bin_dumpfile()</a> - Output a binary dump of cached files and user variables to a file</span></li>
     <li class="member"><span class="function"><a href="#function.apc-bin-load" class="function" rel="rdfs-seeAlso">apc_bin_load()</a> - Load a binary dump into the APC file/user cache</span></li>
    </ul>
   </div>
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-cache-info" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_cache_info</h1>
    <p class="verinfo">(PECL apc &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">apc_cache_info</span> &mdash; <span class="dc-title">
     Retrieves cached information from APC&#039;s data store
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-cache-info-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_cache_info</strong></span>
      ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$cache_type</code><span class="initializer"> = &quot;&quot;</span></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$limited</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
    ]] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Retrieves cached information and meta-data from APC&#039;s data store.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-cache-info-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">cache_type</code></dt>
  
       <dd>
  
        <p class="para">
         If <code class="parameter">cache_type</code> is &quot;<code class="literal">user</code>&quot;,
         information about the user cache will be returned.
        </p>
        <p class="para"> 
         If <code class="parameter">cache_type</code> is &quot;<code class="literal">filehits</code>&quot;,
         information about which files have been served from the bytecode cache 
         for the current request will be returned. This feature must be enabled at
         compile time using <strong class="option configure">--enable-filehits</strong>.
        </p>
        <p class="para">
         If an invalid or no <code class="parameter">cache_type</code> is specified, information about 
         the system cache (cached files) will be returned.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">limited</code></dt>
  
       <dd>
  
        <p class="para">
         If <code class="parameter">limited</code> is <strong><code>TRUE</code></strong>, the
         return value will exclude the individual list of cache entries.  This
         is useful when trying to optimize calls for statistics gathering.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-cache-info-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Array of cached data (and meta-data) or <strong><code>FALSE</code></strong> on failure
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      <span class="function"><strong>apc_cache_info()</strong></span> will raise a warning if it is unable to
      retrieve APC cache data. This typically occurs when APC is not enabled.
     </span>
    </p></blockquote>
   </div>
  
  
   <div class="refsect1 changelog" id="refsect1-function.apc-cache-info-changelog">
    <h3 class="title">Changelog</h3>
    <p class="para">
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Version</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td>3.0.11</td>
         <td>
          The <code class="parameter">limited</code> parameter was introduced.
         </td>
        </tr>
  
        <tr>
         <td>3.0.16</td>
         <td>
          The &quot;<code class="literal">filehits</code>&quot; option for the
          <code class="parameter">cache_type</code> parameter was introduced.
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-cache-info-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-445">
      <p><strong>Example #1 A <span class="function"><strong>apc_cache_info()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_cache_info</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  Array
  (
      [num_slots] =&gt; 2000
      [ttl] =&gt; 0
      [num_hits] =&gt; 9
      [num_misses] =&gt; 3
      [start_time] =&gt; 1123958803
      [cache_list] =&gt; Array
          (
              [0] =&gt; Array
                  (
                      [filename] =&gt; /path/to/apc_test.php
                      [device] =&gt; 29954
                      [inode] =&gt; 1130511
                      [type] =&gt; file
                      [num_hits] =&gt; 1
                      [mtime] =&gt; 1123960686
                      [creation_time] =&gt; 1123960696
                      [deletion_time] =&gt; 0
                      [access_time] =&gt; 1123962864
                      [ref_count] =&gt; 1
                      [mem_size] =&gt; 677
                  )
              [1] =&gt; Array (...iterates for each cached file)
  )
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-cache-info-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><a href="#apc.configuration" class="link">APC configuration directives</a></li>
      <li class="member"><span class="methodname"><a href="#apciterator.gettotalsize" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalSize()</a> - Get total cache size</span></li>
      <li class="member"><span class="methodname"><a href="#apciterator.gettotalhits" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalHits()</a> - Get total cache hits</span></li>
      <li class="member"><span class="methodname"><a href="#apciterator.gettotalcount" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalCount()</a> - Get total count</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-cas" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_cas</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">apc_cas</span> &mdash; <span class="dc-title">Updates an old value with a new value</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-cas-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_cas</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type">int</span> <code class="parameter">$old</code></span>
     , <span class="methodparam"><span class="type">int</span> <code class="parameter">$new</code></span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     <span class="function"><strong>apc_cas()</strong></span> updates an already existing integer value if the 
     <code class="parameter">old</code> parameter matches the currently stored value 
     with the value of the <code class="parameter">new</code> parameter.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-cas-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">key</code></dt>
  
      <dd>
  
       <p class="para">
        The key of the value being updated.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">old</code></dt>
  
      <dd>
  
       <p class="para">
        The old value (the value currently stored).
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">new</code></dt>
  
      <dd>
  
       <p class="para">
        The new value to update to.
       </p>
      </dd>
  
     
    </dl>
  
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-cas-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-cas-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-446">
     <p><strong>Example #1 <span class="function"><strong>apc_cas()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;==&nbsp;1&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apc_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;==&nbsp;2&nbsp;?&nbsp;1&nbsp;:&nbsp;2&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apc_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$f__bar&nbsp;==&nbsp;1&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apc_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'f__bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'perfection'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'xyz'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'$perfection&nbsp;==&nbsp;2&nbsp;?&nbsp;1&nbsp;:&nbsp;2&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apc_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'perfection'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'epic&nbsp;fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  $foobar = 2
  $foobar == 1 ? 2 : 1 = fail
  $foobar == 2 ? 1 : 2 = ok
  $foobar = 1
  $f__bar == 1 ? 2 : 1 = fail
  $perfection == 2 ? 1 : 2 = epic fail
  $foobar = 1
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-cas-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-dec" class="function" rel="rdfs-seeAlso">apc_dec()</a> - Decrease a stored number</span></li>
     <li class="member"><span class="function"><a href="#function.apc-store" class="function" rel="rdfs-seeAlso">apc_store()</a> - Cache a variable in the data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-clear-cache" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_clear_cache</h1>
    <p class="verinfo">(PECL apc &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">apc_clear_cache</span> &mdash; <span class="dc-title">
     Clears the APC cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-clear-cache-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_clear_cache</strong></span>
      ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$cache_type</code><span class="initializer"> = &quot;&quot;</span></span>
    ] ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Clears the user/system cache.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-clear-cache-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">cache_type</code></dt>
  
       <dd>
  
        <p class="para">
         If <code class="parameter">cache_type</code> is &quot;<code class="literal">user</code>&quot;, the
         user cache will be cleared; otherwise, the system cache (cached files)
         will be cleared.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-clear-cache-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> always
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-clear-cache-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-compile-file" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_compile_file</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.13)</p><p class="refpurpose"><span class="refname">apc_compile_file</span> &mdash; <span class="dc-title">
     Stores a file in the bytecode cache, bypassing all filters
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-compile-file-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_compile_file</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$atomic</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>
    ] ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Stores a file in the bytecode cache, bypassing all filters.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-compile-file-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">filename</code></dt>
  
       <dd>
  
        <p class="para">
         Full or relative path to a PHP file that will be compiled and stored in
         the bytecode cache.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-compile-file-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-compile-file-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-bin-dumpfile" class="function" rel="rdfs-seeAlso">apc_bin_dumpfile()</a> - Output a binary dump of cached files and user variables to a file</span></li>
     <li class="member"><span class="function"><a href="#function.apc-bin-loadfile" class="function" rel="rdfs-seeAlso">apc_bin_loadfile()</a> - Load a binary dump from a file into the APC file/user cache</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-dec" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_dec</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">apc_dec</span> &mdash; <span class="dc-title">Decrease a stored number</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-dec-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_dec</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$step</code><span class="initializer"> = 1</span></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter reference">&$success</code></span>
    ]] ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Decreases a stored integer value.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-dec-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">key</code></dt>
  
      <dd>
  
       <p class="para">
        The key of the value being decreased.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">step</code></dt>
  
      <dd>
  
       <p class="para">
        The step, or value to decrease.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">success</code></dt>
  
      <dd>
  
       <p class="para">
        Optionally pass the success or fail boolean value to
        this referenced variable.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-dec-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the current value of <code class="parameter">key</code>&#039;s value on success,
      or <strong><code>FALSE</code></strong> on failure
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-dec-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-447">
     <p><strong>Example #1 <span class="function"><strong>apc_dec()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Let's&nbsp;do&nbsp;something&nbsp;with&nbsp;success"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">apc_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apc_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apc_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$success</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$success</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Now,&nbsp;let's&nbsp;fail"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ret</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Let&#039;s do something with success
  42
  41
  31
  21
  bool(true)
  
  Now, let&#039;s fail
  bool(false)
  bool(false)
  </pre></div>
     </div>
    </div>
   </div>
  
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-dec-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-inc" class="function" rel="rdfs-seeAlso">apc_inc()</a> - Increase a stored number</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-define-constants" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_define_constants</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.0)</p><p class="refpurpose"><span class="refname">apc_define_constants</span> &mdash; <span class="dc-title">
     Defines a set of constants for retrieval and mass-definition 
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-define-constants-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_define_constants</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type">array</span> <code class="parameter">$constants</code></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$case_sensitive</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>
    ] ) : <span class="type">bool</span></div>
  
  
    <p class="para rdfs-comment">
     <span class="function"><a href="#function.define" class="function">define()</a></span> is notoriously slow. Since the main benefit of
     APC is to increase the performance of scripts/applications, this mechanism
     is provided to streamline the process of mass constant definition. However,
     this function does not perform as well as anticipated.
    </p>
  
    <p class="para">
     For a better-performing solution, try the
     <a href="https://pecl.php.net/package/hidef" class="link external">&raquo;&nbsp;hidef</a> extension from PECL.
    </p>
  
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      To remove a set of stored constants (without clearing the entire cache), an
      empty array may be passed as the <code class="parameter">constants</code>
      parameter, effectively clearing the stored value(s).
     </span>
    </p></blockquote>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-define-constants-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         The <code class="parameter">key</code> serves as the name of the constant set
         being stored. This <code class="parameter">key</code> is used to retrieve the
         stored constants in <span class="function"><a href="#function.apc-load-constants" class="function">apc_load_constants()</a></span>.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">constants</code></dt>
  
       <dd>
  
        <p class="para">
         An associative array of <code class="literal">constant_name =&gt; value</code>
         pairs. The <code class="literal">constant_name</code> must follow the normal
         <a href="#language.constants" class="link">constant</a> naming rules.
         <code class="literal">value</code> must evaluate to a scalar value.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">case_sensitive</code></dt>
  
       <dd>
  
        <p class="para">
         The default behaviour for constants is to be declared case-sensitive;
         i.e. <code class="literal">CONSTANT</code> and <code class="literal">Constant</code>
         represent different values. If this parameter evaluates to <strong><code>FALSE</code></strong> the
         constants will be declared as case-insensitive symbols.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-define-constants-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-define-constants-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-448">
      <p><strong>Example #1 <span class="function"><strong>apc_define_constants()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$constants&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'ONE'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'TWO'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'THREE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />);<br /></span><span style="color: #0000BB">apc_define_constants</span><span style="color: #007700">(</span><span style="color: #DD0000">'numbers'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$constants</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">ONE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">TWO</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">THREE</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  123
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-define-constants-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-load-constants" class="function" rel="rdfs-seeAlso">apc_load_constants()</a> - Loads a set of constants from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.define" class="function" rel="rdfs-seeAlso">define()</a> - Defines a named constant</span></li>
      <li class="member"><span class="function"><a href="#function.constant" class="function" rel="rdfs-seeAlso">constant()</a> - Returns the value of a constant</span></li>
      <li class="member">
       Or <a href="#language.constants" class="link">the PHP constants reference</a>
      </li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-delete-file" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_delete_file</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">apc_delete_file</span> &mdash; <span class="dc-title">Deletes files from the opcode cache</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-delete-file-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_delete_file</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$keys</code></span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Deletes the given files from the opcode cache.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-delete-file-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">keys</code></dt>
  
      <dd>
  
       <p class="para">
        The files to be deleted. Accepts a <span class="type"><a href="#language.types.string" class="type string">string</a></span>,
        <span class="type"><a href="#language.types.array" class="type array">array</a></span> of strings, or an <a href="#class.apciterator" class="classname">APCIterator</a>
        <span class="type"><a href="#language.types.object" class="type object">object</a></span>.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-delete-file-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
     Or if <code class="parameter">keys</code> is an <span class="type"><a href="#language.types.array" class="type array">array</a></span>, then
     an empty array is returned on success, or an array of failed files
     is returned.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-delete-file-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-449">
     <p><strong>Example #1 <span class="function"><strong>apc_delete_file()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'file.php'</span><span style="color: #007700">;<br /><br />if&nbsp;(</span><span style="color: #0000BB">apc_compile_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">apc_delete_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Successfully&nbsp;deleted&nbsp;file&nbsp;</span><span style="color: #0000BB">$filename</span><span style="color: #DD0000">&nbsp;from&nbsp;APC&nbsp;cache."</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">apc_compile_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">))&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$good&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_delete_file</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'donotexist.php'</span><span style="color: #007700">)))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$good</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$bad&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_delete_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'donotexist.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$bad</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Successfully deleted file file.php from APC cache.
  [Mon May 24 09:30:33 2010] [apc-warning] Could not stat file donotexist.php, unable to delete from cache. in /tmp/test.php on line 13.
  array(1) {
    [0]=&gt;
    string(14) &quot;donotexist.php&quot;
  }
  [Mon May 24 09:30:33 2010] [apc-warning] Could not stat file donotexist.php, unable to delete from cache. in /tmp/test.php on line 18.
  bool(false)
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-delete-file-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-clear-cache" class="function" rel="rdfs-seeAlso">apc_clear_cache()</a> - Clears the APC cache</span></li>
     <li class="member"><span class="function"><a href="#function.apc-delete" class="function" rel="rdfs-seeAlso">apc_delete()</a> - Removes a stored variable from the cache</span></li>
     <li class="member"><span class="function"><a href="#function.apc-exists" class="function" rel="rdfs-seeAlso">apc_exists()</a> - Checks if APC key exists</span></li>
    </ul>
   </div>
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-delete" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_delete</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.0)</p><p class="refpurpose"><span class="refname">apc_delete</span> &mdash; <span class="dc-title">
     Removes a stored variable from the cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-delete-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_delete</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Removes a stored variable from the cache.
    </p>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apc-delete-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         The <code class="parameter">key</code> used to store the value (with
         <span class="function"><a href="#function.apc-store" class="function">apc_store()</a></span>).
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-delete-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-delete-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-450">
      <p><strong>Example #1 A <span class="function"><strong>apc_delete()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apc_delete</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;obviously&nbsp;useless&nbsp;in&nbsp;this&nbsp;form<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-delete-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-store" class="function" rel="rdfs-seeAlso">apc_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apc-fetch" class="function" rel="rdfs-seeAlso">apc_fetch()</a> - Fetch a stored variable from the cache</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-exists" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_exists</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.4)</p><p class="refpurpose"><span class="refname">apc_exists</span> &mdash; <span class="dc-title">Checks if APC key exists</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-exists-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_exists</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$keys</code></span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Checks if one or more APC keys exist.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-exists-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">keys</code></dt>
  
      <dd>
  
       <p class="para">
        A <span class="type"><a href="#language.types.string" class="type string">string</a></span>, or an <span class="type"><a href="#language.types.array" class="type array">array</a></span> of strings, that
        contain keys.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-exists-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> if the key exists, otherwise <strong><code>FALSE</code></strong> Or if an
     <span class="type"><a href="#language.types.array" class="type array">array</a></span> was passed to <code class="parameter">keys</code>, then
     an array is returned that contains all existing keys, or an empty
     array if none exist.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-exists-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-451">
     <p><strong>Example #1 <span class="function"><strong>apc_exists()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$fruit&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$veggie&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'carrot'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$veggie</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">apc_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo&nbsp;exists:&nbsp;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo&nbsp;does&nbsp;not&nbsp;exist"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">apc_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Baz&nbsp;exists."</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Baz&nbsp;does&nbsp;not&nbsp;exist"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_exists</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'donotexist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ret</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Foo exists: apple
  Baz does not exist
  array(2) {
    [&quot;foo&quot;]=&gt;
    bool(true)
    [&quot;bar&quot;]=&gt;
    bool(true)
  }
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-exists-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
     <li class="member"><span class="function"><a href="#function.apc-fetch" class="function" rel="rdfs-seeAlso">apc_fetch()</a> - Fetch a stored variable from the cache</span></li>
    </ul>
   </div>
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-fetch" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_fetch</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.0)</p><p class="refpurpose"><span class="refname">apc_fetch</span> &mdash; <span class="dc-title">
     Fetch a stored variable from the cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-fetch-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_fetch</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter reference">&$success</code></span>
    ] ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Fetches a stored variable from the cache.
    </p>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apc-fetch-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         The <code class="parameter">key</code> used to store the value (with
         <span class="function"><a href="#function.apc-store" class="function">apc_store()</a></span>). If an array is passed then each
         element is fetched and returned.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">success</code></dt>
  
       <dd>
  
        <p class="para">
         Set to <strong><code>TRUE</code></strong> in success and <strong><code>FALSE</code></strong> in failure.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-fetch-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The stored variable or array of variables on success; <strong><code>FALSE</code></strong> on failure
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-fetch-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-452">
      <p><strong>Example #1 A <span class="function"><strong>apc_fetch()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  string(3) &quot;BAR&quot;
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 changelog" id="refsect1-function.apc-fetch-changelog">
    <h3 class="title">Changelog</h3>
    <table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td>3.0.17</td>
        <td>
         The <code class="parameter">success</code> parameter was added.
        </td>
       </tr>
  
      </tbody>
     
    </table>
  
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-fetch-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-store" class="function" rel="rdfs-seeAlso">apc_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apc-delete" class="function" rel="rdfs-seeAlso">apc_delete()</a> - Removes a stored variable from the cache</span></li>
      <li class="member"><a href="#class.apciterator" class="classname">APCIterator</a></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apc-inc" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_inc</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">apc_inc</span> &mdash; <span class="dc-title">Increase a stored number</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apc-inc-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_inc</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$step</code><span class="initializer"> = 1</span></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter reference">&$success</code></span>
    ]] ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Increases a stored number.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-inc-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">key</code></dt>
  
      <dd>
  
       <p class="para">
        The key of the value being increased.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">step</code></dt>
  
      <dd>
  
       <p class="para">
        The step, or value to increase.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">success</code></dt>
  
      <dd>
  
       <p class="para">
        Optionally pass the success or fail boolean value to
        this referenced variable.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-inc-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the current value of <code class="parameter">key</code>&#039;s value on success,
      or <strong><code>FALSE</code></strong> on failure
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-inc-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-453">
     <p><strong>Example #1 <span class="function"><strong>apc_inc()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Let's&nbsp;do&nbsp;something&nbsp;with&nbsp;success"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">apc_inc</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apc_inc</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apc_inc</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$success</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$success</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Now,&nbsp;let's&nbsp;fail"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apc_inc</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ret</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  42
  43
  53
  63
  bool(true)
  Now, let&#039;s fail
  
  bool(false)
  bool(false)
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-inc-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-dec" class="function" rel="rdfs-seeAlso">apc_dec()</a> - Decrease a stored number</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-load-constants" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_load_constants</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.0)</p><p class="refpurpose"><span class="refname">apc_load_constants</span> &mdash; <span class="dc-title">
     Loads a set of constants from the cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-load-constants-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_load_constants</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$case_sensitive</code><span class="initializer"> = <strong><code>TRUE</code></strong></span></span>
    ] ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Loads a set of constants from the cache.
    </p>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apc-load-constants-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         The name of the constant set (that was stored with
         <span class="function"><a href="#function.apc-define-constants" class="function">apc_define_constants()</a></span>) to be retrieved.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">case_sensitive</code></dt>
  
       <dd>
  
        <p class="para">
         The default behaviour for constants is to be declared case-sensitive;
         i.e. <code class="literal">CONSTANT</code> and <code class="literal">Constant</code>
         represent different values. If this parameter evaluates to <strong><code>FALSE</code></strong> the
         constants will be declared as case-insensitive symbols.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-load-constants-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-load-constants-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-454">
      <p><strong>Example #1 <span class="function"><strong>apc_load_constants()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$constants&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'ONE'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'TWO'&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'THREE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">,<br />);<br /></span><span style="color: #0000BB">apc_define_constants</span><span style="color: #007700">(</span><span style="color: #DD0000">'numbers'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$constants</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apc_load_constants</span><span style="color: #007700">(</span><span style="color: #DD0000">'numbers'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">ONE</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">TWO</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">THREE</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  123
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-load-constants-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-define-constants" class="function" rel="rdfs-seeAlso">apc_define_constants()</a> - Defines a set of constants for retrieval and mass-definition</span></li>
      <li class="member"><span class="function"><a href="#function.define" class="function" rel="rdfs-seeAlso">define()</a> - Defines a named constant</span></li>
      <li class="member"><span class="function"><a href="#function.constant" class="function" rel="rdfs-seeAlso">constant()</a> - Returns the value of a constant</span></li>
      <li class="member">
       Or <a href="#language.constants" class="link">the PHP constants reference</a>
      </li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-sma-info" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_sma_info</h1>
    <p class="verinfo">(PECL apc &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">apc_sma_info</span> &mdash; <span class="dc-title">
     Retrieves APC&#039;s Shared Memory Allocation information
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-sma-info-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_sma_info</strong></span>
      ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$limited</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
    ] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Retrieves APC&#039;s Shared Memory Allocation information.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apc-sma-info-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">limited</code></dt>
  
       <dd>
  
        <p class="para">
         When set to <strong><code>FALSE</code></strong> (default) <span class="function"><strong>apc_sma_info()</strong></span> will
         return a detailed information about each segment.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-sma-info-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Array of Shared Memory Allocation data; <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-sma-info-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-455">
      <p><strong>Example #1 A <span class="function"><strong>apc_sma_info()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_sma_info</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  Array
  (
      [num_seg] =&gt; 1
      [seg_size] =&gt; 31457280
      [avail_mem] =&gt; 31448408
      [block_lists] =&gt; Array
          (
              [0] =&gt; Array
                  (
                      [0] =&gt; Array
                          (
                              [size] =&gt; 31448408
                              [offset] =&gt; 8864
                          )
  
                  )
  
          )
  
  )
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-sma-info-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member">
       <a href="#apc.configuration" class="link">APC configuration directives</a>
      </li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apc-store" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apc_store</h1>
    <p class="verinfo">(PECL apc &gt;= 3.0.0)</p><p class="refpurpose"><span class="refname">apc_store</span> &mdash; <span class="dc-title">
     Cache a variable in the data store
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apc-store-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_store</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ] ) : <span class="type">bool</span></div>
  
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apc_store</strong></span>
      ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>
     [, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$unused</code><span class="initializer"> = NULL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ]] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Cache a variable in the data store.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      Unlike many other mechanisms in PHP, variables stored using
      <span class="function"><strong>apc_store()</strong></span> will persist between requests (until the
      value is removed from the cache).
     </span>
    </p></blockquote>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apc-store-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         Store the variable using this name. <code class="parameter">key</code>s are
         cache-unique, so storing a second value with the same
         <code class="parameter">key</code> will overwrite the original value.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">var</code></dt>
  
       <dd>
  
        <p class="para">
         The variable to store
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">ttl</code></dt>
  
       <dd>
  
        <p class="para">
         Time To Live; store <code class="parameter">var</code> in the cache for
         <code class="parameter">ttl</code> seconds. After the
         <code class="parameter">ttl</code> has passed, the stored variable will be
         expunged from the cache (on the next request). If no <code class="parameter">ttl</code>
         is supplied (or if the <code class="parameter">ttl</code> is
         <code class="literal">0</code>), the value will persist until it is removed from
         the cache manually, or otherwise fails to exist in the cache (clear,
         restart, etc.).
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">values</code></dt>
  
       <dd>
  
        <p class="para">
         Names in key, variables in value.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apc-store-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
     Second syntax returns array with error keys.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apc-store-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-456">
      <p><strong>Example #1 A <span class="function"><strong>apc_store()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apc_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apc_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  string(3) &quot;BAR&quot;
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apc-store-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apc-add" class="function" rel="rdfs-seeAlso">apc_add()</a> - Cache a new variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apc-fetch" class="function" rel="rdfs-seeAlso">apc_fetch()</a> - Fetch a stored variable from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.apc-delete" class="function" rel="rdfs-seeAlso">apc_delete()</a> - Removes a stored variable from the cache</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="#function.apc-add">apc_add</a> — Cache a new variable in the data store</li><li><a href="#function.apc-bin-dump">apc_bin_dump</a> — Get a binary dump of the given files and user variables</li><li><a href="#function.apc-bin-dumpfile">apc_bin_dumpfile</a> — Output a binary dump of cached files and user variables to a file</li><li><a href="#function.apc-bin-load">apc_bin_load</a> — Load a binary dump into the APC file/user cache</li><li><a href="#function.apc-bin-loadfile">apc_bin_loadfile</a> — Load a binary dump from a file into the APC file/user cache</li><li><a href="#function.apc-cache-info">apc_cache_info</a> — Retrieves cached information from APC's data store</li><li><a href="#function.apc-cas">apc_cas</a> — Updates an old value with a new value</li><li><a href="#function.apc-clear-cache">apc_clear_cache</a> — Clears the APC cache</li><li><a href="#function.apc-compile-file">apc_compile_file</a> — Stores a file in the bytecode cache, bypassing all filters</li><li><a href="#function.apc-dec">apc_dec</a> — Decrease a stored number</li><li><a href="#function.apc-define-constants">apc_define_constants</a> — Defines a set of constants for retrieval and mass-definition</li><li><a href="#function.apc-delete-file">apc_delete_file</a> — Deletes files from the opcode cache</li><li><a href="#function.apc-delete">apc_delete</a> — Removes a stored variable from the cache</li><li><a href="#function.apc-exists">apc_exists</a> — Checks if APC key exists</li><li><a href="#function.apc-fetch">apc_fetch</a> — Fetch a stored variable from the cache</li><li><a href="#function.apc-inc">apc_inc</a> — Increase a stored number</li><li><a href="#function.apc-load-constants">apc_load_constants</a> — Loads a set of constants from the cache</li><li><a href="#function.apc-sma-info">apc_sma_info</a> — Retrieves APC's Shared Memory Allocation information</li><li><a href="#function.apc-store">apc_store</a> — Cache a variable in the data store</li></ul>
  </div>
  
  <hr />
  
  
  
  
  
   
  
  
  <div id="class.apciterator" class="reference"><hr />
  
   <h1 class="title">The APCIterator class</h1>
   
  
   <div class="partintro"><p class="verinfo">(PECL apc &gt;= 3.1.1)</p>
  
  
    <div class="section" id="apciterator.intro">
     <h2 class="title">Introduction</h2>
     <p class="para">
      The <strong class="classname">APCIterator</strong> class makes it easier to iterate
      over large APC caches. This is helpful as it allows iterating over large
      caches in steps, while grabbing a defined number of entries per lock instance,
      so it frees the cache locks for other activities rather than hold up the
      entire cache to grab 100 (the default) entries. Also, using regular expression
      matching is more efficient as it&#039;s been moved to the C level.
     </p>
    </div>
  
  
    <div class="section" id="apciterator.synopsis">
     <h2 class="title">Class synopsis</h2>
  
  
     <div class="classsynopsis">
      <div class="ooclass"></div>
  
  
      <div class="classsynopsisinfo">
       <span class="ooclass">
        <strong class="classname">APCIterator</strong>
       </span>
       
       <span class="oointerface">implements 
        <span class="interfacename"><a href="#class.iterator" class="interfacename">Iterator</a></span>
       </span>
  
       {</div>
  
      
      <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
      <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.construct" class="methodname">__construct</a></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$cache</code></span>
     [, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$search</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$format</code><span class="initializer"> = APC_ITER_ALL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$chunk_size</code><span class="initializer"> = 100</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$list</code><span class="initializer"> = APC_LIST_ACTIVE</span></span>
    ]]]] )</div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.current" class="methodname">current</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.gettotalcount" class="methodname">getTotalCount</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.gettotalhits" class="methodname">getTotalHits</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.gettotalsize" class="methodname">getTotalSize</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.key" class="methodname">key</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">string</span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.next" class="methodname">next</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.rewind" class="methodname">rewind</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type"><span class="type void">void</span></span></div>
  <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><a href="#apciterator.valid" class="methodname">valid</a></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  
     }</div>
  
  
    </div>
  
   </div>
  
   
  
  
  <div id="apciterator.construct" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::__construct</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::__construct</span> &mdash; <span class="dc-title">Constructs an APCIterator iterator object</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.construct-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::__construct</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$cache</code></span>
     [, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$search</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$format</code><span class="initializer"> = APC_ITER_ALL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$chunk_size</code><span class="initializer"> = 100</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$list</code><span class="initializer"> = APC_LIST_ACTIVE</span></span>
    ]]]] )</div>
  
    <p class="para rdfs-comment">
     Constructs an <a href="#class.apciterator" class="classname">APCIterator</a> <span class="type"><a href="#language.types.object" class="type object">object</a></span>.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.construct-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">cache</code></dt>
  
      <dd>
  
       <p class="para">
        The cache type, which will be <code class="literal">user</code> or
        <code class="literal">file</code>.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">search</code></dt>
  
      <dd>
  
       <p class="para">
        A <a href="#book.pcre" class="link">PCRE</a> regular expression that
        matches against APC key names, either as a <span class="type"><a href="#language.types.string" class="type string">string</a></span> for
        a single regular expression, or as an <span class="type"><a href="#language.types.array" class="type array">array</a></span> of regular
        expressions. Or, optionally pass in <strong><code>NULL</code></strong> to skip the search.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">format</code></dt>
  
      <dd>
  
       <p class="para">
        The desired format, as configured with one or more of the
        <a href="#apc.constants" class="link">APC_ITER_*</a> constants.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">chunk_size</code></dt>
  
      <dd>
  
       <p class="para">
        The chunk size. Must be a value greater than 0. The default
        value is 100.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">list</code></dt>
  
      <dd>
  
       <p class="para">
        The type to list. Either pass in <strong><code>APC_LIST_ACTIVE</code></strong>
        or <strong><code>APC_LIST_DELETED</code></strong>.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.construct-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     An <a href="#class.apciterator" class="classname">APCIterator</a> <span class="type"><a href="#language.types.object" class="type object">object</a></span> on success,
     or <strong><code>NULL</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-apciterator.construct-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-457">
      <p><strong>Example #1 A <span class="function"><strong>APCIterator::__construct()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">foreach&nbsp;(new&nbsp;</span><span style="color: #0000BB">APCIterator</span><span style="color: #007700">(</span><span style="color: #DD0000">'user'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'/^counter\./'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$counter</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$counter</span><span style="color: #007700">[</span><span style="color: #0000BB">key</span><span style="color: #007700">]</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$counter</span><span style="color: #007700">[</span><span style="color: #0000BB">value</span><span style="color: #007700">]</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">apc_dec</span><span style="color: #007700">(</span><span style="color: #0000BB">$counter</span><span style="color: #007700">[</span><span style="color: #DD0000">'key'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">$counter</span><span style="color: #007700">[</span><span style="color: #DD0000">'value'</span><span style="color: #007700">]);<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.construct-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apc-exists" class="function" rel="rdfs-seeAlso">apc_exists()</a> - Checks if APC key exists</span></li>
     <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.current" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::current</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::current</span> &mdash; <span class="dc-title">Get current item</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.current-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::current</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Gets the current item from the <a href="#class.apciterator" class="classname">APCIterator</a> stack.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.current-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.current-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the current item on success, or <strong><code>FALSE</code></strong> if no
     more items or exist, or on failure.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.current-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.next" class="methodname" rel="rdfs-seeAlso">APCIterator::next()</a> - Move pointer to next item</span></li>
     <li class="member"><span class="methodname"><a href="#iterator.current" class="methodname" rel="rdfs-seeAlso">Iterator::current()</a> - Return the current element</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.gettotalcount" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::getTotalCount</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::getTotalCount</span> &mdash; <span class="dc-title">Get total count</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.gettotalcount-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::getTotalCount</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Get the total count.
    </p>
  
    <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This function is
  currently not documented; only its argument list is available.
  </p></div>
  
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.gettotalcount-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.gettotalcount-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The total count.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.gettotalcount-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalhits" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalHits()</a> - Get total cache hits</span></li>
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalsize" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalSize()</a> - Get total cache size</span></li>
     <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.gettotalhits" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::getTotalHits</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::getTotalHits</span> &mdash; <span class="dc-title">Get total cache hits</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.gettotalhits-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::getTotalHits</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Gets the total number of cache hits.
    </p>
  
    <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This function is
  currently not documented; only its argument list is available.
  </p></div>
  
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.gettotalhits-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.gettotalhits-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The number of hits on success, or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.gettotalhits-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalcount" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalCount()</a> - Get total count</span></li>
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalsize" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalSize()</a> - Get total cache size</span></li>
     <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.gettotalsize" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::getTotalSize</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::getTotalSize</span> &mdash; <span class="dc-title">Get total cache size</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.gettotalsize-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::getTotalSize</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Gets the total cache size.
    </p>
  
    <div class="warning"><strong class="warning">Warning</strong><p class="simpara">This function is
  currently not documented; only its argument list is available.
  </p></div>
  
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.gettotalsize-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.gettotalsize-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The total cache size.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.gettotalsize-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalcount" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalCount()</a> - Get total count</span></li>
     <li class="member"><span class="methodname"><a href="#apciterator.gettotalhits" class="methodname" rel="rdfs-seeAlso">APCIterator::getTotalHits()</a> - Get total cache hits</span></li>
     <li class="member"><span class="function"><a href="#function.apc-cache-info" class="function" rel="rdfs-seeAlso">apc_cache_info()</a> - Retrieves cached information from APC's data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.key" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::key</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::key</span> &mdash; <span class="dc-title">Get iterator key</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.key-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::key</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">string</span></div>
  
    <p class="para rdfs-comment">
     Gets the current iterator key.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.key-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.key-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the key on success, or <strong><code>FALSE</code></strong> upon failure.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.key-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.current" class="methodname" rel="rdfs-seeAlso">APCIterator::current()</a> - Get current item</span></li>
     <li class="member"><span class="methodname"><a href="#iterator.key" class="methodname" rel="rdfs-seeAlso">Iterator::key()</a> - Return the key of the current element</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.next" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::next</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::next</span> &mdash; <span class="dc-title">Move pointer to next item</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.next-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::next</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Moves the iterator pointer to the next element.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.next-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.next-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.next-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.current" class="methodname" rel="rdfs-seeAlso">APCIterator::current()</a> - Get current item</span></li>
     <li class="member"><span class="methodname"><a href="#apciterator.rewind" class="methodname" rel="rdfs-seeAlso">APCIterator::rewind()</a> - Rewinds iterator</span></li>
     <li class="member"><span class="methodname"><a href="#iterator.next" class="methodname" rel="rdfs-seeAlso">Iterator::next()</a> - Move forward to next element</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.rewind" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::rewind</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::rewind</span> &mdash; <span class="dc-title">Rewinds iterator</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.rewind-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::rewind</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type"><span class="type void">void</span></span></div>
  
    <p class="para rdfs-comment">
     Rewinds back the iterator to the first element.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.rewind-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.rewind-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     No value is returned.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.rewind-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.next" class="methodname" rel="rdfs-seeAlso">APCIterator::next()</a> - Move pointer to next item</span></li>
     <li class="member"><span class="methodname"><a href="#iterator.next" class="methodname" rel="rdfs-seeAlso">Iterator::next()</a> - Move forward to next element</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="apciterator.valid" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">APCIterator::valid</h1>
    <p class="verinfo">(PECL apc &gt;= 3.1.1)</p><p class="refpurpose"><span class="refname">APCIterator::valid</span> &mdash; <span class="dc-title">Checks if current position is valid</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-apciterator.valid-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="modifier">public</span> <span class="methodname"><strong>APCIterator::valid</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Checks if the current iterator position is valid.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-apciterator.valid-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-apciterator.valid-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> if the current iterator position is valid, otherwise <strong><code>FALSE</code></strong>.
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-apciterator.valid-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="methodname"><a href="#apciterator.current" class="methodname" rel="rdfs-seeAlso">APCIterator::current()</a> - Get current item</span></li>
     <li class="member"><span class="methodname"><a href="#iterator.valid" class="methodname" rel="rdfs-seeAlso">Iterator::valid()</a> - Checks if current position is valid</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="#apciterator.construct">APCIterator::__construct</a> — Constructs an APCIterator iterator object</li><li><a href="#apciterator.current">APCIterator::current</a> — Get current item</li><li><a href="#apciterator.gettotalcount">APCIterator::getTotalCount</a> — Get total count</li><li><a href="#apciterator.gettotalhits">APCIterator::getTotalHits</a> — Get total cache hits</li><li><a href="#apciterator.gettotalsize">APCIterator::getTotalSize</a> — Get total cache size</li><li><a href="#apciterator.key">APCIterator::key</a> — Get iterator key</li><li><a href="#apciterator.next">APCIterator::next</a> — Move pointer to next item</li><li><a href="#apciterator.rewind">APCIterator::rewind</a> — Rewinds iterator</li><li><a href="#apciterator.valid">APCIterator::valid</a> — Checks if current position is valid</li></ul>
  </div>
  
  <hr />
  
  
  
  
  
  <ul class="chunklist chunklist_book"><li><a href="#intro.apc">Introduction</a></li><li><a href="#apc.setup">Installing/Configuring</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#apc.requirements">Requirements</a></li><li><a href="#apc.installation">Installation</a></li><li><a href="#apc.configuration">Runtime Configuration</a></li><li><a href="#apc.resources">Resource Types</a></li></ul></li><li><a href="#apc.constants">Predefined Constants</a></li><li><a href="#ref.apc">APC Functions</a><ul class="chunklist chunklist_book chunklist_children"><li><a href="#function.apc-add">apc_add</a> — Cache a new variable in the data store</li><li><a href="#function.apc-bin-dump">apc_bin_dump</a> — Get a binary dump of the given files and user variables</li><li><a href="#function.apc-bin-dumpfile">apc_bin_dumpfile</a> — Output a binary dump of cached files and user variables to a file</li><li><a href="#function.apc-bin-load">apc_bin_load</a> — Load a binary dump into the APC file/user cache</li><li><a href="#function.apc-bin-loadfile">apc_bin_loadfile</a> — Load a binary dump from a file into the APC file/user cache</li><li><a href="#function.apc-cache-info">apc_cache_info</a> — Retrieves cached information from APC's data store</li><li><a href="#function.apc-cas">apc_cas</a> — Updates an old value with a new value</li><li><a href="#function.apc-clear-cache">apc_clear_cache</a> — Clears the APC cache</li><li><a href="#function.apc-compile-file">apc_compile_file</a> — Stores a file in the bytecode cache, bypassing all filters</li><li><a href="#function.apc-dec">apc_dec</a> — Decrease a stored number</li><li><a href="#function.apc-define-constants">apc_define_constants</a> — Defines a set of constants for retrieval and mass-definition</li><li><a href="#function.apc-delete-file">apc_delete_file</a> — Deletes files from the opcode cache</li><li><a href="#function.apc-delete">apc_delete</a> — Removes a stored variable from the cache</li><li><a href="#function.apc-exists">apc_exists</a> — Checks if APC key exists</li><li><a href="#function.apc-fetch">apc_fetch</a> — Fetch a stored variable from the cache</li><li><a href="#function.apc-inc">apc_inc</a> — Increase a stored number</li><li><a href="#function.apc-load-constants">apc_load_constants</a> — Loads a set of constants from the cache</li><li><a href="#function.apc-sma-info">apc_sma_info</a> — Retrieves APC's Shared Memory Allocation information</li><li><a href="#function.apc-store">apc_store</a> — Cache a variable in the data store</li></ul></li><li><a href="#class.apciterator">APCIterator</a> — The APCIterator class<ul class="chunklist chunklist_book chunklist_children"><li><a href="#apciterator.construct">APCIterator::__construct</a> — Constructs an APCIterator iterator object</li><li><a href="#apciterator.current">APCIterator::current</a> — Get current item</li><li><a href="#apciterator.gettotalcount">APCIterator::getTotalCount</a> — Get total count</li><li><a href="#apciterator.gettotalhits">APCIterator::getTotalHits</a> — Get total cache hits</li><li><a href="#apciterator.gettotalsize">APCIterator::getTotalSize</a> — Get total cache size</li><li><a href="#apciterator.key">APCIterator::key</a> — Get iterator key</li><li><a href="#apciterator.next">APCIterator::next</a> — Move pointer to next item</li><li><a href="#apciterator.rewind">APCIterator::rewind</a> — Rewinds iterator</li><li><a href="#apciterator.valid">APCIterator::valid</a> — Checks if current position is valid</li></ul></li></ul></div>
  <hr />
  
  
  
  
  
     
  
  
  <div id="book.apcu" class="book"><hr />
   <h1 class="title">APC User Cache</h1>
   
  
   <div id="intro.apcu" class="preface"><hr />
    <h1 class="title">Introduction</h1>
    <p class="para">
     APCu is <a href="#book.apc" class="link">APC</a> stripped of opcode caching.
    </p>
    <p class="para">
     The first APCu codebase was versioned 4.0.0, it was forked from the head of the APC master branch at the time.
    </p>
    <p class="para">
     PHP 7 support is available as of APCu 5.0.0.
    </p>
    <p class="para">
     APCu can provide a compatibility mode, such that it can provide a drop in replacement for the applicable parts of APC.
    </p>
   </div>
  <hr />
  
  
   
  
  
  <div id="apcu.setup" class="chapter"><hr />
   <h1>Installing/Configuring</h1>
  <h2>Table of Contents</h2><ul class="chunklist chunklist_chapter"><li><a href="#apcu.requirements">Requirements</a></li><li><a href="#apcu.installation">Installation</a></li><li><a href="#apcu.configuration">Runtime Configuration</a></li><li><a href="#apcu.resources">Resource Types</a></li></ul>
  
  
   <div id="apcu.requirements" class="section"><hr />
    <h2 class="title">Requirements</h2>
    <p class="para">No external libraries are needed to build this extension.</p>
   </div>
  <hr />
  
  
   <div id="apcu.installation" class="section"><hr />
    <h2 class="title">Installation</h2>
    <p class="para">
     If backward compatibility with the applicable parts of APC is required,
     APCu must be configured with the option --enable-apcu-bc.
    </p>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="simpara">
      PHP 7 has a separate module (<a href="https://pecl.php.net/apcu_bc" class="link external">&raquo;&nbsp;apc.so</a>) for backwards compatibility with APC.
     </p>
    </div>
    <p class="para">
     In backward compatibility mode, APCu registers the applicable APC functions
     with backward compatible prototypes.
    </p>
    <p class="para">
     Where an APC function accepted <code class="parameter">cache_type</code>, it is simply
     ignored by the backward compatible version, and omitted from the prototype for
     the APCu version.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      On Windows, APCu needs a temp path to exist, and be
      writable by the web server.  It checks the TMP, TEMP 
      and USERPROFILE environment variables in that order
      and finally tries the WINDOWS directory if none of
      those are set.
     </span>
    </p></blockquote>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      For more in-depth, highly technical implementation details, see the
      <a href="https://git.php.net/?p=pecl/caching/apc.git;a=blob;f=TECHNOTES.txt" class="link external">&raquo;&nbsp;
       developer-supplied TECHNOTES file
      </a>.
     </span>
    </p></blockquote>
    <p class="para">
     APCu sources can be found <a href="https://github.com/krakjoe/apcu" class="link external">&raquo;&nbsp;here</a>.
    </p>
   </div>
  <hr />
  
  
   
  
  <div id="apcu.configuration" class="section"><hr />
   <h2 class="title">Runtime Configuration</h2>
   <p class="simpara">
  The behaviour of these functions is affected by settings in <var class="filename">php.ini</var>.
  </p>
   <p class="para">
    Although the default APCu settings are fine for many installations, serious
    users should consider tuning the following parameters.
   </p>
   <p class="para">
    There is one decision to be made configuring APCu.  
    How much memory is going to be allocated to APCu.
    The ini directive that controls this is <code class="literal">apc.shm_size</code>
    Read the sections on this carefully below.
   </p>
   <p class="para">
    Once the server is running, the <code class="literal">apc.php</code> script that
    is bundled with the extension should be copied somewhere into the docroot and
    viewed with a browser as it provides a detailed analysis of the internal 
    workings of APCu. If GD is enabled in PHP, it will even display some
    interesting graphs. If APCu is working, the <code class="literal">Cache full count
    </code> number (on the left) will display the number of times the cache
    has reached maximum capacity and has had to forcefully clean any entries that
    haven&#039;t been accessed in the last <code class="literal">apc.ttl</code> seconds. This
    number is minimized in a well-configured cache.  If the cache is constantly
    being filled, and thusly forcefully freed, the resulting churning will have
    disparaging effects on script performance. The easiest way to minimize this 
    number is to allocate more memory for APCu.
   </p>
   <p class="para">
    When APCu is compiled with mmap support (Memory Mapping), it will use only one 
    memory segment, unlike when APCu is built with SHM (SysV Shared Memory) support 
    that uses multiple memory segments. MMAP does not have a maximum limit like SHM 
    does in <code class="literal">/proc/sys/kernel/shmmax</code>. In general MMAP support is 
    recommended because it will reclaim the memory faster when the webserver is 
    restarted and all in all reduces memory allocation impact at startup.
   </p>
   <p class="para">
    <table class="doctable table">
     <caption><strong>APCu configuration options</strong></caption>
     
      <thead>
       <tr>
        <th>Name</th>
        <th>Default</th>
        <th>Changeable</th>
        <th>Changelog</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td><a href="#ini.apcu.enabled" class="link">apc.enabled</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.shm-segments" class="link">apc.shm_segments</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.shm-size" class="link">apc.shm_size</a></td>
        <td>&quot;32M&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.entries-hint" class="link">apc.entries_hint</a></td>
        <td>&quot;4096&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.ttl" class="link">apc.ttl</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.gc-ttl" class="link">apc.gc_ttl</a></td>
        <td>&quot;3600&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.mmap-file-mask" class="link">apc.mmap_file_mask</a></td>
        <td>NULL</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.slam-defense" class="link">apc.slam_defense</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.enable-cli" class="link">apc.enable_cli</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.use-request-time" class="link">apc.use_request_time</a></td>
        <td>&quot;1&quot;</td>
        <td>PHP_INI_ALL</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.serializer" class="link">apc.serializer</a></td>
        <td>&quot;default&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.coredump-unmap" class="link">apc.coredump_unmap</a></td>
        <td>&quot;0&quot;</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
       <tr>
        <td><a href="#ini.apcu.preload-path" class="link">apc.preload_path</a></td>
        <td>NULL</td>
        <td>PHP_INI_SYSTEM</td>
        <td class="empty">&nbsp;</td>
       </tr>
  
      </tbody>
     
    </table>
  
    For further details and definitions of the
  PHP_INI_* modes, see the <a href="#configuration.changes.modes" class="xref">Where a configuration setting may be set</a>.
   </p>
   
   <p class="para">Here&#039;s a short explanation of
  the configuration directives.</p>
   
   <p class="para">
    <dl>
  
     
      <dt id="ini.apcu.enabled">
       <code class="parameter">apc.enabled</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        <code class="literal">apc.enabled</code> can be set to 0 to disable APC. This is
        primarily useful when APC is statically compiled
        into PHP, since there is no other way to disable
        it (when compiled as a DSO, the <code class="literal">extension</code>
        line in <code class="literal">php.ini</code> can just be commented-out).
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.shm-segments">
       <code class="parameter">apc.shm_segments</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of shared memory segments to allocate
        for the compiler cache. If APC is running out of
        shared memory but <code class="literal">apc.shm_size</code> 
        is set as high as the system allows, raising
        this value might prevent APC from exhausting its memory.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.shm-size">
       <code class="parameter">apc.shm_size</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The size of each shared memory segment given by a shorthand notation as
        described in <a href="#faq.using.shorthandbytes" class="link">this FAQ</a>.
        By default, some systems (including most BSD
        variants) have very low limits on the size of a
        shared memory segment.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.entries-hint">
       <code class="parameter">apc.entries_hint</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        A &quot;hint&quot; about the number of distinct variables that might be stored.
        Set to zero or omit if not sure.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.ttl">
       <code class="parameter">apc.ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of seconds a cache entry is allowed to
        idle in a slot in case this cache entry slot is
        needed by another entry.  Leaving this at zero
        means that APC&#039;s cache could potentially fill up
        with stale entries while newer entries won&#039;t be
        cached.  In the event of a cache running out of
        available memory, the cache will be completely
        expunged if ttl is equal to 0.  Otherwise, if the
        ttl is greater than 0, APC will attempt to remove
        expired entries.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.gc-ttl">
       <code class="parameter">apc.gc_ttl</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        The number of seconds that a cache entry may
        remain on the garbage-collection list. This value
        provides a fail-safe in the event that a server
        process dies while executing a cached source file;
        if that source file is modified, the memory
        allocated for the old version will not be
        reclaimed until this TTL reached. Set to zero to
        disable this feature.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.mmap-file-mask">
       <code class="parameter">apc.mmap_file_mask</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        If compiled with MMAP support by using <code class="literal">--enable-mmap</code>
        this is the mktemp-style file_mask to pass to the
        mmap module for determining whether your mmap&#039;ed memory
        region is going to be file-backed or shared memory
        backed.  For straight file-backed mmap, set it to
        something like <code class="literal">/tmp/apc.XXXXXX</code>
        (exactly 6 <code class="literal">X</code>s).
        To use POSIX-style shm_open/mmap put a <code class="literal">.shm</code>
        somewhere in your mask.  e.g. <code class="literal">/apc.shm.XXXXXX</code>
        You can also set it to <code class="literal">/dev/zero</code> to use your
        kernel&#039;s <code class="literal">/dev/zero</code> interface to anonymous mmap&#039;ed
        memory. Leaving it undefined will force an anonymous mmap.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.slam-defense">
       <code class="parameter">apc.slam_defense</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        On very busy servers whenever you start the server or
        modify files you can create a race of many processes
        all trying to cache the same file at the same time.
        This option sets the percentage of processes that will
        skip trying to cache an uncached file.  Or think of it
        as the probability of a single process to skip caching.
        For example, setting <code class="literal">apc.slam_defense</code>
        to <code class="literal">75</code> would mean that there is
        a 75% chance that the process will not cache an uncached
        file. So, the higher the setting the greater the defense
        against cache slams.  Setting this to <code class="literal">0</code>
        disables this feature.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.enable-cli">
       <code class="parameter">apc.enable_cli</code>
       <span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Mostly for testing and debugging.  Setting this enables APC
        for the CLI version of PHP.  Under normal circumstances, it is
        not ideal to create, populate and destroy the APC cache on every
        CLI request, but for various test scenarios it is useful to be
        able to enable APC for the CLI version of PHP easily.
       </p>
      </dd>
  
      
     
      <dt id="ini.apcu.serializer">
       <code class="parameter">apc.serializer</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Used to configure APC to use a third party serializer.
       </p>
      </dd>
  
     
     
      <dt id="ini.apcu.coredump-unmap">
       <code class="parameter">apc.coredump_unmap</code>
       <span class="type"><a href="#language.types.boolean" class="type boolean">boolean</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Enables APC handling of signals, such as SIGSEGV, that write
        core files when signaled. When these signals are received,
        APC will attempt to unmap the shared memory segment in order
        to exclude it from the core file. This setting may improve
        system stability when fatal signals are received and a large 
        APC shared memory segment is configured.
       </p>
       <div class="warning"><strong class="warning">Warning</strong>
        <p class="para">
         This feature is potentially dangerous. Unmapping the shared
         memory segment in a fatal signal handler may cause undefined
         behaviour if a fatal error occurs.
        </p>
       </div>
       <blockquote class="note"><p><strong class="note">Note</strong>: 
        <p class="para">
         Although some kernels may provide a facility to ignore various
         types of shared memory when generating a core dump file, these 
         implementations may also ignore important shared memory segments
         such as the Apache scoreboard.
        </p>
       </p></blockquote>
      </dd>
  
     
     
      <dt id="ini.apcu.preload-path">
       <code class="parameter">apc.preload_path</code>
       <span class="type"><a href="#language.types.string" class="type string">string</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Optionally, set a path to the directory that APC will load 
        cache data at startup.
       </p>
      </dd>
  
     
  
     
      <dt id="ini.apcu.use-request-time">
       <code class="parameter">apc.use_request_time</code>
       <span class="type"><a href="#language.types.boolean" class="type bool">bool</a></span>
      </dt>
  
      <dd>
  
       <p class="para">
        Use the <acronym title="Server Application Programming Interface">SAPI</acronym> request start time for
        <acronym>TTL</acronym>.
       </p>
      </dd>
  
     
    </dl>
  
   </p>
  </div>
  <hr />
  
  
  
  
  
   <div id="apcu.resources" class="section"><hr />
    <h2 class="title">Resource Types</h2>
    <p class="para">This extension has no resource types defined.</p>
   </div>
  <hr />
  
  
  </div>
  
  <hr />
  
  
  
  
  
   
  
  
  <div id="apcu.constants" class="appendix"><hr />
   <h1>Predefined Constants</h1>
  
   <p class="simpara">
  The constants below are defined by this extension, and
  will only be available when the extension has either
  been compiled into PHP or dynamically loaded at runtime.
  </p>
  
   <p class="para">
    <dl>
  
     
      <dt id="constant.apcu-iter-all">
       <strong><code>APC_ITER_ALL</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-atime">
       <strong><code>APC_ITER_ATIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-ctime">
       <strong><code>APC_ITER_CTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-device">
       <strong><code>APC_ITER_DEVICE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-dtime">
       <strong><code>APC_ITER_DTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-filename">
       <strong><code>APC_ITER_FILENAME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-inode">
       <strong><code>APC_ITER_INODE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-key">
       <strong><code>APC_ITER_KEY</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-md5">
       <strong><code>APC_ITER_MD5</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-mem-size">
       <strong><code>APC_ITER_MEM_SIZE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-mtime">
       <strong><code>APC_ITER_MTIME</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-none">
       <strong><code>APC_ITER_NONE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-num-hits">
       <strong><code>APC_ITER_NUM_HITS</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-refcount">
       <strong><code>APC_ITER_REFCOUNT</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-ttl">
       <strong><code>APC_ITER_TTL</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-type">
       <strong><code>APC_ITER_TYPE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-iter-value">
       <strong><code>APC_ITER_VALUE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-list-active">
       <strong><code>APC_LIST_ACTIVE</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
     
      <dt id="constant.apcu-list-deleted">
       <strong><code>APC_LIST_DELETED</code></strong>
       (<span class="type"><a href="#language.types.integer" class="type integer">integer</a></span>)
      </dt>
  
      <dd>
  
       <span class="simpara">
  
       </span>
      </dd>
  
     
    </dl>
  
   </p>
  </div>
  
  <hr />
  
  
  
  
   
  
  
  <div id="ref.apcu" class="reference"><hr />
   <h1 class="title">APCu Functions</h1>
  
   
  
  <div id="function.apcu-add" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_add</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_add</span> &mdash; <span class="dc-title">
     Cache a new variable in the data store
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-add-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_add</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ] ) : <span class="type">bool</span></div>
  
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_add</strong></span>
      ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$values</code></span>
     [, <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$unused</code><span class="initializer"> = NULL</span></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ]] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Caches a variable in the data store, only if it&#039;s not already stored.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      Unlike many other mechanisms in PHP, variables stored using
      <span class="function"><strong>apcu_add()</strong></span> will persist between requests (until the
      value is removed from the cache).
     </span>
    </p></blockquote>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-add-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         Store the variable using this name. <code class="parameter">key</code>s are
         cache-unique, so attempting to use <span class="function"><strong>apcu_add()</strong></span> to
         store data with a key that already exists will not overwrite the
         existing data, and will instead return <strong><code>FALSE</code></strong>. (This is the only
         difference between <span class="function"><strong>apcu_add()</strong></span> and
         <span class="function"><a href="#function.apcu-store" class="function">apcu_store()</a></span>.)
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">var</code></dt>
  
       <dd>
  
        <p class="para">
         The variable to store
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">ttl</code></dt>
  
       <dd>
  
        <p class="para">
         Time To Live; store <code class="parameter">var</code> in the cache for
         <code class="parameter">ttl</code> seconds. After the
         <code class="parameter">ttl</code> has passed, the stored variable will be
         expunged from the cache (on the next request). If no <code class="parameter">ttl</code>
         is supplied (or if the <code class="parameter">ttl</code> is
         <code class="literal">0</code>), the value will persist until it is removed from
         the cache manually, or otherwise fails to exist in the cache (clear,
         restart, etc.).
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">values</code></dt>
  
       <dd>
  
        <p class="para">
         Names in key, variables in value.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-add-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns TRUE if something has effectively been added into the cache, FALSE otherwise.
     Second syntax returns array with error keys.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-add-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-458">
      <p><strong>Example #1 A <span class="function"><strong>apcu_add()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'NEVER&nbsp;GETS&nbsp;SET'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_add</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  string(3) &quot;BAR&quot;
  string(3) &quot;BAR&quot;
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-add-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apcu-store" class="function" rel="rdfs-seeAlso">apcu_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-fetch" class="function" rel="rdfs-seeAlso">apcu_fetch()</a> - Fetch a stored variable from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-delete" class="function" rel="rdfs-seeAlso">apcu_delete()</a> - Removes a stored variable from the cache</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apcu-cache-info" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_cache_info</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_cache_info</span> &mdash; <span class="dc-title">
     Retrieves cached information from APCu&#039;s data store
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-cache-info-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_cache_info</strong></span>
      ([ <span class="methodparam"><span class="type">bool</span> <code class="parameter">$limited</code><span class="initializer"> = <strong><code>FALSE</code></strong></span></span>
    ] ) : <span class="type">array</span></div>
  
    <p class="para rdfs-comment">
     Retrieves cached information and meta-data from APC&#039;s data store.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-cache-info-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">limited</code></dt>
  
       <dd>
  
        <p class="para">
         If <code class="parameter">limited</code> is <strong><code>TRUE</code></strong>, the
         return value will exclude the individual list of cache entries.  This
         is useful when trying to optimize calls for statistics gathering.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-cache-info-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Array of cached data (and meta-data) or <strong><code>FALSE</code></strong> on failure
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      <span class="function"><strong>apcu_cache_info()</strong></span> will raise a warning if it is unable to
      retrieve APC cache data. This typically occurs when APC is not enabled.
     </span>
    </p></blockquote>
   </div>
  
  
   <div class="refsect1 changelog" id="refsect1-function.apcu-cache-info-changelog">
    <h3 class="title">Changelog</h3>
    <p class="para">
     <table class="doctable informaltable">
      
       <thead>
        <tr>
         <th>Version</th>
         <th>Description</th>
        </tr>
  
       </thead>
  
       <tbody class="tbody">
        <tr>
         <td>3.0.11</td>
         <td>
          The <code class="parameter">limited</code> parameter was introduced.
         </td>
        </tr>
  
        <tr>
         <td>3.0.16</td>
         <td>
          The &quot;<code class="literal">filehits</code>&quot; option for the
          <code class="parameter">cache_type</code> parameter was introduced.
         </td>
        </tr>
  
       </tbody>
      
     </table>
  
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-cache-info-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-459">
      <p><strong>Example #1 A <span class="function"><strong>apcu_cache_info()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_cache_info</span><span style="color: #007700">());<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  Array
  (
      [num_slots] =&gt; 2000
      [ttl] =&gt; 0
      [num_hits] =&gt; 9
      [num_misses] =&gt; 3
      [start_time] =&gt; 1123958803
      [cache_list] =&gt; Array
          (
              [0] =&gt; Array
                  (
                      [filename] =&gt; /path/to/apcu_test.php
                      [device] =&gt; 29954
                      [inode] =&gt; 1130511
                      [type] =&gt; file
                      [num_hits] =&gt; 1
                      [mtime] =&gt; 1123960686
                      [creation_time] =&gt; 1123960696
                      [deletion_time] =&gt; 0
                      [access_time] =&gt; 1123962864
                      [ref_count] =&gt; 1
                      [mem_size] =&gt; 677
                  )
              [1] =&gt; Array (...iterates for each cached file)
  )
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-cache-info-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><a href="#apcu.configuration" class="link">APCu configuration directives</a></li>
      <li class="member"><span class="methodname"><a href="#apcuiterator.gettotalsize" class="methodname" rel="rdfs-seeAlso">APCUIterator::getTotalSize()</a> - Get total cache size</span></li>
      <li class="member"><span class="methodname"><a href="#apcuiterator.gettotalhits" class="methodname" rel="rdfs-seeAlso">APCUIterator::getTotalHits()</a> - Get total cache hits</span></li>
      <li class="member"><span class="methodname"><a href="#apcuiterator.gettotalcount" class="methodname" rel="rdfs-seeAlso">APCUIterator::getTotalCount()</a> - Get total count</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apcu-cas" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_cas</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_cas</span> &mdash; <span class="dc-title">Updates an old value with a new value</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apcu-cas-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_cas</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type">int</span> <code class="parameter">$old</code></span>
     , <span class="methodparam"><span class="type">int</span> <code class="parameter">$new</code></span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     <span class="function"><strong>apcu_cas()</strong></span> updates an already existing integer value if the 
     <code class="parameter">old</code> parameter matches the currently stored value 
     with the value of the <code class="parameter">new</code> parameter.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-cas-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">key</code></dt>
  
      <dd>
  
       <p class="para">
        The key of the value being updated.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">old</code></dt>
  
      <dd>
  
       <p class="para">
        The old value (the value currently stored).
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">new</code></dt>
  
      <dd>
  
       <p class="para">
        The new value to update to.
       </p>
      </dd>
  
     
    </dl>
  
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-cas-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-cas-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-460">
     <p><strong>Example #1 <span class="function"><strong>apcu_cas()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;2'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;==&nbsp;1&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apcu_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;==&nbsp;2&nbsp;?&nbsp;1&nbsp;:&nbsp;2&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apcu_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$f__bar&nbsp;==&nbsp;1&nbsp;?&nbsp;2&nbsp;:&nbsp;1&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apcu_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'f__bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'perfection'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'xyz'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">'$perfection&nbsp;==&nbsp;2&nbsp;?&nbsp;1&nbsp;:&nbsp;2&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;(</span><span style="color: #0000BB">apcu_cas</span><span style="color: #007700">(</span><span style="color: #DD0000">'perfection'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'ok'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'epic&nbsp;fail'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'$foobar&nbsp;=&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foobar'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  $foobar = 2
  $foobar == 1 ? 2 : 1 = fail
  $foobar == 2 ? 1 : 2 = ok
  $foobar = 1
  $f__bar == 1 ? 2 : 1 = fail
  $perfection == 2 ? 1 : 2 = epic fail
  $foobar = 1
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-cas-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apcu-dec" class="function" rel="rdfs-seeAlso">apcu_dec()</a> - Decrease a stored number</span></li>
     <li class="member"><span class="function"><a href="#function.apcu-store" class="function" rel="rdfs-seeAlso">apcu_store()</a> - Cache a variable in the data store</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apcu-clear-cache" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_clear_cache</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_clear_cache</span> &mdash; <span class="dc-title">
     Clears the APCu cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-clear-cache-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_clear_cache</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Clears the cache.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-clear-cache-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-clear-cache-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> always
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-clear-cache-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apcu-cache-info" class="function" rel="rdfs-seeAlso">apcu_cache_info()</a> - Retrieves cached information from APCu's data store</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apcu-dec" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_dec</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_dec</span> &mdash; <span class="dc-title">Decrease a stored number</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apcu-dec-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_dec</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$step</code><span class="initializer"> = 1</span></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter reference">&$success</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ]]] ) : <span class="type">int</span></div>
  
    <p class="para rdfs-comment">
     Decreases a stored integer value.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-dec-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">key</code></dt>
  
      <dd>
  
       <p class="para">
        The key of the value being decreased.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">step</code></dt>
  
      <dd>
  
       <p class="para">
        The step, or value to decrease.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">success</code></dt>
  
      <dd>
  
       <p class="para">
        Optionally pass the success or fail boolean value to
        this referenced variable.
       </p>
      </dd>
  
     
     
      <dt>
  <code class="parameter">ttl</code></dt>
  
      <dd>
  
       <p class="para">
        TTL to use if the operation inserts a new value (rather than decrementing an existing one).
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-dec-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the current value of <code class="parameter">key</code>&#039;s value on success,
      or <strong><code>FALSE</code></strong> on failure
    </p>
   </div>
  
  
   <div class="refsect1 changelog" id="refsect1-function.apcu-dec-changelog">
    <h3 class="title">Changelog</h3>
    <table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td>5.1.12</td>
        <td>
         The <code class="parameter">ttl</code> parameter has been added.
        </td>
       </tr>
  
      </tbody>
     
    </table>
  
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-dec-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-461">
     <p><strong>Example #1 <span class="function"><strong>apcu_dec()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Let's&nbsp;do&nbsp;something&nbsp;with&nbsp;success"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">apcu_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apcu_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">apcu_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'anumber'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$success</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$success</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Now,&nbsp;let's&nbsp;fail"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apcu_dec</span><span style="color: #007700">(</span><span style="color: #DD0000">'astring'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ret</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$fail</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Let&#039;s do something with success
  42
  41
  31
  21
  bool(true)
  Now, let&#039;s fail
  
  bool(false)
  bool(false)
  </pre></div>
     </div>
    </div>
   </div>
  
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-dec-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apcu-inc" class="function" rel="rdfs-seeAlso">apcu_inc()</a> - Increase a stored number</span></li>
    </ul>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apcu-delete" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_delete</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_delete</span> &mdash; <span class="dc-title">
     Removes a stored variable from the cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-delete-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_delete</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$key</code></span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Removes a stored variable from the cache.
    </p>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-delete-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
       <p class="para">
        A <code class="parameter">key</code> used to store the value as a
        <span class="type"><a href="#language.types.string" class="type string">string</a></span> for a single key,
        or as an <span class="type"><a href="#language.types.array" class="type array">array</a></span> of strings for several keys,
        or as an <a href="#class.apcuiterator" class="classname">APCUIterator</a> <span class="type"><a href="#language.types.object" class="type object">object</a></span>.
       </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-delete-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     If <code class="parameter">key</code> is an <span class="type"><a href="#language.types.array" class="type array">array</a></span>, an indexed <span class="type"><a href="#language.types.array" class="type array">array</a></span> of the keys is returned.
     Otherwise <strong><code>TRUE</code></strong> is returned on success, or <strong><code>FALSE</code></strong> on failure.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-delete-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-462">
      <p><strong>Example #1 A <span class="function"><strong>apcu_delete()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apcu_delete</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;obviously&nbsp;useless&nbsp;in&nbsp;this&nbsp;form<br /><br />//&nbsp;Alternatively&nbsp;delete&nbsp;multiple&nbsp;keys.<br /></span><span style="color: #0000BB">apcu_delete</span><span style="color: #007700">([</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;Or&nbsp;use&nbsp;an&nbsp;Iterator&nbsp;with&nbsp;a&nbsp;regular&nbsp;expression.<br /></span><span style="color: #0000BB">apcu_delete</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">APCUIterator</span><span style="color: #007700">(</span><span style="color: #DD0000">'#^myprefix_#'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-delete-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apcu-store" class="function" rel="rdfs-seeAlso">apcu_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-fetch" class="function" rel="rdfs-seeAlso">apcu_fetch()</a> - Fetch a stored variable from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-clear-cache" class="function" rel="rdfs-seeAlso">apcu_clear_cache()</a> - Clears the APCu cache</span></li>
      <li class="member"><a href="#class.apcuiterator" class="classname">APCUIterator</a></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apcu-enabled" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_enabled</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.3)</p><p class="refpurpose"><span class="refname">apcu_enabled</span> &mdash; <span class="dc-title">Whether APCu is usable in the current environment</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apcu-enabled-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_enabled</strong></span>
      ( <span class="methodparam">void</span>
     ) : <span class="type">bool</span></div>
  
    <p class="para rdfs-comment">
     Returns whether APCu is usable in the current environment.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-enabled-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">This function has no parameters.</p>
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-enabled-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> when APCu is usable in the current environment, <strong><code>FALSE</code></strong> otherwise.
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apcu-entry" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_entry</h1>
    <p class="verinfo">(PECL apcu &gt;= 5.1.0)</p><p class="refpurpose"><span class="refname">apcu_entry</span> &mdash; <span class="dc-title">
     Atomically fetch or generate a cache entry
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-entry-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_entry</strong></span>
      ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$key</code></span>
     , <span class="methodparam"><span class="type"><a href="#language.types.callable" class="type callable">callable</a></span> <code class="parameter">$generator</code></span>
     [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$ttl</code><span class="initializer"> = 0</span></span>
    ] ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Atomically attempts to find <code class="parameter">key</code> in the cache, if it cannot be found <code class="parameter">generator</code>
     is called, passing <code class="parameter">key</code> as the only argument. The return value of the call is then cached with the optionally specified
     <code class="parameter">ttl</code>, and returned.
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <span class="simpara">
      When control enters <span class="function"><strong>apcu_entry()</strong></span> the lock for the cache is acquired exclusively, it is released when control leaves <span class="function"><strong>apcu_entry()</strong></span>: 
      In effect, this turns the body of <code class="parameter">generator</code> into a critical section, disallowing two processes from executing the same code paths concurrently.
      In addition, it prohibits the concurrent execution of any other APCu functions, since they will acquire the same lock.
     </span>
    </p></blockquote>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="simpara">
      The only APCu function that can be called safely by <code class="parameter">generator</code> is <span class="function"><strong>apcu_entry()</strong></span>.
     </p>
    </div>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-entry-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         Identity of cache entry
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">generator</code></dt>
  
       <dd>
  
        <p class="para">
         A callable that accepts <code class="parameter">key</code> as the only argument and returns the value to cache.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">ttl</code></dt>
  
       <dd>
  
        <p class="para">
         Time To Live; store <code class="parameter">var</code> in the cache for
         <code class="parameter">ttl</code> seconds. After the
         <code class="parameter">ttl</code> has passed, the stored variable will be
         expunged from the cache (on the next request). If no <code class="parameter">ttl</code>
         is supplied (or if the <code class="parameter">ttl</code> is
         <code class="literal">0</code>), the value will persist until it is removed from
         the cache manually, or otherwise fails to exist in the cache (clear,
         restart, etc.).
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-entry-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns the cached value
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-entry-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-463">
      <p><strong>Example #1 An <span class="function"><strong>apcu_entry()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$config&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apcu_entry</span><span style="color: #007700">(</span><span style="color: #DD0000">"config"</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$key</span><span style="color: #007700">)&nbsp;{<br />&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"fruit"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">apcu_entry</span><span style="color: #007700">(</span><span style="color: #DD0000">"config.fruit"</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$key</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"apples"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"pears"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;}),&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"people"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">apcu_entry</span><span style="color: #007700">(</span><span style="color: #DD0000">"config.people"</span><span style="color: #007700">,&nbsp;function(</span><span style="color: #0000BB">$key</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"bob"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"joe"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"niki"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;})<br />&nbsp;];<br />});<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$config</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  array(2) {
    [&quot;fruit&quot;]=&gt;
    array(2) {
      [0]=&gt;
      string(6) &quot;apples&quot;
      [1]=&gt;
      string(5) &quot;pears&quot;
    }
    [&quot;people&quot;]=&gt;
    array(3) {
      [0]=&gt;
      string(3) &quot;bob&quot;
      [1]=&gt;
      string(3) &quot;joe&quot;
      [2]=&gt;
      string(4) &quot;niki&quot;
    }
  }
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-entry-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apcu-store" class="function" rel="rdfs-seeAlso">apcu_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-fetch" class="function" rel="rdfs-seeAlso">apcu_fetch()</a> - Fetch a stored variable from the cache</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-delete" class="function" rel="rdfs-seeAlso">apcu_delete()</a> - Removes a stored variable from the cache</span></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />
  
  
  
  
  
  
  
  <div id="function.apcu-exists" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_exists</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_exists</span> &mdash; <span class="dc-title">Checks if entry exists</span></p>
  
   </div>
  
   <div class="refsect1 description" id="refsect1-function.apcu-exists-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_exists</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$keys</code></span>
     ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Checks if one or more APCu entries exist.
    </p>
   </div>
  
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-exists-parameters">
    <h3 class="title">Parameters</h3>
    <dl>
  
     
      <dt>
  <code class="parameter">keys</code></dt>
  
      <dd>
  
       <p class="para">
        A <span class="type"><a href="#language.types.string" class="type string">string</a></span>, or an <span class="type"><a href="#language.types.array" class="type array">array</a></span> of strings, that
        contain keys.
       </p>
      </dd>
  
     
    </dl>
  
   </div>
  
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-exists-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     Returns <strong><code>TRUE</code></strong> if the key exists, otherwise <strong><code>FALSE</code></strong> Or if an
     <span class="type"><a href="#language.types.array" class="type array">array</a></span> was passed to <code class="parameter">keys</code>, then
     an array is returned that contains all existing keys, or an empty
     array if none exist.
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-exists-examples">
    <h3 class="title">Examples</h3>
    <div class="example" id="example-464">
     <p><strong>Example #1 <span class="function"><strong>apcu_exists()</strong></span> example</strong></p>
     <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$fruit&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'apple'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$veggie&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'carrot'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$fruit</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$veggie</span><span style="color: #007700">);<br /><br />if&nbsp;(</span><span style="color: #0000BB">apcu_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo&nbsp;exists:&nbsp;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">);<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo&nbsp;does&nbsp;not&nbsp;exist"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />if&nbsp;(</span><span style="color: #0000BB">apcu_exists</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Baz&nbsp;exists."</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Baz&nbsp;does&nbsp;not&nbsp;exist"</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$ret&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">apcu_exists</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'donotexist'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$ret</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
     </div>
  
     <div class="example-contents"><p>The above example will output
  something similar to:</p></div>
     <div class="example-contents screen">
  <div class="cdata"><pre>
  Foo exists: apple
  Baz does not exist
  array(2) {
    [&quot;foo&quot;]=&gt;
    bool(true)
    [&quot;bar&quot;]=&gt;
    bool(true)
  }
  </pre></div>
     </div>
    </div>
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-exists-seealso">
    <h3 class="title">See Also</h3>
    <ul class="simplelist">
     <li class="member"><span class="function"><a href="#function.apcu-cache-info" class="function" rel="rdfs-seeAlso">apcu_cache_info()</a> - Retrieves cached information from APCu's data store</span></li>
     <li class="member"><span class="function"><a href="#function.apcu-fetch" class="function" rel="rdfs-seeAlso">apcu_fetch()</a> - Fetch a stored variable from the cache</span></li>
    </ul>
   </div>
  
  </div>
  <hr />
  
  
  
  
  
  
  <div id="function.apcu-fetch" class="refentry"><hr />
   <div class="refnamediv">
    <h1 class="refname">apcu_fetch</h1>
    <p class="verinfo">(PECL apcu &gt;= 4.0.0)</p><p class="refpurpose"><span class="refname">apcu_fetch</span> &mdash; <span class="dc-title">
     Fetch a stored variable from the cache
    </span></p>
  
   </div>
   <div class="refsect1 description" id="refsect1-function.apcu-fetch-description">
    <h3 class="title">Description</h3>
    <div class="methodsynopsis dc-description">
     <span class="methodname"><strong>apcu_fetch</strong></span>
      ( <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$key</code></span>
     [, <span class="methodparam"><span class="type">bool</span> <code class="parameter reference">&$success</code></span>
    ] ) : <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span></div>
  
    <p class="para rdfs-comment">
     Fetches an entry from the cache.
    </p>
   </div>
  
   <div class="refsect1 parameters" id="refsect1-function.apcu-fetch-parameters">
    <h3 class="title">Parameters</h3>
    <p class="para">
     <dl>
  
      
       <dt>
  <code class="parameter">key</code></dt>
  
       <dd>
  
        <p class="para">
         The <code class="parameter">key</code> used to store the value (with
         <span class="function"><a href="#function.apcu-store" class="function">apcu_store()</a></span>). If an array is passed then each
         element is fetched and returned.
        </p>
       </dd>
  
      
      
       <dt>
  <code class="parameter">success</code></dt>
  
       <dd>
  
        <p class="para">
         Set to <strong><code>TRUE</code></strong> in success and <strong><code>FALSE</code></strong> in failure.
        </p>
       </dd>
  
      
     </dl>
  
    </p>
   </div>
  
   <div class="refsect1 returnvalues" id="refsect1-function.apcu-fetch-returnvalues">
    <h3 class="title">Return Values</h3>
    <p class="para">
     The stored variable or array of variables on success; <strong><code>FALSE</code></strong> on failure
    </p>
   </div>
  
  
   <div class="refsect1 examples" id="refsect1-function.apcu-fetch-examples">
    <h3 class="title">Examples</h3>
    <p class="para">
     <div class="example" id="example-465">
      <p><strong>Example #1 A <span class="function"><strong>apcu_fetch()</strong></span> example</strong></p>
      <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
  <span style="color: #0000BB">&lt;?php<br />$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">apcu_store</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">apcu_fetch</span><span style="color: #007700">(</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
  </span>
  </code></div>
      </div>
  
      <div class="example-contents"><p>The above example will output:</p></div>
      <div class="example-contents screen">
  <div class="cdata"><pre>
  string(3) &quot;BAR&quot;
  </pre></div>
      </div>
     </div>
    </p>
   </div>
  
  
   <div class="refsect1 changelog" id="refsect1-function.apcu-fetch-changelog">
    <h3 class="title">Changelog</h3>
    <table class="doctable informaltable">
     
      <thead>
       <tr>
        <th>Version</th>
        <th>Description</th>
       </tr>
  
      </thead>
  
      <tbody class="tbody">
       <tr>
        <td>3.0.17</td>
        <td>
         The <code class="parameter">success</code> parameter was added.
        </td>
       </tr>
  
      </tbody>
     
    </table>
  
   </div>
  
  
   <div class="refsect1 seealso" id="refsect1-function.apcu-fetch-seealso">
    <h3 class="title">See Also</h3>
    <p class="para">
     <ul class="simplelist">
      <li class="member"><span class="function"><a href="#function.apcu-store" class="function" rel="rdfs-seeAlso">apcu_store()</a> - Cache a variable in the data store</span></li>
      <li class="member"><span class="function"><a href="#function.apcu-delete" class="function" rel="rdfs-seeAlso">apcu_delete()</a> - Removes a stored variable from the cache</span></li>
      <li class="member"><a href="#class.apcuiterator" class="classname">APCUIterator</a></li>
     </ul>
    </p>
   </div>
  
  
  </div>
  <hr />